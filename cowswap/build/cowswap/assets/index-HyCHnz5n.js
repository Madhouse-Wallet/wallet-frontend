import{a as gr,B as pr,c as S,F as lt,m as kn,g as Sr}from"./@1inch-8aFH8gck.js";var Vn={},Ae={},dt=function(t,e){return dt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(i[a]=n[a])},dt(t,e)};function Wn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");dt(t,e);function i(){this.constructor=t}t.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}var Re=function(){return Re=Object.assign||function(e){for(var i,n=1,a=arguments.length;n<a;n++){i=arguments[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Re.apply(this,arguments)};function Hn(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(i[n[a]]=t[n[a]]);return i}function $n(t,e,i,n){var a=arguments.length,r=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,i):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(r=(a<3?s(r):a>3?s(e,i,r):s(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r}function Kn(t,e){return function(i,n){e(i,n,t)}}function Rr(t,e,i,n,a,r){function s(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,h=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,_=!1,l=i.length-1;l>=0;l--){var o={};for(var E in n)o[E]=E==="access"?{}:n[E];for(var E in n.access)o.access[E]=n.access[E];o.addInitializer=function(b){if(_)throw new TypeError("Cannot add initializers after decoration has completed");r.push(s(b||null))};var v=(0,i[l])(c==="accessor"?{get:h.get,set:h.set}:h[d],o);if(c==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=s(v.get))&&(h.get=f),(f=s(v.set))&&(h.set=f),(f=s(v.init))&&a.unshift(f)}else(f=s(v))&&(c==="field"?a.unshift(f):h[d]=f)}u&&Object.defineProperty(u,n.name,h),_=!0}function Or(t,e,i){for(var n=arguments.length>2,a=0;a<e.length;a++)i=n?e[a].call(t,i):e[a].call(t);return n?i:void 0}function Pr(t){return typeof t=="symbol"?t:"".concat(t)}function Ir(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function Yn(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Jn(t,e,i,n){function a(r){return r instanceof i?r:new i(function(s){s(r)})}return new(i||(i=Promise))(function(r,s){function c(h){try{u(n.next(h))}catch(f){s(f)}}function d(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?r(h.value):a(h.value).then(c,d)}u((n=n.apply(t,e||[])).next())})}function Xn(t,e){var i={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,a,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(h){return d([u,h])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(i=0)),i;)try{if(n=1,a&&(r=u[0]&2?a.return:u[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,u[1])).done)return r;switch(a=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,a=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(r=i.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){i=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){i.label=u[1];break}if(u[0]===6&&i.label<r[1]){i.label=r[1],r=u;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(u);break}r[2]&&i.ops.pop(),i.trys.pop();continue}u=e.call(t,i)}catch(h){u=[6,h],a=0}finally{n=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Pe=Object.create?function(t,e,i,n){n===void 0&&(n=i);var a=Object.getOwnPropertyDescriptor(e,i);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,a)}:function(t,e,i,n){n===void 0&&(n=i),t[n]=e[i]};function Zn(t,e){for(var i in t)i!=="default"&&!Object.prototype.hasOwnProperty.call(e,i)&&Pe(e,t,i)}function Oe(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ft(t,e){var i=typeof Symbol=="function"&&t[Symbol.iterator];if(!i)return t;var n=i.call(t),a,r=[],s;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)r.push(a.value)}catch(c){s={error:c}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return r}function xn(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ft(arguments[e]));return t}function er(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var n=Array(t),a=0,e=0;e<i;e++)for(var r=arguments[e],s=0,c=r.length;s<c;s++,a++)n[a]=r[s];return n}function tr(t,e,i){if(i||arguments.length===2)for(var n=0,a=e.length,r;n<a;n++)(r||!(n in e))&&(r||(r=Array.prototype.slice.call(e,0,n)),r[n]=e[n]);return t.concat(r||Array.prototype.slice.call(e))}function q(t){return this instanceof q?(this.v=t,this):new q(t)}function nr(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),a,r=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(_){n[_]&&(a[_]=function(l){return new Promise(function(o,E){r.push([_,l,o,E])>1||c(_,l)})})}function c(_,l){try{d(n[_](l))}catch(o){f(r[0][3],o)}}function d(_){_.value instanceof q?Promise.resolve(_.value.v).then(u,h):f(r[0][2],_)}function u(_){c("next",_)}function h(_){c("throw",_)}function f(_,l){_(l),r.shift(),r.length&&c(r[0][0],r[0][1])}}function rr(t){var e,i;return e={},n("next"),n("throw",function(a){throw a}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(a,r){e[a]=t[a]?function(s){return(i=!i)?{value:q(t[a](s)),done:!1}:r?r(s):s}:r}}function ir(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Oe=="function"?Oe(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=t[r]&&function(s){return new Promise(function(c,d){s=t[r](s),a(c,d,s.done,s.value)})}}function a(r,s,c,d){Promise.resolve(d).then(function(u){r({value:u,done:c})},s)}}function or(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var yr=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function ar(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var i in t)i!=="default"&&Object.prototype.hasOwnProperty.call(t,i)&&Pe(e,t,i);return yr(e,t),e}function sr(t){return t&&t.__esModule?t:{default:t}}function cr(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}function ur(t,e,i,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!a:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(t,i):a?a.value=i:e.set(t,i),i}function dr(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}const Ar={__extends:Wn,__assign:Re,__rest:Hn,__decorate:$n,__param:Kn,__metadata:Yn,__awaiter:Jn,__generator:Xn,__createBinding:Pe,__exportStar:Zn,__values:Oe,__read:ft,__spread:xn,__spreadArrays:er,__spreadArray:tr,__await:q,__asyncGenerator:nr,__asyncDelegator:rr,__asyncValues:ir,__makeTemplateObject:or,__importStar:ar,__importDefault:sr,__classPrivateFieldGet:cr,__classPrivateFieldSet:ur,__classPrivateFieldIn:dr},Nr=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return Re},__asyncDelegator:rr,__asyncGenerator:nr,__asyncValues:ir,__await:q,__awaiter:Jn,__classPrivateFieldGet:cr,__classPrivateFieldIn:dr,__classPrivateFieldSet:ur,__createBinding:Pe,__decorate:$n,__esDecorate:Rr,__exportStar:Zn,__extends:Wn,__generator:Xn,__importDefault:sr,__importStar:ar,__makeTemplateObject:or,__metadata:Yn,__param:Kn,__propKey:Pr,__read:ft,__rest:Hn,__runInitializers:Or,__setFunctionName:Ir,__spread:xn,__spreadArray:tr,__spreadArrays:er,__values:Oe,default:Ar},Symbol.toStringTag,{value:"Module"})),Ie=gr(Nr);var O={},Ne={},Et;function _t(){return Et||(Et=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.LIBUSB_ERROR_MESSAGE=t.WEBUSB_ERROR_MESSAGE=t.INVALID_PIN_ERROR_MESSAGE=t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE=t.serializeError=t.TypedError=t.TrezorError=t.ERROR_CODES=void 0,t.ERROR_CODES={Init_NotInitialized:"TrezorConnect not initialized",Init_AlreadyInitialized:"TrezorConnect has been already initialized",Init_IframeBlocked:"Iframe blocked",Init_IframeTimeout:"Iframe timeout",Init_ManifestMissing:"Manifest not set. Read more at https://github.com/trezor/trezor-suite/blob/develop/docs/packages/connect/index.md",Popup_ConnectionMissing:"Unable to establish connection with iframe",Transport_Missing:"Transport is missing",Transport_InvalidProtobuf:"",Method_InvalidPackage:"This package is not suitable to work with browser. Use @trezor/connect-web package instead",Method_InvalidParameter:"",Method_NotAllowed:"Method not allowed for this configuration",Method_PermissionsNotGranted:"Permissions not granted",Method_Cancel:"Cancelled",Method_Interrupted:"Popup closed",Method_UnknownCoin:"Coin not found",Method_AddressNotMatch:"Addresses do not match",Method_FirmwareUpdate_DownloadFailed:"Failed to download firmware binary",Method_Discovery_BundleException:"",Method_Override:"override",Method_NoResponse:"Call resolved without response",Backend_NotSupported:"BlockchainLink settings not found in coins.json",Backend_WorkerMissing:"",Backend_Disconnected:"Backend disconnected",Backend_Invalid:"Invalid backend",Backend_Error:"",Runtime:"",Device_NotFound:"Device not found",Device_InitializeFailed:"",Device_FwException:"",Device_ModeException:"",Device_Disconnected:"Device disconnected",Device_UsedElsewhere:"Device is used in another window",Device_InvalidState:"Passphrase is incorrect",Device_CallInProgress:"Device call in progress"};class e extends Error{constructor(r,s){super(s),this.code=r,this.message=s}}t.TrezorError=e;const i=(a,r)=>new e(a,r||t.ERROR_CODES[a]);t.TypedError=i;const n=a=>a&&a.error instanceof Error?{error:a.error.message,code:a.error.code}:a;t.serializeError=n,t.WRONG_PREVIOUS_SESSION_ERROR_MESSAGE="wrong previous session",t.INVALID_PIN_ERROR_MESSAGE="PIN invalid",t.WEBUSB_ERROR_MESSAGE="NetworkError: Unable to claim interface.",t.LIBUSB_ERROR_MESSAGE="LIBUSB_ERROR"}(Ne)),Ne}var j={},mt;function wr(){return mt||(mt=1,Object.defineProperty(j,"__esModule",{value:!0}),j.TYPES=void 0,j.TYPES={bitcoin:"Bitcoin",ethereum:"Ethereum",eos:"Eos",nem:"NEM",stellar:"Stellar",cardano:"Cardano",ripple:"Ripple",tezos:"Tezos",binance:"Binance"}),j}var we={},vt;function Tr(){return vt||(vt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.NETWORK_IDS=t.PROTOCOL_MAGICS=void 0,function(e){e[e.mainnet=764824073]="mainnet",e[e.testnet_preprod=1]="testnet_preprod",e[e.testnet_preview=2]="testnet_preview",e[e.testnet_legacy=1097911063]="testnet_legacy"}(t.PROTOCOL_MAGICS||(t.PROTOCOL_MAGICS={})),function(e){e[e.mainnet=1]="mainnet",e[e.testnet=0]="testnet"}(t.NETWORK_IDS||(t.NETWORK_IDS={}))}(we)),we}var Te={},bt;function Ur(){return bt||(bt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TxVersion=t.TxType=t.Networks=void 0,function(e){e[e.mainnet=104]="mainnet",e[e.testnet=152]="testnet",e[e.mijin=96]="mijin"}(t.Networks||(t.Networks={})),function(e){e[e.TRANSFER=257]="TRANSFER",e[e.COSIGNING=258]="COSIGNING",e[e.IMPORTANCE_TRANSFER=2049]="IMPORTANCE_TRANSFER",e[e.AGGREGATE_MODIFICATION=4097]="AGGREGATE_MODIFICATION",e[e.MULTISIG_SIGNATURE=4098]="MULTISIG_SIGNATURE",e[e.MULTISIG=4100]="MULTISIG",e[e.PROVISION_NAMESPACE=8193]="PROVISION_NAMESPACE",e[e.MOSAIC_CREATION=16385]="MOSAIC_CREATION",e[e.SUPPLY_CHANGE=16386]="SUPPLY_CHANGE"}(t.TxType||(t.TxType={})),function(e){e[e.mainnet=1744830464]="mainnet",e[e.testnet=-1744830464]="testnet",e[e.mijin=1610612736]="mijin"}(t.TxVersion||(t.TxVersion={}))}(Te)),Te}var Ue={},gt;function Mr(){return gt||(gt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.TezosBallotType=t.TezosContractType=t.StellarSignerType=t.StellarMemoType=t.StellarAssetType=t.NEMImportanceTransferMode=t.NEMModificationType=t.NEMSupplyChangeType=t.NEMMosaicLevy=t.MoneroNetworkType=t.Enum_WordRequestType=t.RecoveryDeviceType=t.SdProtectOperationType=t.Enum_Capability=t.Enum_HomescreenFormat=t.Enum_SafetyCheckLevel=t.Enum_BackupType=t.EthereumDataType=t.EthereumDefinitionType=t.DebugButton=t.Enum_PinMatrixRequestType=t.Enum_ButtonRequestType=t.FailureType=t.CardanoTxWitnessType=t.CardanoTxSigningMode=t.CardanoCVoteRegistrationFormat=t.CardanoTxAuxiliaryDataSupplementType=t.CardanoPoolRelayType=t.CardanoCertificateType=t.CardanoTxOutputSerializationFormat=t.CardanoNativeScriptHashDisplayFormat=t.CardanoNativeScriptType=t.CardanoAddressType=t.CardanoDerivationType=t.Enum_RequestType=t.AmountUnit=t.DecredStakingSpendType=t.Enum_OutputScriptType=t.Enum_InputScriptType=t.BinanceTimeInForce=t.BinanceOrderSide=t.BinanceOrderType=void 0,function(e){e[e.OT_UNKNOWN=0]="OT_UNKNOWN",e[e.MARKET=1]="MARKET",e[e.LIMIT=2]="LIMIT",e[e.OT_RESERVED=3]="OT_RESERVED"}(t.BinanceOrderType||(t.BinanceOrderType={})),function(e){e[e.SIDE_UNKNOWN=0]="SIDE_UNKNOWN",e[e.BUY=1]="BUY",e[e.SELL=2]="SELL"}(t.BinanceOrderSide||(t.BinanceOrderSide={})),function(e){e[e.TIF_UNKNOWN=0]="TIF_UNKNOWN",e[e.GTE=1]="GTE",e[e.TIF_RESERVED=2]="TIF_RESERVED",e[e.IOC=3]="IOC"}(t.BinanceTimeInForce||(t.BinanceTimeInForce={})),function(e){e[e.SPENDADDRESS=0]="SPENDADDRESS",e[e.SPENDMULTISIG=1]="SPENDMULTISIG",e[e.EXTERNAL=2]="EXTERNAL",e[e.SPENDWITNESS=3]="SPENDWITNESS",e[e.SPENDP2SHWITNESS=4]="SPENDP2SHWITNESS",e[e.SPENDTAPROOT=5]="SPENDTAPROOT"}(t.Enum_InputScriptType||(t.Enum_InputScriptType={})),function(e){e[e.PAYTOADDRESS=0]="PAYTOADDRESS",e[e.PAYTOSCRIPTHASH=1]="PAYTOSCRIPTHASH",e[e.PAYTOMULTISIG=2]="PAYTOMULTISIG",e[e.PAYTOOPRETURN=3]="PAYTOOPRETURN",e[e.PAYTOWITNESS=4]="PAYTOWITNESS",e[e.PAYTOP2SHWITNESS=5]="PAYTOP2SHWITNESS",e[e.PAYTOTAPROOT=6]="PAYTOTAPROOT"}(t.Enum_OutputScriptType||(t.Enum_OutputScriptType={})),function(e){e[e.SSGen=0]="SSGen",e[e.SSRTX=1]="SSRTX"}(t.DecredStakingSpendType||(t.DecredStakingSpendType={})),function(e){e[e.BITCOIN=0]="BITCOIN",e[e.MILLIBITCOIN=1]="MILLIBITCOIN",e[e.MICROBITCOIN=2]="MICROBITCOIN",e[e.SATOSHI=3]="SATOSHI"}(t.AmountUnit||(t.AmountUnit={})),function(e){e[e.TXINPUT=0]="TXINPUT",e[e.TXOUTPUT=1]="TXOUTPUT",e[e.TXMETA=2]="TXMETA",e[e.TXFINISHED=3]="TXFINISHED",e[e.TXEXTRADATA=4]="TXEXTRADATA",e[e.TXORIGINPUT=5]="TXORIGINPUT",e[e.TXORIGOUTPUT=6]="TXORIGOUTPUT",e[e.TXPAYMENTREQ=7]="TXPAYMENTREQ"}(t.Enum_RequestType||(t.Enum_RequestType={})),function(e){e[e.LEDGER=0]="LEDGER",e[e.ICARUS=1]="ICARUS",e[e.ICARUS_TREZOR=2]="ICARUS_TREZOR"}(t.CardanoDerivationType||(t.CardanoDerivationType={})),function(e){e[e.BASE=0]="BASE",e[e.BASE_SCRIPT_KEY=1]="BASE_SCRIPT_KEY",e[e.BASE_KEY_SCRIPT=2]="BASE_KEY_SCRIPT",e[e.BASE_SCRIPT_SCRIPT=3]="BASE_SCRIPT_SCRIPT",e[e.POINTER=4]="POINTER",e[e.POINTER_SCRIPT=5]="POINTER_SCRIPT",e[e.ENTERPRISE=6]="ENTERPRISE",e[e.ENTERPRISE_SCRIPT=7]="ENTERPRISE_SCRIPT",e[e.BYRON=8]="BYRON",e[e.REWARD=14]="REWARD",e[e.REWARD_SCRIPT=15]="REWARD_SCRIPT"}(t.CardanoAddressType||(t.CardanoAddressType={})),function(e){e[e.PUB_KEY=0]="PUB_KEY",e[e.ALL=1]="ALL",e[e.ANY=2]="ANY",e[e.N_OF_K=3]="N_OF_K",e[e.INVALID_BEFORE=4]="INVALID_BEFORE",e[e.INVALID_HEREAFTER=5]="INVALID_HEREAFTER"}(t.CardanoNativeScriptType||(t.CardanoNativeScriptType={})),function(e){e[e.HIDE=0]="HIDE",e[e.BECH32=1]="BECH32",e[e.POLICY_ID=2]="POLICY_ID"}(t.CardanoNativeScriptHashDisplayFormat||(t.CardanoNativeScriptHashDisplayFormat={})),function(e){e[e.ARRAY_LEGACY=0]="ARRAY_LEGACY",e[e.MAP_BABBAGE=1]="MAP_BABBAGE"}(t.CardanoTxOutputSerializationFormat||(t.CardanoTxOutputSerializationFormat={})),function(e){e[e.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",e[e.STAKE_DEREGISTRATION=1]="STAKE_DEREGISTRATION",e[e.STAKE_DELEGATION=2]="STAKE_DELEGATION",e[e.STAKE_POOL_REGISTRATION=3]="STAKE_POOL_REGISTRATION"}(t.CardanoCertificateType||(t.CardanoCertificateType={})),function(e){e[e.SINGLE_HOST_IP=0]="SINGLE_HOST_IP",e[e.SINGLE_HOST_NAME=1]="SINGLE_HOST_NAME",e[e.MULTIPLE_HOST_NAME=2]="MULTIPLE_HOST_NAME"}(t.CardanoPoolRelayType||(t.CardanoPoolRelayType={})),function(e){e[e.NONE=0]="NONE",e[e.CVOTE_REGISTRATION_SIGNATURE=1]="CVOTE_REGISTRATION_SIGNATURE"}(t.CardanoTxAuxiliaryDataSupplementType||(t.CardanoTxAuxiliaryDataSupplementType={})),function(e){e[e.CIP15=0]="CIP15",e[e.CIP36=1]="CIP36"}(t.CardanoCVoteRegistrationFormat||(t.CardanoCVoteRegistrationFormat={})),function(e){e[e.ORDINARY_TRANSACTION=0]="ORDINARY_TRANSACTION",e[e.POOL_REGISTRATION_AS_OWNER=1]="POOL_REGISTRATION_AS_OWNER",e[e.MULTISIG_TRANSACTION=2]="MULTISIG_TRANSACTION",e[e.PLUTUS_TRANSACTION=3]="PLUTUS_TRANSACTION"}(t.CardanoTxSigningMode||(t.CardanoTxSigningMode={})),function(e){e[e.BYRON_WITNESS=0]="BYRON_WITNESS",e[e.SHELLEY_WITNESS=1]="SHELLEY_WITNESS"}(t.CardanoTxWitnessType||(t.CardanoTxWitnessType={})),function(e){e[e.Failure_UnexpectedMessage=1]="Failure_UnexpectedMessage",e[e.Failure_ButtonExpected=2]="Failure_ButtonExpected",e[e.Failure_DataError=3]="Failure_DataError",e[e.Failure_ActionCancelled=4]="Failure_ActionCancelled",e[e.Failure_PinExpected=5]="Failure_PinExpected",e[e.Failure_PinCancelled=6]="Failure_PinCancelled",e[e.Failure_PinInvalid=7]="Failure_PinInvalid",e[e.Failure_InvalidSignature=8]="Failure_InvalidSignature",e[e.Failure_ProcessError=9]="Failure_ProcessError",e[e.Failure_NotEnoughFunds=10]="Failure_NotEnoughFunds",e[e.Failure_NotInitialized=11]="Failure_NotInitialized",e[e.Failure_PinMismatch=12]="Failure_PinMismatch",e[e.Failure_WipeCodeMismatch=13]="Failure_WipeCodeMismatch",e[e.Failure_InvalidSession=14]="Failure_InvalidSession",e[e.Failure_FirmwareError=99]="Failure_FirmwareError"}(t.FailureType||(t.FailureType={})),function(e){e[e.ButtonRequest_Other=1]="ButtonRequest_Other",e[e.ButtonRequest_FeeOverThreshold=2]="ButtonRequest_FeeOverThreshold",e[e.ButtonRequest_ConfirmOutput=3]="ButtonRequest_ConfirmOutput",e[e.ButtonRequest_ResetDevice=4]="ButtonRequest_ResetDevice",e[e.ButtonRequest_ConfirmWord=5]="ButtonRequest_ConfirmWord",e[e.ButtonRequest_WipeDevice=6]="ButtonRequest_WipeDevice",e[e.ButtonRequest_ProtectCall=7]="ButtonRequest_ProtectCall",e[e.ButtonRequest_SignTx=8]="ButtonRequest_SignTx",e[e.ButtonRequest_FirmwareCheck=9]="ButtonRequest_FirmwareCheck",e[e.ButtonRequest_Address=10]="ButtonRequest_Address",e[e.ButtonRequest_PublicKey=11]="ButtonRequest_PublicKey",e[e.ButtonRequest_MnemonicWordCount=12]="ButtonRequest_MnemonicWordCount",e[e.ButtonRequest_MnemonicInput=13]="ButtonRequest_MnemonicInput",e[e._Deprecated_ButtonRequest_PassphraseType=14]="_Deprecated_ButtonRequest_PassphraseType",e[e.ButtonRequest_UnknownDerivationPath=15]="ButtonRequest_UnknownDerivationPath",e[e.ButtonRequest_RecoveryHomepage=16]="ButtonRequest_RecoveryHomepage",e[e.ButtonRequest_Success=17]="ButtonRequest_Success",e[e.ButtonRequest_Warning=18]="ButtonRequest_Warning",e[e.ButtonRequest_PassphraseEntry=19]="ButtonRequest_PassphraseEntry",e[e.ButtonRequest_PinEntry=20]="ButtonRequest_PinEntry"}(t.Enum_ButtonRequestType||(t.Enum_ButtonRequestType={})),function(e){e[e.PinMatrixRequestType_Current=1]="PinMatrixRequestType_Current",e[e.PinMatrixRequestType_NewFirst=2]="PinMatrixRequestType_NewFirst",e[e.PinMatrixRequestType_NewSecond=3]="PinMatrixRequestType_NewSecond",e[e.PinMatrixRequestType_WipeCodeFirst=4]="PinMatrixRequestType_WipeCodeFirst",e[e.PinMatrixRequestType_WipeCodeSecond=5]="PinMatrixRequestType_WipeCodeSecond"}(t.Enum_PinMatrixRequestType||(t.Enum_PinMatrixRequestType={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.INFO=2]="INFO"}(t.DebugButton||(t.DebugButton={})),function(e){e[e.NETWORK=0]="NETWORK",e[e.TOKEN=1]="TOKEN"}(t.EthereumDefinitionType||(t.EthereumDefinitionType={})),function(e){e[e.UINT=1]="UINT",e[e.INT=2]="INT",e[e.BYTES=3]="BYTES",e[e.STRING=4]="STRING",e[e.BOOL=5]="BOOL",e[e.ADDRESS=6]="ADDRESS",e[e.ARRAY=7]="ARRAY",e[e.STRUCT=8]="STRUCT"}(t.EthereumDataType||(t.EthereumDataType={})),function(e){e[e.Bip39=0]="Bip39",e[e.Slip39_Basic=1]="Slip39_Basic",e[e.Slip39_Advanced=2]="Slip39_Advanced"}(t.Enum_BackupType||(t.Enum_BackupType={})),function(e){e[e.Strict=0]="Strict",e[e.PromptAlways=1]="PromptAlways",e[e.PromptTemporarily=2]="PromptTemporarily"}(t.Enum_SafetyCheckLevel||(t.Enum_SafetyCheckLevel={})),function(e){e[e.Toif144x144=1]="Toif144x144",e[e.Jpeg240x240=2]="Jpeg240x240"}(t.Enum_HomescreenFormat||(t.Enum_HomescreenFormat={})),function(e){e[e.Capability_Bitcoin=1]="Capability_Bitcoin",e[e.Capability_Bitcoin_like=2]="Capability_Bitcoin_like",e[e.Capability_Binance=3]="Capability_Binance",e[e.Capability_Cardano=4]="Capability_Cardano",e[e.Capability_Crypto=5]="Capability_Crypto",e[e.Capability_EOS=6]="Capability_EOS",e[e.Capability_Ethereum=7]="Capability_Ethereum",e[e.Capability_Lisk=8]="Capability_Lisk",e[e.Capability_Monero=9]="Capability_Monero",e[e.Capability_NEM=10]="Capability_NEM",e[e.Capability_Ripple=11]="Capability_Ripple",e[e.Capability_Stellar=12]="Capability_Stellar",e[e.Capability_Tezos=13]="Capability_Tezos",e[e.Capability_U2F=14]="Capability_U2F",e[e.Capability_Shamir=15]="Capability_Shamir",e[e.Capability_ShamirGroups=16]="Capability_ShamirGroups",e[e.Capability_PassphraseEntry=17]="Capability_PassphraseEntry"}(t.Enum_Capability||(t.Enum_Capability={})),function(e){e[e.DISABLE=0]="DISABLE",e[e.ENABLE=1]="ENABLE",e[e.REFRESH=2]="REFRESH"}(t.SdProtectOperationType||(t.SdProtectOperationType={})),function(e){e[e.RecoveryDeviceType_ScrambledWords=0]="RecoveryDeviceType_ScrambledWords",e[e.RecoveryDeviceType_Matrix=1]="RecoveryDeviceType_Matrix"}(t.RecoveryDeviceType||(t.RecoveryDeviceType={})),function(e){e[e.WordRequestType_Plain=0]="WordRequestType_Plain",e[e.WordRequestType_Matrix9=1]="WordRequestType_Matrix9",e[e.WordRequestType_Matrix6=2]="WordRequestType_Matrix6"}(t.Enum_WordRequestType||(t.Enum_WordRequestType={})),function(e){e[e.MAINNET=0]="MAINNET",e[e.TESTNET=1]="TESTNET",e[e.STAGENET=2]="STAGENET",e[e.FAKECHAIN=3]="FAKECHAIN"}(t.MoneroNetworkType||(t.MoneroNetworkType={})),function(e){e[e.MosaicLevy_Absolute=1]="MosaicLevy_Absolute",e[e.MosaicLevy_Percentile=2]="MosaicLevy_Percentile"}(t.NEMMosaicLevy||(t.NEMMosaicLevy={})),function(e){e[e.SupplyChange_Increase=1]="SupplyChange_Increase",e[e.SupplyChange_Decrease=2]="SupplyChange_Decrease"}(t.NEMSupplyChangeType||(t.NEMSupplyChangeType={})),function(e){e[e.CosignatoryModification_Add=1]="CosignatoryModification_Add",e[e.CosignatoryModification_Delete=2]="CosignatoryModification_Delete"}(t.NEMModificationType||(t.NEMModificationType={})),function(e){e[e.ImportanceTransfer_Activate=1]="ImportanceTransfer_Activate",e[e.ImportanceTransfer_Deactivate=2]="ImportanceTransfer_Deactivate"}(t.NEMImportanceTransferMode||(t.NEMImportanceTransferMode={})),function(e){e[e.NATIVE=0]="NATIVE",e[e.ALPHANUM4=1]="ALPHANUM4",e[e.ALPHANUM12=2]="ALPHANUM12"}(t.StellarAssetType||(t.StellarAssetType={})),function(e){e[e.NONE=0]="NONE",e[e.TEXT=1]="TEXT",e[e.ID=2]="ID",e[e.HASH=3]="HASH",e[e.RETURN=4]="RETURN"}(t.StellarMemoType||(t.StellarMemoType={})),function(e){e[e.ACCOUNT=0]="ACCOUNT",e[e.PRE_AUTH=1]="PRE_AUTH",e[e.HASH=2]="HASH"}(t.StellarSignerType||(t.StellarSignerType={})),function(e){e[e.Implicit=0]="Implicit",e[e.Originated=1]="Originated"}(t.TezosContractType||(t.TezosContractType={})),function(e){e[e.Yay=0]="Yay",e[e.Nay=1]="Nay",e[e.Pass=2]="Pass"}(t.TezosBallotType||(t.TezosBallotType={}))}(Ue)),Ue}var pt;function Cr(){if(pt)return O;pt=1,Object.defineProperty(O,"__esModule",{value:!0}),O.PROTO=O.NEM=O.CARDANO=O.NETWORK=O.ERRORS=void 0;const t=Ie;return O.ERRORS=t.__importStar(_t()),O.NETWORK=t.__importStar(wr()),O.CARDANO=t.__importStar(Tr()),O.NEM=t.__importStar(Ur()),O.PROTO=t.__importStar(Mr()),O}var Me={},Ce={},St;function ve(){return St||(St=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createUiMessage=t.UI_REQUEST=t.UI_EVENT=void 0,t.UI_EVENT="UI_EVENT",t.UI_REQUEST={TRANSPORT:"ui-no_transport",BOOTLOADER:"ui-device_bootloader_mode",NOT_IN_BOOTLOADER:"ui-device_not_in_bootloader_mode",REQUIRE_MODE:"ui-device_require_mode",INITIALIZE:"ui-device_not_initialized",SEEDLESS:"ui-device_seedless",FIRMWARE_OLD:"ui-device_firmware_old",FIRMWARE_OUTDATED:"ui-device_firmware_outdated",FIRMWARE_NOT_SUPPORTED:"ui-device_firmware_unsupported",FIRMWARE_NOT_COMPATIBLE:"ui-device_firmware_not_compatible",FIRMWARE_NOT_INSTALLED:"ui-device_firmware_not_installed",FIRMWARE_PROGRESS:"ui-firmware-progress",DEVICE_NEEDS_BACKUP:"ui-device_needs_backup",REQUEST_UI_WINDOW:"ui-request_window",CLOSE_UI_WINDOW:"ui-close_window",REQUEST_PERMISSION:"ui-request_permission",REQUEST_CONFIRMATION:"ui-request_confirmation",REQUEST_PIN:"ui-request_pin",INVALID_PIN:"ui-invalid_pin",REQUEST_PASSPHRASE:"ui-request_passphrase",REQUEST_PASSPHRASE_ON_DEVICE:"ui-request_passphrase_on_device",INVALID_PASSPHRASE:"ui-invalid_passphrase",CONNECT:"ui-connect",LOADING:"ui-loading",SET_OPERATION:"ui-set_operation",SELECT_DEVICE:"ui-select_device",SELECT_ACCOUNT:"ui-select_account",SELECT_FEE:"ui-select_fee",UPDATE_CUSTOM_FEE:"ui-update_custom_fee",INSUFFICIENT_FUNDS:"ui-insufficient_funds",REQUEST_BUTTON:"ui-button",REQUEST_WORD:"ui-request_word",LOGIN_CHALLENGE_REQUEST:"ui-login_challenge_request",BUNDLE_PROGRESS:"ui-bundle_progress",ADDRESS_VALIDATION:"ui-address_validation",IFRAME_FAILURE:"ui-iframe_failure"};const e=(i,n)=>({event:t.UI_EVENT,type:i,payload:n});t.createUiMessage=e}(Ce)),Ce}var C={},Rt;function Ot(){if(Rt)return C;Rt=1,Object.defineProperty(C,"__esModule",{value:!0}),C.createUiResponse=C.UI_RESPONSE=void 0;const t=ve();C.UI_RESPONSE={RECEIVE_PERMISSION:"ui-receive_permission",RECEIVE_CONFIRMATION:"ui-receive_confirmation",RECEIVE_PIN:"ui-receive_pin",RECEIVE_PASSPHRASE:"ui-receive_passphrase",RECEIVE_DEVICE:"ui-receive_device",RECEIVE_ACCOUNT:"ui-receive_account",RECEIVE_FEE:"ui-receive_fee",RECEIVE_WORD:"ui-receive_word",INVALID_PASSPHRASE_ACTION:"ui-invalid_passphrase_action",CHANGE_SETTINGS:"ui-change_settings",LOGIN_CHALLENGE_RESPONSE:"ui-login_challenge_response"};const e=(i,n)=>({event:t.UI_EVENT,type:i,payload:n});return C.createUiResponse=e,C}var Le={},Pt;function Lr(){return Pt||(Pt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createBlockchainMessage=t.BLOCKCHAIN=t.BLOCKCHAIN_EVENT=void 0,t.BLOCKCHAIN_EVENT="BLOCKCHAIN_EVENT",t.BLOCKCHAIN={CONNECT:"blockchain-connect",ERROR:"blockchain-error",BLOCK:"blockchain-block",NOTIFICATION:"blockchain-notification",FIAT_RATES_UPDATE:"fiat-rates-update"};const e=(i,n)=>({event:t.BLOCKCHAIN_EVENT,type:i,payload:n});t.createBlockchainMessage=e}(Le)),Le}var De={},It;function Dr(){return It||(It=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseMessage=t.RESPONSE_EVENT=void 0;const e=_t();t.RESPONSE_EVENT="RESPONSE_EVENT";const i=(n,a,r)=>({event:t.RESPONSE_EVENT,type:t.RESPONSE_EVENT,id:n,success:a,payload:a?r:(0,e.serializeError)(r)});t.createResponseMessage=i}(De)),De}var w={},yt;function Br(){if(yt)return w;yt=1,Object.defineProperty(w,"__esModule",{value:!0}),w.createErrorMessage=w.parseMessage=w.CORE_EVENT=void 0,w.CORE_EVENT="CORE_EVENT";const t=i=>{const n={event:i.event,type:i.type,payload:i.payload};return typeof i.id=="number"&&(n.id=i.id),typeof i.success=="boolean"&&(n.success=i.success),n};w.parseMessage=t;const e=i=>({success:!1,payload:{error:i.message,code:i.code}});return w.createErrorMessage=e,w}var Be={},At;function Fr(){return At||(At=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createDeviceMessage=t.DEVICE=t.DEVICE_EVENT=void 0,t.DEVICE_EVENT="DEVICE_EVENT",t.DEVICE={CONNECT:"device-connect",CONNECT_UNACQUIRED:"device-connect_unacquired",DISCONNECT:"device-disconnect",CHANGED:"device-changed",ACQUIRE:"device-acquire",RELEASE:"device-release",ACQUIRED:"device-acquired",RELEASED:"device-released",USED_ELSEWHERE:"device-used_elsewhere",LOADING:"device-loading",BUTTON:"button",PIN:"pin",PASSPHRASE:"passphrase",PASSPHRASE_ON_DEVICE:"passphrase_on_device",WORD:"word"};const e=(i,n)=>({event:t.DEVICE_EVENT,type:i,payload:n});t.createDeviceMessage=e}(Be)),Be}var L={},Nt;function qr(){if(Nt)return L;Nt=1,Object.defineProperty(L,"__esModule",{value:!0}),L.createIFrameMessage=L.IFRAME=void 0;const t=ve();L.IFRAME={BOOTSTRAP:"iframe-bootstrap",LOADED:"iframe-loaded",INIT:"iframe-init",ERROR:"iframe-error",CALL:"iframe-call"};const e=(i,n)=>({event:t.UI_EVENT,type:i,payload:n});return L.createIFrameMessage=e,L}var D={},wt;function jr(){if(wt)return D;wt=1,Object.defineProperty(D,"__esModule",{value:!0}),D.createPopupMessage=D.POPUP=void 0;const t=ve();D.POPUP={BOOTSTRAP:"popup-bootstrap",LOADED:"popup-loaded",INIT:"popup-init",ERROR:"popup-error",EXTENSION_USB_PERMISSIONS:"open-usb-permissions",HANDSHAKE:"popup-handshake",CLOSED:"popup-closed",CANCEL_POPUP_REQUEST:"ui-cancel-popup-request",CLOSE_WINDOW:"window.close"};const e=(i,n)=>({event:t.UI_EVENT,type:i,payload:n});return D.createPopupMessage=e,D}var Fe={},Tt;function Qr(){return Tt||(Tt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createTransportMessage=t.TRANSPORT=t.TRANSPORT_EVENT=void 0;const e=_t();t.TRANSPORT_EVENT="TRANSPORT_EVENT",t.TRANSPORT={START:"transport-start",ERROR:"transport-error",UPDATE:"transport-update",STREAM:"transport-stream",REQUEST_DEVICE:"transport-request_device",DISABLE_WEBUSB:"transport-disable_webusb",START_PENDING:"transport-start_pending"};const i=(n,a)=>({event:t.TRANSPORT_EVENT,type:n,payload:"error"in a?(0,e.serializeError)(a):a});t.createTransportMessage=i}(Fe)),Fe}var qe={},Ut;function zr(){return Ut||(Ut=1,Object.defineProperty(qe,"__esModule",{value:!0})),qe}var Mt;function lr(){return Mt||(Mt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;const e=Ie,i=ve(),n=Ot();e.__exportStar(Lr(),t),e.__exportStar(Dr(),t),e.__exportStar(Br(),t),e.__exportStar(Fr(),t),e.__exportStar(qr(),t),e.__exportStar(jr(),t),e.__exportStar(Qr(),t),e.__exportStar(zr(),t),e.__exportStar(ve(),t),e.__exportStar(Ot(),t),t.UI={...i.UI_REQUEST,...n.UI_RESPONSE}}(Me)),Me}var je={},Qe={},Ct;function Gr(){return Ct||(Ct=1,Object.defineProperty(Qe,"__esModule",{value:!0})),Qe}var ze={},Lt;function kr(){return Lt||(Lt=1,Object.defineProperty(ze,"__esModule",{value:!0})),ze}var Ge={},Dt;function Vr(){return Dt||(Dt=1,Object.defineProperty(Ge,"__esModule",{value:!0})),Ge}var ke={},Bt;function Wr(){return Bt||(Bt=1,Object.defineProperty(ke,"__esModule",{value:!0})),ke}var Ve={},Ft;function Hr(){return Ft||(Ft=1,Object.defineProperty(Ve,"__esModule",{value:!0})),Ve}var We={},qt;function $r(){return qt||(qt=1,Object.defineProperty(We,"__esModule",{value:!0})),We}var He={},jt;function Kr(){return jt||(jt=1,Object.defineProperty(He,"__esModule",{value:!0})),He}var $e={},Qt;function Yr(){return Qt||(Qt=1,Object.defineProperty($e,"__esModule",{value:!0})),$e}var Ke={},zt;function Jr(){return zt||(zt=1,Object.defineProperty(Ke,"__esModule",{value:!0})),Ke}var Ye={},Gt;function Xr(){return Gt||(Gt=1,Object.defineProperty(Ye,"__esModule",{value:!0})),Ye}var Je={},kt;function Zr(){return kt||(kt=1,Object.defineProperty(Je,"__esModule",{value:!0})),Je}var Xe={},Vt;function xr(){return Vt||(Vt=1,Object.defineProperty(Xe,"__esModule",{value:!0})),Xe}var Ze={},Wt;function ei(){return Wt||(Wt=1,Object.defineProperty(Ze,"__esModule",{value:!0})),Ze}var xe={},Ht;function ti(){return Ht||(Ht=1,Object.defineProperty(xe,"__esModule",{value:!0})),xe}var et={},$t;function ni(){return $t||($t=1,Object.defineProperty(et,"__esModule",{value:!0})),et}var Kt;function ri(){return Kt||(Kt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Ie;e.__exportStar(Gr(),t),e.__exportStar(kr(),t),e.__exportStar(Vr(),t),e.__exportStar(Wr(),t),e.__exportStar(Hr(),t),e.__exportStar($r(),t),e.__exportStar(Kr(),t),e.__exportStar(Yr(),t),e.__exportStar(Jr(),t),e.__exportStar(Xr(),t),e.__exportStar(Zr(),t),e.__exportStar(xr(),t),e.__exportStar(ei(),t),e.__exportStar(ti(),t),e.__exportStar(ni(),t)}(je)),je}var tt={},nt={},Yt;function ii(){return Yt||(Yt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DOMAIN=t.VERSION=void 0,t.VERSION="9.0.11";const e=t.VERSION.split(".").map(i=>parseInt(i,10));t.DEFAULT_DOMAIN=`https://connect.trezor.io/${e[0]}/`}(nt)),nt}var Jt;function oi(){return Jt||(Jt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectSettings=t.corsValidator=t.DEFAULT_PRIORITY=void 0;const e=ii();t.DEFAULT_PRIORITY=2;const i={configSrc:"./data/config.json",version:e.VERSION,debug:!1,priority:t.DEFAULT_PRIORITY,trustedHost:!0,connectSrc:e.DEFAULT_DOMAIN,iframeSrc:`${e.DEFAULT_DOMAIN}iframe.html`,popup:!1,popupSrc:`${e.DEFAULT_DOMAIN}popup.html`,webusbSrc:`${e.DEFAULT_DOMAIN}webusb.html`,transports:void 0,pendingTransportEvent:!0,env:"node",lazyLoad:!1,timestamp:new Date().getTime(),interactionTimeout:600},n=s=>{if(s&&typeof s.email=="string"&&typeof s.appUrl=="string")return{email:s.email,appUrl:s.appUrl}},a=s=>{if(typeof s=="string"&&(s.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*trezor\.io\//)||s.match(/^https?:\/\/localhost:[58][0-9]{3}\//)||s.match(/^https:\/\/([A-Za-z0-9\-_]+\.)*sldev\.cz\//)||s.match(/^https?:\/\/([A-Za-z0-9\-_]+\.)*trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad\.onion\//)))return s};t.corsValidator=a;const r=(s={})=>{var c;const d={...i};"debug"in s&&(typeof s.debug=="boolean"?d.debug=s.debug:typeof s.debug=="string"&&(d.debug=s.debug==="true")),typeof s.connectSrc=="string"&&(!((c=s.connectSrc)===null||c===void 0)&&c.startsWith("http"))?d.connectSrc=(0,t.corsValidator)(s.connectSrc):d.trustedHost&&(d.connectSrc=s.connectSrc);const u=d.connectSrc||e.DEFAULT_DOMAIN;return d.iframeSrc=`${u}iframe.html`,d.popupSrc=`${u}popup.html`,d.webusbSrc=`${u}webusb.html`,typeof s.transportReconnect=="boolean"&&(d.transportReconnect=s.transportReconnect),typeof s.webusb=="boolean"&&(d.webusb=s.webusb),Array.isArray(s.transports)&&(d.transports=s.transports),typeof s.popup=="boolean"&&(d.popup=s.popup),typeof s.lazyLoad=="boolean"&&(d.lazyLoad=s.lazyLoad),typeof s.pendingTransportEvent=="boolean"&&(d.pendingTransportEvent=s.pendingTransportEvent),typeof s.extension=="string"&&(d.extension=s.extension),typeof s.env=="string"&&(d.env=s.env),typeof s.timestamp=="number"&&(d.timestamp=s.timestamp),typeof s.interactionTimeout=="number"&&(d.interactionTimeout=s.interactionTimeout),typeof s.manifest=="object"&&(d.manifest=n(s.manifest)),d};t.parseConnectSettings=r}(tt)),tt}var Xt;function be(){return Xt||(Xt=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectSettings=void 0;const e=Ie;e.__exportStar(Cr(),t),e.__exportStar(lr(),t),e.__exportStar(ri(),t);var i=oi();Object.defineProperty(t,"parseConnectSettings",{enumerable:!0,get:function(){return i.parseConnectSettings}})}(Ae)),Ae}var Q={},Zt;function ai(){if(Zt)return Q;Zt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.factory=void 0;const t=lr(),e=({eventEmitter:i,manifest:n,init:a,call:r,requestLogin:s,uiResponse:c,renderWebUSBButton:d,disableWebUSB:u,requestWebUSBDevice:h,cancel:f,dispose:_})=>({manifest:n,init:a,getSettings:()=>r({method:"getSettings"}),on:(o,E)=>{i.on(o,E)},off:(o,E)=>{i.removeListener(o,E)},removeAllListeners:o=>{typeof o=="string"?i.removeAllListeners(o):i.removeAllListeners()},uiResponse:c,blockchainGetAccountBalanceHistory:o=>r({...o,method:"blockchainGetAccountBalanceHistory"}),blockchainGetCurrentFiatRates:o=>r({...o,method:"blockchainGetCurrentFiatRates"}),blockchainGetFiatRatesForTimestamps:o=>r({...o,method:"blockchainGetFiatRatesForTimestamps"}),blockchainDisconnect:o=>r({...o,method:"blockchainDisconnect"}),blockchainEstimateFee:o=>r({...o,method:"blockchainEstimateFee"}),blockchainGetTransactions:o=>r({...o,method:"blockchainGetTransactions"}),blockchainSetCustomBackend:o=>r({...o,method:"blockchainSetCustomBackend"}),blockchainSubscribe:o=>r({...o,method:"blockchainSubscribe"}),blockchainSubscribeFiatRates:o=>r({...o,method:"blockchainSubscribeFiatRates"}),blockchainUnsubscribe:o=>r({...o,method:"blockchainUnsubscribe"}),blockchainUnsubscribeFiatRates:o=>r({...o,method:"blockchainUnsubscribeFiatRates"}),requestLogin:o=>s(o),cardanoGetAddress:o=>r({...o,method:"cardanoGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),cardanoGetNativeScriptHash:o=>r({...o,method:"cardanoGetNativeScriptHash"}),cardanoGetPublicKey:o=>r({...o,method:"cardanoGetPublicKey"}),cardanoSignTransaction:o=>r({...o,method:"cardanoSignTransaction"}),cipherKeyValue:o=>r({...o,method:"cipherKeyValue"}),composeTransaction:o=>r({...o,method:"composeTransaction"}),ethereumGetAddress:o=>r({...o,method:"ethereumGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),ethereumGetPublicKey:o=>r({...o,method:"ethereumGetPublicKey"}),ethereumSignMessage:o=>r({...o,method:"ethereumSignMessage"}),ethereumSignTransaction:o=>r({...o,method:"ethereumSignTransaction"}),ethereumSignTypedData:o=>r({...o,method:"ethereumSignTypedData"}),ethereumVerifyMessage:o=>r({...o,method:"ethereumVerifyMessage"}),getAccountInfo:o=>r({...o,method:"getAccountInfo"}),getAddress:o=>r({...o,method:"getAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),getDeviceState:o=>r({...o,method:"getDeviceState"}),getFeatures:o=>r({...o,method:"getFeatures"}),getFirmwareHash:o=>r({...o,method:"getFirmwareHash"}),getOwnershipId:o=>r({...o,method:"getOwnershipId"}),getOwnershipProof:o=>r({...o,method:"getOwnershipProof"}),getPublicKey:o=>r({...o,method:"getPublicKey"}),nemGetAddress:o=>r({...o,method:"nemGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),nemSignTransaction:o=>r({...o,method:"nemSignTransaction"}),pushTransaction:o=>r({...o,method:"pushTransaction"}),rippleGetAddress:o=>r({...o,method:"rippleGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),rippleSignTransaction:o=>r({...o,method:"rippleSignTransaction"}),signMessage:o=>r({...o,method:"signMessage"}),signTransaction:o=>r({...o,method:"signTransaction"}),stellarGetAddress:o=>r({...o,method:"stellarGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),stellarSignTransaction:o=>r({...o,method:"stellarSignTransaction"}),tezosGetAddress:o=>r({...o,method:"tezosGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),tezosGetPublicKey:o=>r({...o,method:"tezosGetPublicKey"}),tezosSignTransaction:o=>r({...o,method:"tezosSignTransaction"}),unlockPath:o=>r({...o,method:"unlockPath"}),eosGetPublicKey:o=>r({...o,method:"eosGetPublicKey"}),eosSignTransaction:o=>r({...o,method:"eosSignTransaction"}),binanceGetAddress:o=>r({...o,method:"binanceGetAddress",useEventListener:i.listenerCount(t.UI.ADDRESS_VALIDATION)>0}),binanceGetPublicKey:o=>r({...o,method:"binanceGetPublicKey"}),binanceSignTransaction:o=>r({...o,method:"binanceSignTransaction"}),verifyMessage:o=>r({...o,method:"verifyMessage"}),resetDevice:o=>r({...o,method:"resetDevice"}),wipeDevice:o=>r({...o,method:"wipeDevice"}),checkFirmwareAuthenticity:o=>r({...o,method:"checkFirmwareAuthenticity"}),applyFlags:o=>r({...o,method:"applyFlags"}),applySettings:o=>r({...o,method:"applySettings"}),authorizeCoinjoin:o=>r({...o,method:"authorizeCoinjoin"}),backupDevice:o=>r({...o,method:"backupDevice"}),changePin:o=>r({...o,method:"changePin"}),firmwareUpdate:o=>r({...o,method:"firmwareUpdate"}),recoveryDevice:o=>r({...o,method:"recoveryDevice"}),getCoinInfo:o=>r({...o,method:"getCoinInfo"}),rebootToBootloader:o=>r({...o,method:"rebootToBootloader"}),setBusy:o=>r({...o,method:"setBusy"}),setProxy:o=>r({...o,method:"setProxy"}),dispose:_,cancel:f,renderWebUSBButton:d,disableWebUSB:u,requestWebUSBDevice:h});return Q.factory=e,Q}var A={},xt;function si(){if(xt)return A;xt=1,Object.defineProperty(A,"__esModule",{value:!0}),A.getLog=A.enableLogByPrefix=A.enableLog=A.initLog=void 0;const t={"@trezor/connect":"color: #f4a742; background: #000;",IFrame:"color: #f4a742; background: #000;",Core:"color: #f4a742; background: #000;",DescriptorStream:"color: #77ab59; background: #000;",DeviceList:"color: #77ab59; background: #000;",Device:"color: #bada55; background: #000;",DeviceCommands:"color: #bada55; background: #000;"},e=100;class i{constructor(u,h){this.prefix=u,this.enabled=h,this.messages=[],this.css=typeof window<"u"&&t[u]?t[u]:""}addMessage(u,h,...f){this.messages.push({level:u,prefix:h,message:f,timestamp:new Date().getTime()}),this.messages.length>e&&this.messages.shift()}log(...u){this.addMessage("log",this.prefix,...u),this.enabled&&console.log(this.prefix,...u)}error(...u){this.addMessage("error",this.prefix,...u),this.enabled&&console.error(this.prefix,...u)}warn(...u){this.addMessage("warn",this.prefix,...u),this.enabled&&console.warn(this.prefix,...u)}debug(...u){this.addMessage("debug",this.prefix,...u),this.enabled&&(this.css?console.log(`%c${this.prefix}`,this.css,...u):console.log(this.prefix,...u))}}const n={},a=(d,u)=>{const h=new i(d,!!u);return n[d]=h,h};A.initLog=a;const r=d=>{Object.keys(n).forEach(u=>{n[u].enabled=!!d})};A.enableLog=r;const s=(d,u)=>{n[d]&&(n[d].enabled=u)};A.enableLogByPrefix=s;const c=()=>{let d=[];return Object.keys(n).forEach(u=>{d=d.concat(n[u].messages)}),d.sort((u,h)=>u.timestamp-h.timestamp),d};return A.getLog=c,A}var z={},G={},en;function ci(){return en||(en=1,Object.defineProperty(G,"__esModule",{value:!0}),G.TREZOR_DESCS=void 0,G.TREZOR_DESCS=[{vendorId:21324,productId:1},{vendorId:4617,productId:21440},{vendorId:4617,productId:21441}]),G}var tn;function ui(){if(tn)return z;tn=1,Object.defineProperty(z,"__esModule",{value:!0}),z.config=void 0;const t=ci();return z.config={webusb:t.TREZOR_DESCS,whitelist:[{origin:"chrome-extension://imloifkgjagghnncjkhggdhalmcnfklk",priority:1},{origin:"chrome-extension://niebkpllfhmpfbffbfifagfgoamhpflf",priority:1},{origin:"file://",priority:2},{origin:"trezor.io",priority:0},{origin:"sldev.cz",priority:0},{origin:"localhost",priority:0},{origin:"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion",priority:0}],management:[{origin:"trezor.io"},{origin:"sldev.cz"},{origin:"localhost"}],knownHosts:[{origin:"imloifkgjagghnncjkhggdhalmcnfklk",label:"Trezor Password Manager (Develop)",icon:""},{origin:"niebkpllfhmpfbffbfifagfgoamhpflf",label:"Trezor Password Manager",icon:""},{origin:"trezor-connect@trezor.io",label:"Trezor Connect FF Extension",icon:""},{origin:"efbfhenfhihgdcmnfdkhaphjdnopihlf",label:"Trezor Connect Chrome Extension",icon:""},{origin:"mnpfhpndmjholfdlhpkjfmjkgppmodaf",label:"MetaMask",icon:""},{origin:"webextension@metamask.io",label:"MetaMask",icon:""},{origin:"file://",label:" ",icon:""}],onionDomains:{"trezor.io":"trezoriovpjcahpzkrewelclulmszwbqpzmzgub37gbcjlvluxtruqad.onion"},assets:[{name:"coins",url:"./data/coins.json"},{name:"bridge",url:"./data/bridge/releases.json"},{name:"firmware-t1",url:"./data/firmware/1/releases.json"},{name:"firmware-t2",url:"./data/firmware/2/releases.json"}],messages:"./data/messages/messages.json",supportedBrowsers:{chrome:{version:59,download:"https://www.google.com/chrome/",update:"https://support.google.com/chrome/answer/95414"},chromium:{version:59,download:"https://www.chromium.org/",update:"https://www.chromium.org/"},electron:{version:0,download:"https://www.electronjs.org/",update:"https://www.electronjs.org/"},firefox:{version:54,download:"https://www.mozilla.org/en-US/firefox/new/",update:"https://support.mozilla.org/en-US/kb/update-firefox-latest-version"}},supportedFirmware:[{coin:["xrp","txrp"],methods:["getAccountInfo"],min:["0","2.1.0"],max:void 0,comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{coin:["bnb"],min:["1.9.0","2.3.0"],comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{coin:["eth","tgor"],min:["1.8.0","2.1.0"],comment:["There were protobuf backwards incompatible changes."]},{methods:["rippleGetAddress","rippleSignTransaction"],min:["0","2.1.0"],comment:["Since firmware 2.1.0 there is a new protobuf field 'destination_tag' in RippleSignTx"]},{methods:["cardanoGetAddress","cardanoGetPublicKey"],min:["0","2.3.2"],comment:["Shelley fork support since firmware 2.3.2"]},{methods:["cardanoSignTransaction"],min:["0","2.4.2"],comment:["Non-streamed signing no longer supported"]},{methods:["cardanoGetNativeScriptHash"],min:["0","2.4.3"],comment:["Cardano GetNativeScriptHash call added in 2.4.3"]},{methods:["tezosSignTransaction"],min:["0","2.1.8"],comment:["Since 2.1.8 there are new protobuf fields in tezos transaction (Babylon fork)"]},{methods:["stellarSignTransaction"],min:["1.9.0","2.3.0"],comment:["There were protobuf backwards incompatible changes with introduction of 1.9.0/2.3.0 firmwares"]},{capabilities:["replaceTransaction","amountUnit"],min:["1.9.4","2.3.5"],comment:["new sign tx process since 1.9.4/2.3.5"]},{capabilities:["decreaseOutput"],min:["1.10.0","2.4.0"],comment:["allow reduce output in RBF transaction since 1.10.0/2.4.0"]},{capabilities:["eip1559"],min:["1.10.4","2.4.2"],comment:["new eth transaction pricing mechanism (EIP1559) since 1.10.4/2.4.2"]},{capabilities:["taproot","signMessageNoScriptType"],min:["1.10.4","2.4.3"],comment:["new btc accounts taproot since 1.10.4/2.4.3 (BTC + TEST only)","SignMessage with no_script_type support"]},{coin:["dcr","tdcr"],methods:["signTransaction"],min:["1.10.1","2.4.0"],comment:[""]},{methods:["ethereumSignTypedData"],min:["1.10.5","2.4.3"],comment:["EIP-712 typed signing support added in 1.10.5/2.4.3"]},{capabilities:["eip712-domain-only"],min:["1.10.6","2.4.4"],comment:["EIP-712 domain-only signing, when primaryType=EIP712Domain"]},{capabilities:["coinjoin"],methods:["authorizeCoinjoin","getOwnershipId","getOwnershipProof","setBusy","unlockPath"],min:["1.12.1","2.5.3"]}]},z}var rt={},it={},B={},nn;function di(){if(nn)return B;nn=1,Object.defineProperty(B,"__esModule",{value:!0}),B.AbortablePromise=B.AbortError=void 0;class t extends Error{constructor(n="Aborted"){super(n),this.name="AbortError"}}B.AbortError=t;class e extends Promise{get abortReason(){return this._abortReason}constructor(n,a){const r=a||new AbortController,s=r.signal,c=(d,u)=>{s.addEventListener("abort",()=>{u(new t(this.abortReason))}),n(d,u,s)};super(c),this.abort=d=>{this._abortReason=d||"Aborted",r.abort()}}}return B.AbortablePromise=e,e.from=i=>i instanceof e?i:new e((n,a)=>{i.then(n).catch(a)}),B}var k={},rn;function li(){if(rn)return k;rn=1,Object.defineProperty(k,"__esModule",{value:!0}),k.arrayDistinct=void 0;const t=(e,i,n)=>n.indexOf(e)===i;return k.arrayDistinct=t,k}var V={},on;function fr(){if(on)return V;on=1,Object.defineProperty(V,"__esModule",{value:!0}),V.arrayPartition=void 0;const t=(e,i)=>e.reduce(([n,a],r)=>i(r)?[[...n,r],a]:[n,[...a,r]],[[],[]]);return V.arrayPartition=t,V}var W={},an;function fi(){if(an)return W;an=1,Object.defineProperty(W,"__esModule",{value:!0}),W.arrayShuffle=void 0;const t=e=>{const i=e.slice();for(let n=i.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[i[n],i[a]]=[i[a],i[n]]}return i};return W.arrayShuffle=t,W}var H={},sn;function _i(){if(sn)return H;sn=1,Object.defineProperty(H,"__esModule",{value:!0}),H.arrayToDictionary=void 0;const t=i=>!!["string","number"].includes(typeof i),e=(i,n,a)=>a?i.reduce((r,s)=>{var c;const d=n(s);return t(d)?Object.assign(Object.assign({},r),{[d]:[...(c=r[d])!==null&&c!==void 0?c:[],s]}):r},{}):i.reduce((r,s)=>{const c=n(s);return t(c)?Object.assign(Object.assign({},r),{[c]:s}):r},{});return H.arrayToDictionary=e,H}var $={},cn;function hi(){if(cn)return $;cn=1,Object.defineProperty($,"__esModule",{value:!0}),$.reverseBuffer=void 0;const t=e=>{if(e.length<1)return e;const i=pr.alloc(e.length);let n=i.length-1;for(let a=0;a<i.length/2;a++)i[a]=e[n],i[n]=e[a],n--;return i};return $.reverseBuffer=t,$}var K={},un;function Ei(){if(un)return K;un=1,Object.defineProperty(K,"__esModule",{value:!0}),K.bytesToHumanReadable=void 0;const t=["B","KB","MB","GB","TB"],e=i=>{let n=Math.abs(i),a=0;for(;n>=1024||a>=t.length;)n/=1024,a++;return`${n.toFixed(1)} ${t[a]}`};return K.bytesToHumanReadable=e,K}var Y={},dn;function mi(){if(dn)return Y;dn=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.capitalizeFirstLetter=void 0;const t=e=>e.charAt(0).toUpperCase()+e.slice(1);return Y.capitalizeFirstLetter=t,Y}var J={},ln;function vi(){if(ln)return J;ln=1,Object.defineProperty(J,"__esModule",{value:!0}),J.countBytesInString=void 0;const t=e=>encodeURI(e).split(/%..|./).length-1;return J.countBytesInString=t,J}var X={},fn;function bi(){if(fn)return X;fn=1,Object.defineProperty(X,"__esModule",{value:!0}),X.createDeferred=void 0;const t=e=>{let i=()=>{},n=()=>{};const a=new Promise((r,s)=>{i=r,n=s});return{id:e,resolve:i,reject:n,promise:a}};return X.createDeferred=t,X}var Z={},_n;function gi(){if(_n)return Z;_n=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.createTimeoutPromise=void 0;const t=e=>new Promise(i=>setTimeout(i,e));return Z.createTimeoutPromise=t,Z}var F={},hn;function pi(){if(hn)return F;hn=1,Object.defineProperty(F,"__esModule",{value:!0}),F.getValueByKey=F.getKeyByValue=void 0;function t(i,n){return i&&Object.keys(i).find(a=>i[a]===n)}F.getKeyByValue=t;function e(i,n){const a=i&&Object.keys(i).find(r=>r===n);return a&&i[a]}return F.getValueByKey=e,F}var x={},En;function Si(){if(En)return x;En=1,Object.defineProperty(x,"__esModule",{value:!0}),x.getNumberFromPixelString=void 0;const t=e=>parseInt(e.replace("px",""),10);return x.getNumberFromPixelString=t,x}var ee={},mn;function Ri(){if(mn)return ee;mn=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.getRandomNumberInRange=void 0;const t=(e,i)=>Math.floor(Math.random()*(i-e+1))+e;return ee.getRandomNumberInRange=t,ee}var te={},vn;function Oi(){if(vn)return te;vn=1,Object.defineProperty(te,"__esModule",{value:!0}),te.getWeakRandomId=void 0;const t=e=>{let i="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let a=0;a<e;a++)i+=n.charAt(Math.floor(Math.random()*n.length));return i};return te.getWeakRandomId=t,te}var ne={},bn;function Pi(){if(bn)return ne;bn=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.hasUppercaseLetter=void 0;const t=new RegExp("^(.*[A-Z].*)$"),e=i=>t.test(i);return ne.hasUppercaseLetter=e,ne}var re={},gn;function Ii(){if(gn)return re;gn=1,Object.defineProperty(re,"__esModule",{value:!0}),re.isAscii=void 0;function t(e){return e?/^[\x00-\x7F]*$/.test(e):!0}return re.isAscii=t,re}var ie={},pn;function yi(){if(pn)return ie;pn=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.isHex=void 0;const t=e=>/^(0x|0X)?[0-9A-Fa-f]+$/g.test(e);return ie.isHex=t,ie}var oe={},Sn;function Ai(){if(Sn)return oe;Sn=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.isNotUndefined=void 0;const t=e=>typeof e<"u";return oe.isNotUndefined=t,oe}var ae={},Rn;function Ni(){if(Rn)return ae;Rn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.isUrl=void 0;const t=/^(http|ws)s?:\/\/[a-z0-9]([a-z0-9.-]+)?(:[0-9]{1,5})?((\/)?(([a-z0-9-_])+(\/)?)+)$/i,e=i=>t.test(i);return ae.isUrl=e,ae}var ot={},On;function wi(){return On||(On=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mergeDeepObject=void 0;const e=a=>{if(typeof a=="object"&&a!==null){if(typeof Object.getPrototypeOf=="function"){const r=Object.getPrototypeOf(a);return r===Object.prototype||r===null}return Object.prototype.toString.call(a)==="[object Object]"}return!1},i=(...a)=>a.reduce((r,s)=>{if(Array.isArray(s))throw new TypeError("Arguments provided to ts-deepmerge must be objects, not arrays.");return Object.keys(s).forEach(c=>{["__proto__","constructor","prototype"].includes(c)||(Array.isArray(r[c])&&Array.isArray(s[c])?r[c]=t.mergeDeepObject.options.mergeArrays?Array.from(new Set(r[c].concat(s[c]))):s[c]:e(r[c])&&e(s[c])?r[c]=(0,t.mergeDeepObject)(r[c],s[c]):r[c]=s[c])}),r},{});t.mergeDeepObject=i;const n={mergeArrays:!0};t.mergeDeepObject.options=n,t.mergeDeepObject.withOptions=(a,...r)=>{t.mergeDeepObject.options=Object.assign({mergeArrays:!0},a);const s=(0,t.mergeDeepObject)(...r);return t.mergeDeepObject.options=n,s}}(ot)),ot}var se={},Pn;function Ti(){if(Pn)return se;Pn=1;var t=S&&S.__rest||function(i,n){var a={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&n.indexOf(r)<0&&(a[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(a[r[s]]=i[r[s]]);return a};Object.defineProperty(se,"__esModule",{value:!0}),se.objectPartition=void 0;const e=(i,n)=>n.reduce(([a,r],s)=>{const c=r,d=s,u=c[d],h=t(c,[typeof d=="symbol"?d:d+""]);return typeof u<"u"?[Object.assign(Object.assign({},a),{[s]:u}),h]:[a,r]},[{},i]);return se.objectPartition=e,se}var ce={},In;function Ui(){if(In)return ce;In=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.parseHostname=void 0;const t=/^([a-z0-9.+-]+:\/\/)?([a-z0-9.-]+)([:/][^:/]+)*\/?$/i,e=i=>{var n,a;return(a=(n=i.match(t))===null||n===void 0?void 0:n[2])===null||a===void 0?void 0:a.toLowerCase()};return ce.parseHostname=e,ce}var ue={},yn;function Mi(){if(yn)return ue;yn=1;var t=S&&S.__awaiter||function(i,n,a,r){function s(c){return c instanceof a?c:new a(function(d){d(c)})}return new(a||(a=Promise))(function(c,d){function u(_){try{f(r.next(_))}catch(l){d(l)}}function h(_){try{f(r.throw(_))}catch(l){d(l)}}function f(_){_.done?c(_.value):s(_.value).then(u,h)}f((r=r.apply(i,n||[])).next())})};Object.defineProperty(ue,"__esModule",{value:!0}),ue.promiseAllSequence=void 0;const e=i=>t(void 0,void 0,void 0,function*(){const n=[];return yield i.reduce((a,r)=>a.then(r).then(s=>(n.push(s),s)),Promise.resolve()),n});return ue.promiseAllSequence=e,ue}var at={},An;function Ci(){return An||(An=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.redactUserPathFromString=t.startOfUserPathRegex=void 0,t.startOfUserPathRegex=/([/\\][Uu]sers[/\\]{1,4})([^"^'^[^\]^/^\\]*)/g;const e=i=>i.replace(t.startOfUserPathRegex,"$1[*]");t.redactUserPathFromString=e}(at)),at}var de={},Nn;function Li(){if(Nn)return de;Nn=1;var t=S&&S.__awaiter||function(f,_,l,o){function E(v){return v instanceof l?v:new l(function(b){b(v)})}return new(l||(l=Promise))(function(v,b){function R(p){try{y(o.next(p))}catch(P){b(P)}}function I(p){try{y(o.throw(p))}catch(P){b(P)}}function y(p){p.done?v(p.value):E(p.value).then(R,I)}y((o=o.apply(f,_||[])).next())})};Object.defineProperty(de,"__esModule",{value:!0}),de.scheduleAction=void 0;const e=f=>Array.isArray(f),i=()=>new Error("Aborted by signal"),n=()=>new Error("Aborted by deadline"),a=()=>new Error("Aborted by timeout"),r=(f,_)=>new Promise((l,o)=>{if(_.aborted)return o();if(f===void 0)return l();const E=setTimeout(l,f),v=()=>{clearTimeout(E),_.removeEventListener("abort",v),o()};_.addEventListener("abort",v)}),s=(f,_,l)=>new Promise((o,E)=>{if(l.aborted)return E();const v=f!==void 0?setTimeout(()=>E(_()),f):void 0,b=()=>{clearTimeout(v),l.removeEventListener("abort",b),E()};l.addEventListener("abort",b)}),c=(f,_)=>new Promise((l,o)=>{if(_.aborted)return o();if(f!=null&&f.aborted)return o(i());const E=()=>o(i());f==null||f.addEventListener("abort",E);const v=()=>{f==null||f.removeEventListener("abort",E),_.removeEventListener("abort",v),o()};_.addEventListener("abort",v)}),d=(f,_)=>t(void 0,void 0,void 0,function*(){const l=new AbortController,o=()=>l.abort();_.aborted&&o(),_.addEventListener("abort",o);try{return yield new Promise(E=>E(f(l.signal)))}finally{_.removeEventListener("abort",o)}}),u=(f,_,l,o)=>t(void 0,void 0,void 0,function*(){for(let E=0;E<f-1&&!o.aborted;E++){const v=new AbortController,b=()=>v.abort();o.addEventListener("abort",b);try{return yield _(E,v.signal)}catch{b(),yield l(E)}finally{o.removeEventListener("abort",b)}}return o.aborted?Promise.reject():_(f-1,o)}),h=(f,_)=>t(void 0,void 0,void 0,function*(){const{signal:l,delay:o,attempts:E,timeout:v,deadline:b,gap:R}=_,I=b&&b-Date.now(),y=e(E)?E.length:E??(b?1/0:1),p=new AbortController,P=p.signal,ge=e(E)?U=>E[U]:()=>({timeout:v,gap:R});try{return yield Promise.race([c(l,P),s(I,n,P),r(o,P).then(()=>u(y,(U,M)=>Promise.race([s(ge(U).timeout,a,P),d(f,M)]),U=>{var M;return r((M=ge(U).gap)!==null&&M!==void 0?M:0,P)},P))])}finally{p.abort()}});return de.scheduleAction=h,de}var le={},wn;function Di(){if(wn)return le;wn=1,Object.defineProperty(le,"__esModule",{value:!0}),le.throwError=void 0;const t=e=>{throw new Error(e)};return le.throwError=t,le}var fe={},Tn;function Bi(){if(Tn)return fe;Tn=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.truncateMiddle=void 0;const t=(e,i,n)=>{if(e.length<=i+n)return e;const a=e.substring(0,i),r=e.substring(e.length-n,e.length);return`${a}…${r}`};return fe.truncateMiddle=t,fe}var _e={},Un;function Fi(){if(Un)return _e;Un=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.topologicalSort=void 0;const t=fr(),e=(i,n,a)=>{const r=[],s=d=>(0,t.arrayPartition)(d,u=>!d.some(h=>n(h,u)));let c=i;for(;c.length;){const[d,u]=s(c);if(!d.length)throw new Error("Cycle detected");r.push(...a?d.sort(a):d),c=u}return r};return _e.topologicalSort=e,_e}var st={},Mn;function qi(){return Mn||(Mn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeVersion=t.isNewerOrEqual=t.isEqual=t.isNewer=t.isVersionArray=void 0;const e=u=>({major:u[0],minor:u[1],patch:u[2]}),i=u=>{const h=u.split(".");if(h.length!==3)throw new Error("version string is in wrong format");return h},n=u=>`${u[0]}.${u[1]}.${u[2]}`,a=u=>u.length===3;t.isVersionArray=a;const r=(u,h)=>{const f=e(typeof u=="string"?i(u):u),_=e(typeof h=="string"?i(h):h);return f.major-_.major!==0?f.major>_.major:f.minor-_.minor!==0?f.minor>_.minor:f.patch-_.patch!==0?f.patch>_.patch:!1};t.isNewer=r;const s=(u,h)=>{const f=typeof u=="string"?u:n(u),_=typeof h=="string"?h:n(h);return f===_};t.isEqual=s;const c=(u,h)=>(0,t.isNewer)(u,h)||(0,t.isEqual)(u,h);t.isNewerOrEqual=c;const d=u=>u.replace(/\b0+(\d)/g,"$1");t.normalizeVersion=d}(st)),st}var T={},Cn;function ji(){if(Cn)return T;Cn=1,Object.defineProperty(T,"__esModule",{value:!0}),T.inDoubleQuotes=T.inSingleQuotes=T.inHTML=void 0;const t=/</g,e=/'/g,i=/"/g,n=s=>s.replace(t,"&lt;");T.inHTML=n;const a=s=>s.replace(e,"&#39;");T.inSingleQuotes=a;const r=s=>s.replace(i,"&quot;");return T.inDoubleQuotes=r,T}var he={},Ln;function Qi(){if(Ln)return he;Ln=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getLocaleSeparators=void 0;const t=e=>{var i,n;const r=new Intl.NumberFormat(e).formatToParts(10000.1),s=(i=r.find(({type:d})=>d==="decimal"))===null||i===void 0?void 0:i.value,c=(n=r.find(({type:d})=>d==="group"))===null||n===void 0?void 0:n.value;return{decimalSeparator:s,thousandsSeparator:c}};return he.getLocaleSeparators=t,he}var Dn;function _r(){return Dn||(Dn=1,function(t){var e=S&&S.__createBinding||(Object.create?function(r,s,c,d){d===void 0&&(d=c);var u=Object.getOwnPropertyDescriptor(s,c);(!u||("get"in u?!s.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(r,d,u)}:function(r,s,c,d){d===void 0&&(d=c),r[d]=s[c]}),i=S&&S.__setModuleDefault||(Object.create?function(r,s){Object.defineProperty(r,"default",{enumerable:!0,value:s})}:function(r,s){r.default=s}),n=S&&S.__exportStar||function(r,s){for(var c in r)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&e(s,r,c)},a=S&&S.__importStar||function(r){if(r&&r.__esModule)return r;var s={};if(r!=null)for(var c in r)c!=="default"&&Object.prototype.hasOwnProperty.call(r,c)&&e(s,r,c);return i(s,r),s};Object.defineProperty(t,"__esModule",{value:!0}),t.xssFilters=t.versionUtils=t.enumUtils=t.bufferUtils=void 0,n(di(),t),n(li(),t),n(fr(),t),n(fi(),t),n(_i(),t),t.bufferUtils=a(hi()),n(Ei(),t),n(mi(),t),n(vi(),t),n(bi(),t),n(gi(),t),t.enumUtils=a(pi()),n(Si(),t),n(Ri(),t),n(Oi(),t),n(Pi(),t),n(Ii(),t),n(yi(),t),n(Ai(),t),n(Ni(),t),n(wi(),t),n(Ti(),t),n(Ui(),t),n(Mi(),t),n(Ci(),t),n(Li(),t),n(Di(),t),n(Bi(),t),n(Fi(),t),t.versionUtils=a(qi()),t.xssFilters=a(ji()),n(Qi(),t)}(it)),it}var ct={},Bn;function hr(){return Bn||(Bn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getOnionDomain=t.getHost=t.getOrigin=void 0;const e=a=>{var r;if(typeof a!="string")return"unknown";if(a.indexOf("file://")===0)return"file://";const[s]=(r=a.match(/^https?:\/\/[^/]+/))!==null&&r!==void 0?r:[];return s??"unknown"};t.getOrigin=e;const i=a=>{var r;if(typeof a!="string")return;const[,,s]=(r=a.match(/^(https?):\/\/([^:/]+)?/i))!==null&&r!==void 0?r:[];if(s){const c=s.split(".");return c.length>2?c.slice(c.length-2,c.length).join("."):s}};t.getHost=i;const n=(a,r)=>{var s;if(Array.isArray(a))return a.map(c=>(0,t.getOnionDomain)(c,r));if(typeof a=="string"){const[,c,d,u,h]=(s=a.match(/^(http|ws)s?:\/\/([^:/]+\.)?([^/.]+\.[^/.]+)(\/.*)?$/i))!==null&&s!==void 0?s:[];return!u||!r[u]?a:`${c}://${d||""}${r[u]}${h||""}`}return a};t.getOnionDomain=n}(ct)),ct}var pe={},Fn;function zi(){if(Fn)return pe;Fn=1,Object.defineProperty(pe,"__esModule",{value:!0});const t='.trezorconnect-container{position:fixed!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;z-index:10000!important;width:100%!important;height:100%!important;top:0!important;left:0!important;background:rgba(0,0,0,.35)!important;overflow:auto!important;padding:20px!important;margin:0!important}.trezorconnect-container .trezorconnect-window{position:relative!important;display:block!important;width:370px!important;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif!important;margin:auto!important;border-radius:3px!important;background-color:#fff!important;text-align:center!important;overflow:hidden!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head{text-align:left;padding:12px 24px!important;display:-webkit-box!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-logo{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close{cursor:pointer!important;height:24px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close svg{fill:#757575;-webkit-transition:fill .3s ease-in-out!important;transition:fill .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-head .trezorconnect-close:hover svg{fill:#494949}.trezorconnect-container .trezorconnect-window .trezorconnect-body{padding:24px 24px 32px!important;background:#FBFBFB!important;border-top:1px solid #EBEBEB}.trezorconnect-container .trezorconnect-window .trezorconnect-body h3{color:#505050!important;font-size:16px!important;font-weight:500!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body p{margin:8px 0 24px!important;font-weight:400!important;color:#A9A9A9!important;font-size:12px!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button{width:100%!important;padding:12px 24px!important;margin:0!important;border-radius:3px!important;font-size:14px!important;font-weight:300!important;cursor:pointer!important;background:#01B757!important;color:#fff!important;border:0!important;-webkit-transition:background-color .3s ease-in-out!important;transition:background-color .3s ease-in-out!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:hover{background-color:#00AB51!important}.trezorconnect-container .trezorconnect-window .trezorconnect-body button:active{background-color:#009546!important}/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImlucHV0IiwiJHN0ZGluIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWNBLHlCQUNJLFNBQUEsZ0JBQ0EsUUFBQSxzQkFDQSxRQUFBLHVCQUNBLFFBQUEsc0JBRUEsUUFBQSxlQUNBLG1CQUFBLG1CQUNBLHNCQUFBLGlCQUNBLHVCQUFBLGlCQUNBLG1CQUFBLGlCQUNBLGVBQUEsaUJBRUEsa0JBQUEsaUJBQ0Esb0JBQUEsaUJBQ0EsZUFBQSxpQkNmTSxZQUFhLGlCREFyQixRQUFTLGdCQWtCSCxNQUFBLGVBQ0EsT0FBQSxlQUNBLElBQUEsWUFDQSxLQUFBLFlBQ0EsV0FBQSwwQkFDQSxTQUFBLGVBQ0EsUUFBQSxlQUNBLE9BQUEsWUNkUiwrQ0RYRSxTQUFVLG1CQTZCQSxRQUFBLGdCQUNBLE1BQUEsZ0JBQ0EsWUFBQSxjQUFBLG1CQUFBLFdBQUEsT0FBQSxpQkFBQSxNQUFBLHFCQUNBLE9BQUEsZUNmVixjQUFlLGNEakJmLGlCQWlCRSxlQWtCWSxXQUFBLGlCQ2ZkLFNBQVUsaUJEbUJJLG1FQUNBLFdBQUEsS0NoQmQsUUFBUyxLQUFLLGVEeEJkLFFBQVMsc0JBMENTLFFBQUEsdUJBQ0EsUUFBQSxzQkNmbEIsUUFBUyxlRGlCSyxrQkE1QlosaUJBOEJvQixvQkFBQSxpQkNoQmxCLGVBQWdCLGlCRC9CWixZQWlCTixpQkFzQ1EsdUZBQ0EsaUJBQUEsRUNwQlYsYUFBYyxFRHBDVixTQUFVLEVBMkRBLEtBQUEsRUFFQSx3RkNwQmQsT0FBUSxrQkR6Q1IsT0FBUSxlQWlFTSw0RkFDQSxLQUFBLFFBQ0EsbUJBQUEsS0FBQSxJQUFBLHNCQ3BCZCxXQUFZLEtBQUssSUFBSyxzQkR3QlIsa0dBQ0EsS0FBQSxRQUVBLG1FQUNBLFFBQUEsS0FBQSxLQUFBLGVBQ0EsV0FBQSxrQkFDQSxXQUFBLElBQUEsTUFBQSxRQUVBLHNFQUNBLE1BQUEsa0JBQ0EsVUFBQSxlQ3JCZCxZQUFhLGNEd0JLLHFFQ3JCbEIsT0FBUSxJQUFJLEVBQUksZUR3QkYsWUFBQSxjQUNJLE1BQUEsa0JDdEJsQixVQUFXLGVBRWIsMEVBQ0UsTUFBTyxlQUNQLFFBQVMsS0FBSyxlQUNkLE9BQVEsWUFDUixjQUFlLGNBQ2YsVUFBVyxlQUNYLFlBQWEsY0FDYixPQUFRLGtCQUNSLFdBQVksa0JBQ1osTUFBTyxlQUNQLE9BQVEsWUFDUixtQkFBb0IsaUJBQWlCLElBQUssc0JBQzFDLFdBQVksaUJBQWlCLElBQUssc0JBRXBDLGdGQUNFLGlCQUFrQixrQkFFcEIsaUZBQ0UsaUJBQWtCIn0= */';return pe.default=t,pe}var qn;function Gi(){return qn||(qn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clearTimeout=t.postMessage=t.init=t.dispose=t.messagePromises=t.error=t.timeout=t.initPromise=t.origin=t.instance=void 0;const e=lt,i=_r(),n=be(),a=hr(),r=e.__importDefault(zi());t.initPromise=(0,i.createDeferred)(),t.timeout=0;let s=0;t.messagePromises={};const c=()=>{if(t.instance&&t.instance.parentNode)try{t.instance.parentNode.removeChild(t.instance)}catch{}t.instance=null,t.timeout=0};t.dispose=c;const d=()=>{window.clearTimeout(t.timeout),t.error=n.ERRORS.TypedError("Init_IframeBlocked"),(0,t.dispose)(),t.initPromise.reject(t.error)},u=()=>{if(!t.instance)throw n.ERRORS.TypedError("Init_IframeBlocked");const l=t.instance.ownerDocument,o=l.head||l.getElementsByTagName("head")[0],E=document.createElement("style");E.setAttribute("type","text/css"),E.setAttribute("id","TrezorConnectStylesheet"),E.styleSheet?(E.styleSheet.cssText=r.default,o.appendChild(E)):(E.appendChild(document.createTextNode(r.default)),o.append(E))},h=async l=>{var o;t.initPromise=(0,i.createDeferred)();const E=document.getElementById("trezorconnect");E?t.instance=E:(t.instance=document.createElement("iframe"),t.instance.frameBorder="0",t.instance.width="0px",t.instance.height="0px",t.instance.style.position="absolute",t.instance.style.display="none",t.instance.style.border="0px",t.instance.style.width="0px",t.instance.style.height="0px",t.instance.id="trezorconnect");let v;if(l.env==="web"){const R=l.manifest?JSON.stringify(l.manifest):"undefined",I=`version=${l.version}&manifest=${encodeURIComponent(btoa(JSON.stringify(R)))}`;v=`${l.iframeSrc}?${I}`}else v=l.iframeSrc;t.instance.setAttribute("src",v),l.webusb&&console.warn('webusb option is deprecated. use `transports: ["WebUsbTransport"] instead`'),(l.webusb||!((o=l.transports)===null||o===void 0)&&o.includes("WebUsbTransport"))&&t.instance.setAttribute("allow","usb"),t.origin=(0,a.getOrigin)(t.instance.src),t.timeout=window.setTimeout(()=>{t.initPromise.reject(n.ERRORS.TypedError("Init_IframeTimeout"))},1e4);const b=()=>{var R,I;if(!t.instance){t.initPromise.reject(n.ERRORS.TypedError("Init_IframeBlocked"));return}try{const p=(R=t.instance.contentWindow)===null||R===void 0?void 0:R.location.origin;if(!p||p==="null"){d();return}}catch{}let y;typeof chrome<"u"&&chrome.runtime&&typeof chrome.runtime.onConnect<"u"&&(chrome.runtime.onConnect.addListener(()=>{}),y=chrome.runtime.id),(I=t.instance.contentWindow)===null||I===void 0||I.postMessage({type:n.IFRAME.INIT,payload:{settings:l,extension:y}},t.origin),t.instance.onload=null};t.instance.attachEvent?t.instance.attachEvent("onload",b):t.instance.onload=b,document.body&&(document.body.appendChild(t.instance),u());try{await t.initPromise.promise}catch(R){throw t.instance&&(t.instance.parentNode&&t.instance.parentNode.removeChild(t.instance),t.instance=null),R}finally{window.clearTimeout(t.timeout),t.timeout=0}};t.init=h;const f=(l,o=!0)=>{var E,v;if(!t.instance)throw n.ERRORS.TypedError("Init_IframeBlocked");if(o){s++,l.id=s,t.messagePromises[s]=(0,i.createDeferred)();const{promise:b}=t.messagePromises[s];return(E=t.instance.contentWindow)===null||E===void 0||E.postMessage(l,t.origin),b}return(v=t.instance.contentWindow)===null||v===void 0||v.postMessage(l,t.origin),null};t.postMessage=f;const _=()=>{window.clearTimeout(t.timeout)};t.clearTimeout=_}(rt)),rt}var Ee={},me={},jn;function ki(){if(jn)return me;jn=1,Object.defineProperty(me,"__esModule",{value:!0}),me.showPopupRequest=void 0;const t="TrezorConnectInteractionLayer",e=`
    <div class="trezorconnect-container" id="${t}">
        <div class="trezorconnect-window">
            <div class="trezorconnect-head">
                <svg class="trezorconnect-logo" x="0px" y="0px" viewBox="0 0 163.7 41.9" width="78px" height="20px" preserveAspectRatio="xMinYMin meet">
                    <polygon points="101.1,12.8 118.2,12.8 118.2,17.3 108.9,29.9 118.2,29.9 118.2,35.2 101.1,35.2 101.1,30.7 110.4,18.1 101.1,18.1"/>
                    <path d="M158.8,26.9c2.1-0.8,4.3-2.9,4.3-6.6c0-4.5-3.1-7.4-7.7-7.4h-10.5v22.3h5.8v-7.5h2.2l4.1,7.5h6.7L158.8,26.9z M154.7,22.5 h-4V18h4c1.5,0,2.5,0.9,2.5,2.2C157.2,21.6,156.2,22.5,154.7,22.5z"/>
                    <path d="M130.8,12.5c-6.8,0-11.6,4.9-11.6,11.5s4.9,11.5,11.6,11.5s11.7-4.9,11.7-11.5S137.6,12.5,130.8,12.5z M130.8,30.3 c-3.4,0-5.7-2.6-5.7-6.3c0-3.8,2.3-6.3,5.7-6.3c3.4,0,5.8,2.6,5.8,6.3C136.6,27.7,134.2,30.3,130.8,30.3z"/>
                    <polygon points="82.1,12.8 98.3,12.8 98.3,18 87.9,18 87.9,21.3 98,21.3 98,26.4 87.9,26.4 87.9,30 98.3,30 98.3,35.2 82.1,35.2 "/>
                    <path d="M24.6,9.7C24.6,4.4,20,0,14.4,0S4.2,4.4,4.2,9.7v3.1H0v22.3h0l14.4,6.7l14.4-6.7h0V12.9h-4.2V9.7z M9.4,9.7 c0-2.5,2.2-4.5,5-4.5s5,2,5,4.5v3.1H9.4V9.7z M23,31.5l-8.6,4l-8.6-4V18.1H23V31.5z"/>
                    <path d="M79.4,20.3c0-4.5-3.1-7.4-7.7-7.4H61.2v22.3H67v-7.5h2.2l4.1,7.5H80l-4.9-8.3C77.2,26.1,79.4,24,79.4,20.3z M71,22.5h-4V18 h4c1.5,0,2.5,0.9,2.5,2.2C73.5,21.6,72.5,22.5,71,22.5z"/>
                    <polygon points="40.5,12.8 58.6,12.8 58.6,18.1 52.4,18.1 52.4,35.2 46.6,35.2 46.6,18.1 40.5,18.1 "/>
                </svg>
                <div class="trezorconnect-close">
                    <svg x="0px" y="0px" viewBox="24 24 60 60" width="24px" height="24px" preserveAspectRatio="xMinYMin meet">
                        <polygon class="st0" points="40,67.9 42.1,70 55,57.1 67.9,70 70,67.9 57.1,55 70,42.1 67.9,40 55,52.9 42.1,40 40,42.1 52.9,55 "/>
                    </svg>
                </div>
            </div>
            <div class="trezorconnect-body">
                <h3>Popup was blocked</h3>
                <p>Please click to "Continue" to open popup manually</p>
                <button class="trezorconnect-open">Continue</button>
            </div>
        </div>
    </div>
`,i=(n,a)=>{if(document.getElementById(t))return;const r=document.createElement("div");r.id=t,r.className="trezorconnect-container",r.innerHTML=e,document.body&&document.body.appendChild(r);const s=r.getElementsByClassName("trezorconnect-open")[0];s.onclick=()=>{n(),document.body&&document.body.removeChild(r)};const c=r.getElementsByClassName("trezorconnect-close")[0];c.onclick=()=>{a(),document.body&&document.body.removeChild(r)}};return me.showPopupRequest=i,me}var Qn;function Vi(){if(Qn)return Ee;Qn=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.PopupManager=void 0;const e=lt.__importDefault(kn),i=_r(),n=be(),a=hr(),r=ki(),s=850,c=500,d=3e3;class u extends e.default{constructor(f){super(),this.locked=!1,this.requestTimeout=0,this.closeInterval=0,this.extensionTabId=0,this.settings=f,this.origin=(0,a.getOrigin)(f.popupSrc),this.handleMessage=this.handleMessage.bind(this),this.iframeHandshake=(0,i.createDeferred)(n.IFRAME.LOADED),this.settings.env==="webextension"&&(this.handleExtensionConnect=this.handleExtensionConnect.bind(this),this.handleExtensionMessage=this.handleExtensionMessage.bind(this),chrome.runtime.onConnect.addListener(this.handleExtensionConnect)),window.addEventListener("message",this.handleMessage,!1)}request(f=!1){if(this.locked){this.popupWindow&&(this.settings.env==="webextension"?chrome.tabs.update(this.popupWindow.id,{active:!0}):this.popupWindow.focus());return}const _=this.open.bind(this);this.locked=!0;const l=f||this.settings.env==="webextension"?1:s;this.requestTimeout=window.setTimeout(()=>{this.requestTimeout=0,_(f)},l)}cancel(){this.close()}unlock(){this.locked=!1}open(f){const _=this.settings.popupSrc;this.popupPromise=(0,i.createDeferred)(n.POPUP.LOADED),this.openWrapper(f?`${_}#loading`:_),this.closeInterval=window.setInterval(()=>{this.popupWindow&&(this.settings.env==="webextension"?chrome.tabs.get(this.popupWindow.id,l=>{l||(this.close(),this.emit(n.POPUP.CLOSED))}):this.popupWindow.closed&&(this.close(),this.emit(n.POPUP.CLOSED)))},c),this.openTimeout=setTimeout(()=>{this.close(),(0,r.showPopupRequest)(this.open.bind(this),()=>{this.emit(n.POPUP.CLOSED)})},d)}openWrapper(f){this.settings.env==="webextension"?chrome.windows.getCurrent(_=>{_.type!=="normal"?chrome.windows.create({url:f},l=>{chrome.tabs.query({windowId:l==null?void 0:l.id,active:!0},o=>{this.popupWindow=o[0]})}):chrome.tabs.query({currentWindow:!0,active:!0},l=>{this.extensionTabId=l[0].id,chrome.tabs.create({url:f,index:l[0].index+1},o=>{this.popupWindow=o})})}):this.settings.env==="electron"?this.popupWindow=window.open(f,"modal"):(this.popupWindow=window.open("","_blank"),this.popupWindow&&(this.popupWindow.location.href=f))}handleExtensionConnect(f){var _,l;f.name==="trezor-connect"&&(!this.popupWindow||this.popupWindow&&this.popupWindow.id!==((l=(_=f.sender)===null||_===void 0?void 0:_.tab)===null||l===void 0?void 0:l.id)||(this.openTimeout&&clearTimeout(this.openTimeout),this.extensionPort=f,this.extensionPort.onMessage.addListener(this.handleExtensionMessage)))}handleExtensionMessage(f){if(!this.extensionPort)return;const _=this.extensionPort,{data:l}=f;if(!(!l||typeof l!="object"))if(l.type===n.POPUP.ERROR){const o=l.payload&&typeof l.payload.error=="string"?l.payload.error:null;this.emit(n.POPUP.CLOSED,o?`Popup error: ${o}`:null),this.close()}else l.type===n.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then(o=>{_.postMessage({type:n.POPUP.INIT,payload:Object.assign(Object.assign({},o),{settings:this.settings})})})):l.type===n.POPUP.EXTENSION_USB_PERMISSIONS?chrome.tabs.query({currentWindow:!0,active:!0},o=>{chrome.tabs.create({url:"trezor-usb-permissions.html",index:o[0].index+1},E=>{})}):l.type===n.POPUP.CLOSE_WINDOW&&(this.emit(n.POPUP.CLOSED),this.close())}handleMessage(f){const{data:_}=f;if(!((0,a.getOrigin)(f.origin)!==this.origin||!_||typeof _!="object"))if(_.type===n.IFRAME.LOADED)this.iframeHandshake.resolve(_.payload);else if(_.type===n.POPUP.BOOTSTRAP)this.openTimeout&&clearTimeout(this.openTimeout);else if(_.type===n.POPUP.ERROR&&this.popupWindow){const l=_.payload&&typeof _.payload.error=="string"?_.payload.error:null;this.emit(n.POPUP.CLOSED,l?`Popup error: ${l}`:null),this.close()}else _.type===n.POPUP.LOADED?(this.popupPromise&&this.popupPromise.resolve(),this.iframeHandshake.promise.then(l=>{this.popupWindow.postMessage({type:n.POPUP.INIT,payload:Object.assign(Object.assign({},l),{settings:this.settings})},this.origin)})):(_.type===n.POPUP.CANCEL_POPUP_REQUEST||_.type===n.UI.CLOSE_UI_WINDOW)&&this.close()}close(){this.locked=!1,this.popupPromise=void 0,this.requestTimeout&&(window.clearTimeout(this.requestTimeout),this.requestTimeout=0),this.openTimeout&&(clearTimeout(this.openTimeout),this.openTimeout=void 0),this.closeInterval&&(window.clearInterval(this.closeInterval),this.closeInterval=0),this.extensionPort&&(this.extensionPort.disconnect(),this.extensionPort=void 0),this.extensionTabId&&(chrome.tabs.update(this.extensionTabId,{active:!0}),this.extensionTabId=0),this.popupWindow&&(this.settings.env==="webextension"?(chrome.runtime.lastError,chrome.tabs.remove(this.popupWindow.id,()=>{chrome.runtime.lastError})):this.popupWindow.close(),this.popupWindow=null)}async postMessage(f){if(!this.popupWindow&&f.type!==n.UI.REQUEST_UI_WINDOW&&this.openTimeout){this.close(),(0,r.showPopupRequest)(this.open.bind(this),()=>{this.emit(n.POPUP.CLOSED)});return}this.popupPromise&&await this.popupPromise.promise,this.popupWindow&&this.popupWindow.postMessage(f,this.origin)}}return Ee.PopupManager=u,Ee}var Se={},zn;function Wi(){if(zn)return Se;zn=1,Object.defineProperty(Se,"__esModule",{value:!0});const t=(e="",i)=>{const n=e||".trezor-webusb-button",a=document.querySelectorAll(n),r=`${i}?${Date.now()}`;a.forEach(s=>{if(s.getElementsByTagName("iframe").length<1){const c=s.getBoundingClientRect(),d=document.createElement("iframe");d.frameBorder="0",d.width=`${Math.round(c.width)}px`,d.height=`${Math.round(c.height)}px`,d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.style.zIndex="1",d.setAttribute("allow","usb"),d.setAttribute("scrolling","no"),d.src=r,s.append(d)}})};return Se.default=t,Se}var ut={},Gn;function Hi(){return Gn||(Gn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.parseConnectSettings=t.getEnv=void 0;const e=be(),i=()=>{var a;if(typeof chrome<"u"&&typeof((a=chrome.runtime)===null||a===void 0?void 0:a.onConnect)<"u")return"webextension";if(typeof navigator<"u"){if(typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative")return"react-native";if(navigator.userAgent.toLowerCase().indexOf(" electron/")>-1)return"electron"}return"web"};t.getEnv=i;const n=(a={})=>{var r;const s=Object.assign({popup:!0},a);let c;if(typeof window<"u"?c=window.__TREZOR_CONNECT_SRC:typeof S<"u"&&(c=S.__TREZOR_CONNECT_SRC),typeof c=="string"&&(s.connectSrc=c,s.debug=!0),typeof window<"u"&&typeof((r=window.location)===null||r===void 0?void 0:r.search)=="string"){const u=window.location.search.split("&").find(h=>h.indexOf("trezor-connect-src")>=0);if(u){const[,h]=u.split("=");s.connectSrc=decodeURIComponent(h),s.debug=!0}}return typeof a.env!="string"&&(s.env=(0,t.getEnv)()),(0,e.parseConnectSettings)(s)};t.parseConnectSettings=n}(ut)),ut}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=lt,i=e.__importDefault(kn),n=be(),a=ai(),r=si(),s=ui(),c=e.__importStar(Gi()),d=e.__importStar(Vi()),u=e.__importDefault(Wi()),h=Hi(),f=new i.default,_=(0,r.initLog)("@trezor/connect");let l=(0,h.parseConnectSettings)(),o;const E=()=>{const g=new d.PopupManager(l);return g.on(n.POPUP.CLOSED,m=>{c.postMessage({type:n.POPUP.CLOSED,payload:m?{error:m}:null},!1)}),g},v=g=>{l=(0,h.parseConnectSettings)(Object.assign(Object.assign({},l),{manifest:g}))},b=()=>(f.removeAllListeners(),c.dispose(),l=(0,h.parseConnectSettings)(),o&&o.close(),Promise.resolve(void 0)),R=g=>{o&&o.emit(n.POPUP.CLOSED,g)},I=g=>{if(g.origin!==c.origin)return;const m=(0,n.parseMessage)(g.data),N=m.id||0;switch(_.log("handleMessage",m),m.event){case n.RESPONSE_EVENT:c.messagePromises[N]?(c.messagePromises[N].resolve({id:N,success:m.success,payload:m.payload}),delete c.messagePromises[N]):_.warn(`Unknown message id ${N}`);break;case n.DEVICE_EVENT:f.emit(m.event,m),f.emit(m.type,m.payload);break;case n.TRANSPORT_EVENT:f.emit(m.event,m),f.emit(m.type,m.payload);break;case n.BLOCKCHAIN_EVENT:f.emit(m.event,m),f.emit(m.type,m.payload);break;case n.UI_EVENT:if(m.type===n.IFRAME.BOOTSTRAP){c.clearTimeout();break}m.type===n.IFRAME.LOADED&&c.initPromise.resolve(),m.type===n.IFRAME.ERROR&&c.initPromise.reject(m.payload.error),f.emit(m.event,m),f.emit(m.type,m.payload);break;default:_.log("Undefined message",m.event,g)}},y=async(g={})=>{var m;if(c.instance)throw n.ERRORS.TypedError("Init_AlreadyInitialized");if(l=(0,h.parseConnectSettings)(Object.assign(Object.assign({},l),g)),!l.manifest)throw n.ERRORS.TypedError("Init_ManifestMissing");if(!((m=l.transports)===null||m===void 0)&&m.length||(l.transports=["BridgeTransport","WebUsbTransport"]),l.lazyLoad){l.lazyLoad=!1;return}o||(o=E()),_.enabled=!!l.debug,window.addEventListener("message",I),window.addEventListener("unload",b),await c.init(l)},p=async g=>{if(!c.instance&&!c.timeout){if(l=(0,h.parseConnectSettings)(l),!l.manifest)return(0,n.createErrorMessage)(n.ERRORS.TypedError("Init_ManifestMissing"));o||(o=E()),o.request(!0);try{await y(l)}catch(m){return o&&(["Init_IframeBlocked","Init_IframeTimeout"].includes(m.code)?o.postMessage((0,n.createUiMessage)(n.UI.IFRAME_FAILURE)):o.close()),(0,n.createErrorMessage)(m)}}if(c.timeout)return(0,n.createErrorMessage)(n.ERRORS.TypedError("Init_ManifestMissing"));if(c.error)return(0,n.createErrorMessage)(c.error);l.popup&&o&&o.request();try{const m=await c.postMessage({type:n.IFRAME.CALL,payload:g});return m?(!m.success&&m.payload.code!=="Device_CallInProgress"&&o&&o.unlock(),m):(o&&o.unlock(),(0,n.createErrorMessage)(n.ERRORS.TypedError("Method_NoResponse")))}catch(m){return _.error("__call error",m),o&&o.close(),(0,n.createErrorMessage)(m)}},P=g=>{if(!c.instance)throw n.ERRORS.TypedError("Init_NotInitialized");const{type:m,payload:N}=g;c.postMessage({event:n.UI_EVENT,type:m,payload:N})},ge=g=>{(0,u.default)(g,l.webusbSrc)},U=async g=>{if(typeof g.callback=="function"){const{callback:m}=g,N=async br=>{const{data:ht}=br;if(ht&&ht.type===n.UI.LOGIN_CHALLENGE_REQUEST)try{const ye=await m();c.postMessage({event:n.UI_EVENT,type:n.UI.LOGIN_CHALLENGE_RESPONSE,payload:ye})}catch(ye){c.postMessage({event:n.UI_EVENT,type:n.UI.LOGIN_CHALLENGE_RESPONSE,payload:ye.message})}};window.addEventListener("message",N,!1);const vr=await p(Object.assign(Object.assign({method:"requestLogin"},g),{asyncChallenge:!0,callback:null}));return window.removeEventListener("message",N),vr}return p(Object.assign({method:"requestLogin"},g))},M=()=>{if(!c.instance)throw n.ERRORS.TypedError("Init_NotInitialized");c.postMessage({event:n.UI_EVENT,type:n.TRANSPORT.DISABLE_WEBUSB})},Er=async()=>{try{await window.navigator.usb.requestDevice({filters:s.config.webusb}),c.postMessage({event:n.UI_EVENT,type:n.TRANSPORT.REQUEST_DEVICE})}catch{}},mr=(0,a.factory)({eventEmitter:f,manifest:v,init:y,call:p,requestLogin:U,uiResponse:P,renderWebUSBButton:ge,disableWebUSB:M,requestWebUSBDevice:Er,cancel:R,dispose:b});t.default=mr,e.__exportStar(be(),t)})(Vn);const $i=Sr(Vn),Yi=Object.freeze(Object.defineProperty({__proto__:null,default:$i},Symbol.toStringTag,{value:"Module"}));export{Yi as i};
