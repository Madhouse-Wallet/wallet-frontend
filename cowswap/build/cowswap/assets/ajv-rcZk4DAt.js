import{g as tn}from"./@1inch-8aFH8gck.js";import{g6 as rn,g3 as Mr,g4 as nn}from"./index-rJtv6IUT.js";var wt={exports:{}},Ar={},pe={},be={},We={},L={},He={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class n extends t{constructor(P){if(super(),!e.IDENTIFIER.test(P))throw new Error("CodeGen: name must be a valid identifier");this.str=P}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=n;class l extends t{constructor(P){super(),this._items=typeof P=="string"?[P]:P}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const P=this._items[0];return P===""||P==='""'}get str(){var P;return(P=this._str)!==null&&P!==void 0?P:this._str=this._items.reduce((S,j)=>`${S}${j}`,"")}get names(){var P;return(P=this._names)!==null&&P!==void 0?P:this._names=this._items.reduce((S,j)=>(j instanceof n&&(S[j.str]=(S[j.str]||0)+1),S),{})}}e._Code=l,e.nil=new l("");function o(u,...P){const S=[u[0]];let j=0;for(;j<P.length;)s(S,P[j]),S.push(u[++j]);return new l(S)}e._=o;const a=new l("+");function d(u,...P){const S=[E(u[0])];let j=0;for(;j<P.length;)S.push(a),s(S,P[j]),S.push(a,E(u[++j]));return i(S),new l(S)}e.str=d;function s(u,P){P instanceof l?u.push(...P._items):P instanceof n?u.push(P):u.push($(P))}e.addCodeArg=s;function i(u){let P=1;for(;P<u.length-1;){if(u[P]===a){const S=f(u[P-1],u[P+1]);if(S!==void 0){u.splice(P-1,3,S);continue}u[P++]="+"}P++}}function f(u,P){if(P==='""')return u;if(u==='""')return P;if(typeof u=="string")return P instanceof n||u[u.length-1]!=='"'?void 0:typeof P!="string"?`${u.slice(0,-1)}${P}"`:P[0]==='"'?u.slice(0,-1)+P.slice(1):void 0;if(typeof P=="string"&&P[0]==='"'&&!(u instanceof n))return`"${u}${P.slice(1)}`}function m(u,P){return P.emptyStr()?u:u.emptyStr()?P:d`${u}${P}`}e.strConcat=m;function $(u){return typeof u=="number"||typeof u=="boolean"||u===null?u:E(Array.isArray(u)?u.join(","):u)}function k(u){return new l(E(u))}e.stringify=k;function E(u){return JSON.stringify(u).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=E;function y(u){return typeof u=="string"&&e.IDENTIFIER.test(u)?new l(`.${u}`):o`[${u}]`}e.getProperty=y;function g(u){if(typeof u=="string"&&e.IDENTIFIER.test(u))return new l(`${u}`);throw new Error(`CodeGen: invalid export name: ${u}, use explicit $id name mapping`)}e.getEsmExportName=g;function p(u){return new l(u.toString())}e.regexpCode=p})(He);var bt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=He;class n extends Error{constructor(f){super(`CodeGen: "code" for ${f} not defined`),this.value=f.value}}var l;(function(i){i[i.Started=0]="Started",i[i.Completed=1]="Completed"})(l=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class o{constructor({prefixes:f,parent:m}={}){this._names={},this._prefixes=f,this._parent=m}toName(f){return f instanceof t.Name?f:this.name(f)}name(f){return new t.Name(this._newName(f))}_newName(f){const m=this._names[f]||this._nameGroup(f);return`${f}${m.index++}`}_nameGroup(f){var m,$;if(!(($=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||$===void 0)&&$.has(f)||this._prefixes&&!this._prefixes.has(f))throw new Error(`CodeGen: prefix "${f}" is not allowed in this scope`);return this._names[f]={prefix:f,index:0}}}e.Scope=o;class a extends t.Name{constructor(f,m){super(m),this.prefix=f}setValue(f,{property:m,itemIndex:$}){this.value=f,this.scopePath=(0,t._)`.${new t.Name(m)}[${$}]`}}e.ValueScopeName=a;const d=(0,t._)`\n`;class s extends o{constructor(f){super(f),this._values={},this._scope=f.scope,this.opts={...f,_n:f.lines?d:t.nil}}get(){return this._scope}name(f){return new a(f,this._newName(f))}value(f,m){var $;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(f),{prefix:E}=k,y=($=m.key)!==null&&$!==void 0?$:m.ref;let g=this._values[E];if(g){const P=g.get(y);if(P)return P}else g=this._values[E]=new Map;g.set(y,k);const p=this._scope[E]||(this._scope[E]=[]),u=p.length;return p[u]=m.ref,k.setValue(m,{property:E,itemIndex:u}),k}getValue(f,m){const $=this._values[f];if($)return $.get(m)}scopeRefs(f,m=this._values){return this._reduceValues(m,$=>{if($.scopePath===void 0)throw new Error(`CodeGen: name "${$}" has no value`);return(0,t._)`${f}${$.scopePath}`})}scopeCode(f=this._values,m,$){return this._reduceValues(f,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},m,$)}_reduceValues(f,m,$={},k){let E=t.nil;for(const y in f){const g=f[y];if(!g)continue;const p=$[y]=$[y]||new Map;g.forEach(u=>{if(p.has(u))return;p.set(u,l.Started);let P=m(u);if(P){const S=this.opts.es5?e.varKinds.var:e.varKinds.const;E=(0,t._)`${E}${S} ${u} = ${P};${this.opts._n}`}else if(P=k==null?void 0:k(u))E=(0,t._)`${E}${P}${this.opts._n}`;else throw new n(u);p.set(u,l.Completed)})}return E}}e.ValueScope=s})(bt);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=He,n=bt;var l=He;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return l.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return l.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return l.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}});var o=bt;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return o.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return o.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return o.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return o.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class a{optimizeNodes(){return this}optimizeNames(r,c){return this}}class d extends a{constructor(r,c,O){super(),this.varKind=r,this.name=c,this.rhs=O}render({es5:r,_n:c}){const O=r?n.varKinds.var:this.varKind,D=this.rhs===void 0?"":` = ${this.rhs}`;return`${O} ${this.name}${D};`+c}optimizeNames(r,c){if(r[this.name.str])return this.rhs&&(this.rhs=X(this.rhs,r,c)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class s extends a{constructor(r,c,O){super(),this.lhs=r,this.rhs=c,this.sideEffects=O}render({_n:r}){return`${this.lhs} = ${this.rhs};`+r}optimizeNames(r,c){if(!(this.lhs instanceof t.Name&&!r[this.lhs.str]&&!this.sideEffects))return this.rhs=X(this.rhs,r,c),this}get names(){const r=this.lhs instanceof t.Name?{}:{...this.lhs.names};return Y(r,this.rhs)}}class i extends s{constructor(r,c,O,D){super(r,O,D),this.op=c}render({_n:r}){return`${this.lhs} ${this.op}= ${this.rhs};`+r}}class f extends a{constructor(r){super(),this.label=r,this.names={}}render({_n:r}){return`${this.label}:`+r}}class m extends a{constructor(r){super(),this.label=r,this.names={}}render({_n:r}){return`break${this.label?` ${this.label}`:""};`+r}}class $ extends a{constructor(r){super(),this.error=r}render({_n:r}){return`throw ${this.error};`+r}get names(){return this.error.names}}class k extends a{constructor(r){super(),this.code=r}render({_n:r}){return`${this.code};`+r}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(r,c){return this.code=X(this.code,r,c),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class E extends a{constructor(r=[]){super(),this.nodes=r}render(r){return this.nodes.reduce((c,O)=>c+O.render(r),"")}optimizeNodes(){const{nodes:r}=this;let c=r.length;for(;c--;){const O=r[c].optimizeNodes();Array.isArray(O)?r.splice(c,1,...O):O?r[c]=O:r.splice(c,1)}return r.length>0?this:void 0}optimizeNames(r,c){const{nodes:O}=this;let D=O.length;for(;D--;){const q=O[D];q.optimizeNames(r,c)||(me(r,q.names),O.splice(D,1))}return O.length>0?this:void 0}get names(){return this.nodes.reduce((r,c)=>B(r,c.names),{})}}class y extends E{render(r){return"{"+r._n+super.render(r)+"}"+r._n}}class g extends E{}class p extends y{}p.kind="else";class u extends y{constructor(r,c){super(c),this.condition=r}render(r){let c=`if(${this.condition})`+super.render(r);return this.else&&(c+="else "+this.else.render(r)),c}optimizeNodes(){super.optimizeNodes();const r=this.condition;if(r===!0)return this.nodes;let c=this.else;if(c){const O=c.optimizeNodes();c=this.else=Array.isArray(O)?new p(O):O}if(c)return r===!1?c instanceof u?c:c.nodes:this.nodes.length?this:new u(we(r),c instanceof u?[c]:c.nodes);if(!(r===!1||!this.nodes.length))return this}optimizeNames(r,c){var O;if(this.else=(O=this.else)===null||O===void 0?void 0:O.optimizeNames(r,c),!!(super.optimizeNames(r,c)||this.else))return this.condition=X(this.condition,r,c),this}get names(){const r=super.names;return Y(r,this.condition),this.else&&B(r,this.else.names),r}}u.kind="if";class P extends y{}P.kind="for";class S extends P{constructor(r){super(),this.iteration=r}render(r){return`for(${this.iteration})`+super.render(r)}optimizeNames(r,c){if(super.optimizeNames(r,c))return this.iteration=X(this.iteration,r,c),this}get names(){return B(super.names,this.iteration.names)}}class j extends P{constructor(r,c,O,D){super(),this.varKind=r,this.name=c,this.from=O,this.to=D}render(r){const c=r.es5?n.varKinds.var:this.varKind,{name:O,from:D,to:q}=this;return`for(${c} ${O}=${D}; ${O}<${q}; ${O}++)`+super.render(r)}get names(){const r=Y(super.names,this.from);return Y(r,this.to)}}class I extends P{constructor(r,c,O,D){super(),this.loop=r,this.varKind=c,this.name=O,this.iterable=D}render(r){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(r)}optimizeNames(r,c){if(super.optimizeNames(r,c))return this.iterable=X(this.iterable,r,c),this}get names(){return B(super.names,this.iterable.names)}}class w extends y{constructor(r,c,O){super(),this.name=r,this.args=c,this.async=O}render(r){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(r)}}w.kind="func";class N extends E{render(r){return"return "+super.render(r)}}N.kind="return";class C extends y{render(r){let c="try"+super.render(r);return this.catch&&(c+=this.catch.render(r)),this.finally&&(c+=this.finally.render(r)),c}optimizeNodes(){var r,c;return super.optimizeNodes(),(r=this.catch)===null||r===void 0||r.optimizeNodes(),(c=this.finally)===null||c===void 0||c.optimizeNodes(),this}optimizeNames(r,c){var O,D;return super.optimizeNames(r,c),(O=this.catch)===null||O===void 0||O.optimizeNames(r,c),(D=this.finally)===null||D===void 0||D.optimizeNames(r,c),this}get names(){const r=super.names;return this.catch&&B(r,this.catch.names),this.finally&&B(r,this.finally.names),r}}class F extends y{constructor(r){super(),this.error=r}render(r){return`catch(${this.error})`+super.render(r)}}F.kind="catch";class K extends y{render(r){return"finally"+super.render(r)}}K.kind="finally";class W{constructor(r,c={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...c,_n:c.lines?`
`:""},this._extScope=r,this._scope=new n.Scope({parent:r}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(r){return this._scope.name(r)}scopeName(r){return this._extScope.name(r)}scopeValue(r,c){const O=this._extScope.value(r,c);return(this._values[O.prefix]||(this._values[O.prefix]=new Set)).add(O),O}getScopeValue(r,c){return this._extScope.getValue(r,c)}scopeRefs(r){return this._extScope.scopeRefs(r,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(r,c,O,D){const q=this._scope.toName(c);return O!==void 0&&D&&(this._constants[q.str]=O),this._leafNode(new d(r,q,O)),q}const(r,c,O){return this._def(n.varKinds.const,r,c,O)}let(r,c,O){return this._def(n.varKinds.let,r,c,O)}var(r,c,O){return this._def(n.varKinds.var,r,c,O)}assign(r,c,O){return this._leafNode(new s(r,c,O))}add(r,c){return this._leafNode(new i(r,e.operators.ADD,c))}code(r){return typeof r=="function"?r():r!==t.nil&&this._leafNode(new k(r)),this}object(...r){const c=["{"];for(const[O,D]of r)c.length>1&&c.push(","),c.push(O),(O!==D||this.opts.es5)&&(c.push(":"),(0,t.addCodeArg)(c,D));return c.push("}"),new t._Code(c)}if(r,c,O){if(this._blockNode(new u(r)),c&&O)this.code(c).else().code(O).endIf();else if(c)this.code(c).endIf();else if(O)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(r){return this._elseNode(new u(r))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(u,p)}_for(r,c){return this._blockNode(r),c&&this.code(c).endFor(),this}for(r,c){return this._for(new S(r),c)}forRange(r,c,O,D,q=this.opts.es5?n.varKinds.var:n.varKinds.let){const H=this._scope.toName(r);return this._for(new j(q,H,c,O),()=>D(H))}forOf(r,c,O,D=n.varKinds.const){const q=this._scope.toName(r);if(this.opts.es5){const H=c instanceof t.Name?c:this.var("_arr",c);return this.forRange("_i",0,(0,t._)`${H}.length`,G=>{this.var(q,(0,t._)`${H}[${G}]`),O(q)})}return this._for(new I("of",D,q,c),()=>O(q))}forIn(r,c,O,D=this.opts.es5?n.varKinds.var:n.varKinds.const){if(this.opts.ownProperties)return this.forOf(r,(0,t._)`Object.keys(${c})`,O);const q=this._scope.toName(r);return this._for(new I("in",D,q,c),()=>O(q))}endFor(){return this._endBlockNode(P)}label(r){return this._leafNode(new f(r))}break(r){return this._leafNode(new m(r))}return(r){const c=new N;if(this._blockNode(c),this.code(r),c.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(N)}try(r,c,O){if(!c&&!O)throw new Error('CodeGen: "try" without "catch" and "finally"');const D=new C;if(this._blockNode(D),this.code(r),c){const q=this.name("e");this._currNode=D.catch=new F(q),c(q)}return O&&(this._currNode=D.finally=new K,this.code(O)),this._endBlockNode(F,K)}throw(r){return this._leafNode(new $(r))}block(r,c){return this._blockStarts.push(this._nodes.length),r&&this.code(r).endBlock(c),this}endBlock(r){const c=this._blockStarts.pop();if(c===void 0)throw new Error("CodeGen: not in self-balancing block");const O=this._nodes.length-c;if(O<0||r!==void 0&&O!==r)throw new Error(`CodeGen: wrong number of nodes: ${O} vs ${r} expected`);return this._nodes.length=c,this}func(r,c=t.nil,O,D){return this._blockNode(new w(r,c,O)),D&&this.code(D).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize(r=1){for(;r-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(r){return this._currNode.nodes.push(r),this}_blockNode(r){this._currNode.nodes.push(r),this._nodes.push(r)}_endBlockNode(r,c){const O=this._currNode;if(O instanceof r||c&&O instanceof c)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${c?`${r.kind}/${c.kind}`:r.kind}"`)}_elseNode(r){const c=this._currNode;if(!(c instanceof u))throw new Error('CodeGen: "else" without "if"');return this._currNode=c.else=r,this}get _root(){return this._nodes[0]}get _currNode(){const r=this._nodes;return r[r.length-1]}set _currNode(r){const c=this._nodes;c[c.length-1]=r}}e.CodeGen=W;function B(b,r){for(const c in r)b[c]=(b[c]||0)+(r[c]||0);return b}function Y(b,r){return r instanceof t._CodeOrName?B(b,r.names):b}function X(b,r,c){if(b instanceof t.Name)return O(b);if(!D(b))return b;return new t._Code(b._items.reduce((q,H)=>(H instanceof t.Name&&(H=O(H)),H instanceof t._Code?q.push(...H._items):q.push(H),q),[]));function O(q){const H=c[q.str];return H===void 0||r[q.str]!==1?q:(delete r[q.str],H)}function D(q){return q instanceof t._Code&&q._items.some(H=>H instanceof t.Name&&r[H.str]===1&&c[H.str]!==void 0)}}function me(b,r){for(const c in r)b[c]=(b[c]||0)-(r[c]||0)}function we(b){return typeof b=="boolean"||typeof b=="number"||b===null?!b:(0,t._)`!${R(b)}`}e.not=we;const je=_(e.operators.AND);function Ve(...b){return b.reduce(je)}e.and=Ve;const Oe=_(e.operators.OR);function A(...b){return b.reduce(Oe)}e.or=A;function _(b){return(r,c)=>r===t.nil?c:c===t.nil?r:(0,t._)`${R(r)} ${b} ${R(c)}`}function R(b){return b instanceof t.Name?b:(0,t._)`(${b})`}})(L);var J={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=L,n=He;function l(w){const N={};for(const C of w)N[C]=!0;return N}e.toHash=l;function o(w,N){return typeof N=="boolean"?N:Object.keys(N).length===0?!0:(a(w,N),!d(N,w.self.RULES.all))}e.alwaysValidSchema=o;function a(w,N=w.schema){const{opts:C,self:F}=w;if(!C.strictSchema||typeof N=="boolean")return;const K=F.RULES.keywords;for(const W in N)K[W]||I(w,`unknown keyword: "${W}"`)}e.checkUnknownRules=a;function d(w,N){if(typeof w=="boolean")return!w;for(const C in w)if(N[C])return!0;return!1}e.schemaHasRules=d;function s(w,N){if(typeof w=="boolean")return!w;for(const C in w)if(C!=="$ref"&&N.all[C])return!0;return!1}e.schemaHasRulesButRef=s;function i({topSchemaRef:w,schemaPath:N},C,F,K){if(!K){if(typeof C=="number"||typeof C=="boolean")return C;if(typeof C=="string")return(0,t._)`${C}`}return(0,t._)`${w}${N}${(0,t.getProperty)(F)}`}e.schemaRefOrVal=i;function f(w){return k(decodeURIComponent(w))}e.unescapeFragment=f;function m(w){return encodeURIComponent($(w))}e.escapeFragment=m;function $(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=$;function k(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=k;function E(w,N){if(Array.isArray(w))for(const C of w)N(C);else N(w)}e.eachItem=E;function y({mergeNames:w,mergeToName:N,mergeValues:C,resultToName:F}){return(K,W,B,Y)=>{const X=B===void 0?W:B instanceof t.Name?(W instanceof t.Name?w(K,W,B):N(K,W,B),B):W instanceof t.Name?(N(K,B,W),W):C(W,B);return Y===t.Name&&!(X instanceof t.Name)?F(K,X):X}}e.mergeEvaluated={props:y({mergeNames:(w,N,C)=>w.if((0,t._)`${C} !== true && ${N} !== undefined`,()=>{w.if((0,t._)`${N} === true`,()=>w.assign(C,!0),()=>w.assign(C,(0,t._)`${C} || {}`).code((0,t._)`Object.assign(${C}, ${N})`))}),mergeToName:(w,N,C)=>w.if((0,t._)`${C} !== true`,()=>{N===!0?w.assign(C,!0):(w.assign(C,(0,t._)`${C} || {}`),p(w,C,N))}),mergeValues:(w,N)=>w===!0?!0:{...w,...N},resultToName:g}),items:y({mergeNames:(w,N,C)=>w.if((0,t._)`${C} !== true && ${N} !== undefined`,()=>w.assign(C,(0,t._)`${N} === true ? true : ${C} > ${N} ? ${C} : ${N}`)),mergeToName:(w,N,C)=>w.if((0,t._)`${C} !== true`,()=>w.assign(C,N===!0?!0:(0,t._)`${C} > ${N} ? ${C} : ${N}`)),mergeValues:(w,N)=>w===!0?!0:Math.max(w,N),resultToName:(w,N)=>w.var("items",N)})};function g(w,N){if(N===!0)return w.var("props",!0);const C=w.var("props",(0,t._)`{}`);return N!==void 0&&p(w,C,N),C}e.evaluatedPropsToName=g;function p(w,N,C){Object.keys(C).forEach(F=>w.assign((0,t._)`${N}${(0,t.getProperty)(F)}`,!0))}e.setEvaluated=p;const u={};function P(w,N){return w.scopeValue("func",{ref:N,code:u[N.code]||(u[N.code]=new n._Code(N.code))})}e.useFunc=P;var S;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(S=e.Type||(e.Type={}));function j(w,N,C){if(w instanceof t.Name){const F=N===S.Num;return C?F?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:F?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return C?(0,t.getProperty)(w).toString():"/"+$(w)}e.getErrorPath=j;function I(w,N,C=w.opts.strictSchema){if(C){if(N=`strict mode: ${N}`,C===!0)throw new Error(N);w.self.logger.warn(N)}}e.checkStrictMode=I})(J);var Xe={},hr;function ge(){if(hr)return Xe;hr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=L,t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Xe.default=t,Xe}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=L,n=J,l=ge();e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:u})=>u?(0,t.str)`"${p}" keyword must be ${u} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function o(p,u=e.keywordError,P,S){const{it:j}=p,{gen:I,compositeRule:w,allErrors:N}=j,C=$(p,u,P);S??(w||N)?i(I,C):f(j,(0,t._)`[${C}]`)}e.reportError=o;function a(p,u=e.keywordError,P){const{it:S}=p,{gen:j,compositeRule:I,allErrors:w}=S,N=$(p,u,P);i(j,N),I||w||f(S,l.default.vErrors)}e.reportExtraError=a;function d(p,u){p.assign(l.default.errors,u),p.if((0,t._)`${l.default.vErrors} !== null`,()=>p.if(u,()=>p.assign((0,t._)`${l.default.vErrors}.length`,u),()=>p.assign(l.default.vErrors,null)))}e.resetErrorsCount=d;function s({gen:p,keyword:u,schemaValue:P,data:S,errsCount:j,it:I}){if(j===void 0)throw new Error("ajv implementation error");const w=p.name("err");p.forRange("i",j,l.default.errors,N=>{p.const(w,(0,t._)`${l.default.vErrors}[${N}]`),p.if((0,t._)`${w}.instancePath === undefined`,()=>p.assign((0,t._)`${w}.instancePath`,(0,t.strConcat)(l.default.instancePath,I.errorPath))),p.assign((0,t._)`${w}.schemaPath`,(0,t.str)`${I.errSchemaPath}/${u}`),I.opts.verbose&&(p.assign((0,t._)`${w}.schema`,P),p.assign((0,t._)`${w}.data`,S))})}e.extendErrors=s;function i(p,u){const P=p.const("err",u);p.if((0,t._)`${l.default.vErrors} === null`,()=>p.assign(l.default.vErrors,(0,t._)`[${P}]`),(0,t._)`${l.default.vErrors}.push(${P})`),p.code((0,t._)`${l.default.errors}++`)}function f(p,u){const{gen:P,validateName:S,schemaEnv:j}=p;j.$async?P.throw((0,t._)`new ${p.ValidationError}(${u})`):(P.assign((0,t._)`${S}.errors`,u),P.return(!1))}const m={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function $(p,u,P){const{createErrors:S}=p.it;return S===!1?(0,t._)`{}`:k(p,u,P)}function k(p,u,P={}){const{gen:S,it:j}=p,I=[E(j,P),y(p,P)];return g(p,u,I),S.object(...I)}function E({errorPath:p},{instancePath:u}){const P=u?(0,t.str)`${p}${(0,n.getErrorPath)(u,n.Type.Str)}`:p;return[l.default.instancePath,(0,t.strConcat)(l.default.instancePath,P)]}function y({keyword:p,it:{errSchemaPath:u}},{schemaPath:P,parentSchema:S}){let j=S?u:(0,t.str)`${u}/${p}`;return P&&(j=(0,t.str)`${j}${(0,n.getErrorPath)(P,n.Type.Str)}`),[m.schemaPath,j]}function g(p,{params:u,message:P},S){const{keyword:j,data:I,schemaValue:w,it:N}=p,{opts:C,propertyName:F,topSchemaRef:K,schemaPath:W}=N;S.push([m.keyword,j],[m.params,typeof u=="function"?u(p):u||(0,t._)`{}`]),C.messages&&S.push([m.message,typeof P=="function"?P(p):P]),C.verbose&&S.push([m.schema,w],[m.parentSchema,(0,t._)`${K}${W}`],[l.default.data,I]),F&&S.push([m.propertyName,F])}})(We);var mr;function sn(){if(mr)return be;mr=1,Object.defineProperty(be,"__esModule",{value:!0}),be.boolOrEmptySchema=be.topBoolOrEmptySchema=void 0;const e=We,t=L,n=ge(),l={message:"boolean schema is false"};function o(s){const{gen:i,schema:f,validateName:m}=s;f===!1?d(s,!1):typeof f=="object"&&f.$async===!0?i.return(n.default.data):(i.assign((0,t._)`${m}.errors`,null),i.return(!0))}be.topBoolOrEmptySchema=o;function a(s,i){const{gen:f,schema:m}=s;m===!1?(f.var(i,!1),d(s)):f.var(i,!0)}be.boolOrEmptySchema=a;function d(s,i){const{gen:f,data:m}=s,$={gen:f,keyword:"false schema",data:m,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:s};(0,e.reportError)($,l,void 0,i)}return be}var Be={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getRules=Ne.isJSONType=void 0;const an=["string","number","integer","boolean","null","object","array"],on=new Set(an);function cn(e){return typeof e=="string"&&on.has(e)}Ne.isJSONType=cn;function ln(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}Ne.getRules=ln;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.shouldUseRule=$e.shouldUseGroup=$e.schemaHasRulesForType=void 0;function un({schema:e,self:t},n){const l=t.RULES.types[n];return l&&l!==!0&&Dr(e,l)}$e.schemaHasRulesForType=un;function Dr(e,t){return t.rules.some(n=>Vr(e,n))}$e.shouldUseGroup=Dr;function Vr(e,t){var n;return e[t.keyword]!==void 0||((n=t.definition.implements)===null||n===void 0?void 0:n.some(l=>e[l]!==void 0))}$e.shouldUseRule=Vr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=Ne,n=$e,l=We,o=L,a=J;var d;(function(S){S[S.Correct=0]="Correct",S[S.Wrong=1]="Wrong"})(d=e.DataType||(e.DataType={}));function s(S){const j=i(S.type);if(j.includes("null")){if(S.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!j.length&&S.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');S.nullable===!0&&j.push("null")}return j}e.getSchemaTypes=s;function i(S){const j=Array.isArray(S)?S:S?[S]:[];if(j.every(t.isJSONType))return j;throw new Error("type must be JSONType or JSONType[]: "+j.join(","))}e.getJSONTypes=i;function f(S,j){const{gen:I,data:w,opts:N}=S,C=$(j,N.coerceTypes),F=j.length>0&&!(C.length===0&&j.length===1&&(0,n.schemaHasRulesForType)(S,j[0]));if(F){const K=g(j,w,N.strictNumbers,d.Wrong);I.if(K,()=>{C.length?k(S,j,C):u(S)})}return F}e.coerceAndCheckDataType=f;const m=new Set(["string","number","integer","boolean","null"]);function $(S,j){return j?S.filter(I=>m.has(I)||j==="array"&&I==="array"):[]}function k(S,j,I){const{gen:w,data:N,opts:C}=S,F=w.let("dataType",(0,o._)`typeof ${N}`),K=w.let("coerced",(0,o._)`undefined`);C.coerceTypes==="array"&&w.if((0,o._)`${F} == 'object' && Array.isArray(${N}) && ${N}.length == 1`,()=>w.assign(N,(0,o._)`${N}[0]`).assign(F,(0,o._)`typeof ${N}`).if(g(j,N,C.strictNumbers),()=>w.assign(K,N))),w.if((0,o._)`${K} !== undefined`);for(const B of I)(m.has(B)||B==="array"&&C.coerceTypes==="array")&&W(B);w.else(),u(S),w.endIf(),w.if((0,o._)`${K} !== undefined`,()=>{w.assign(N,K),E(S,K)});function W(B){switch(B){case"string":w.elseIf((0,o._)`${F} == "number" || ${F} == "boolean"`).assign(K,(0,o._)`"" + ${N}`).elseIf((0,o._)`${N} === null`).assign(K,(0,o._)`""`);return;case"number":w.elseIf((0,o._)`${F} == "boolean" || ${N} === null
              || (${F} == "string" && ${N} && ${N} == +${N})`).assign(K,(0,o._)`+${N}`);return;case"integer":w.elseIf((0,o._)`${F} === "boolean" || ${N} === null
              || (${F} === "string" && ${N} && ${N} == +${N} && !(${N} % 1))`).assign(K,(0,o._)`+${N}`);return;case"boolean":w.elseIf((0,o._)`${N} === "false" || ${N} === 0 || ${N} === null`).assign(K,!1).elseIf((0,o._)`${N} === "true" || ${N} === 1`).assign(K,!0);return;case"null":w.elseIf((0,o._)`${N} === "" || ${N} === 0 || ${N} === false`),w.assign(K,null);return;case"array":w.elseIf((0,o._)`${F} === "string" || ${F} === "number"
              || ${F} === "boolean" || ${N} === null`).assign(K,(0,o._)`[${N}]`)}}}function E({gen:S,parentData:j,parentDataProperty:I},w){S.if((0,o._)`${j} !== undefined`,()=>S.assign((0,o._)`${j}[${I}]`,w))}function y(S,j,I,w=d.Correct){const N=w===d.Correct?o.operators.EQ:o.operators.NEQ;let C;switch(S){case"null":return(0,o._)`${j} ${N} null`;case"array":C=(0,o._)`Array.isArray(${j})`;break;case"object":C=(0,o._)`${j} && typeof ${j} == "object" && !Array.isArray(${j})`;break;case"integer":C=F((0,o._)`!(${j} % 1) && !isNaN(${j})`);break;case"number":C=F();break;default:return(0,o._)`typeof ${j} ${N} ${S}`}return w===d.Correct?C:(0,o.not)(C);function F(K=o.nil){return(0,o.and)((0,o._)`typeof ${j} == "number"`,K,I?(0,o._)`isFinite(${j})`:o.nil)}}e.checkDataType=y;function g(S,j,I,w){if(S.length===1)return y(S[0],j,I,w);let N;const C=(0,a.toHash)(S);if(C.array&&C.object){const F=(0,o._)`typeof ${j} != "object"`;N=C.null?F:(0,o._)`!${j} || ${F}`,delete C.null,delete C.array,delete C.object}else N=o.nil;C.number&&delete C.integer;for(const F in C)N=(0,o.and)(N,y(F,j,I,w));return N}e.checkDataTypes=g;const p={message:({schema:S})=>`must be ${S}`,params:({schema:S,schemaValue:j})=>typeof S=="string"?(0,o._)`{type: ${S}}`:(0,o._)`{type: ${j}}`};function u(S){const j=P(S);(0,l.reportError)(j,p)}e.reportTypeError=u;function P(S){const{gen:j,data:I,schema:w}=S,N=(0,a.schemaRefOrVal)(S,w,"type");return{gen:j,keyword:"type",data:I,schema:w.type,schemaCode:N,schemaValue:N,parentSchema:w,params:{},it:S}}})(Be);var Fe={},pr;function dn(){if(pr)return Fe;pr=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.assignDefaults=void 0;const e=L,t=J;function n(o,a){const{properties:d,items:s}=o.schema;if(a==="object"&&d)for(const i in d)l(o,i,d[i].default);else a==="array"&&Array.isArray(s)&&s.forEach((i,f)=>l(o,f,i.default))}Fe.assignDefaults=n;function l(o,a,d){const{gen:s,compositeRule:i,data:f,opts:m}=o;if(d===void 0)return;const $=(0,e._)`${f}${(0,e.getProperty)(a)}`;if(i){(0,t.checkStrictMode)(o,`default is ignored for: ${$}`);return}let k=(0,e._)`${$} === undefined`;m.useDefaults==="empty"&&(k=(0,e._)`${k} || ${$} === null || ${$} === ""`),s.if(k,(0,e._)`${$} = ${(0,e.stringify)(d)}`)}return Fe}var ue={},z={};Object.defineProperty(z,"__esModule",{value:!0});z.validateUnion=z.validateArray=z.usePattern=z.callValidateCode=z.schemaProperties=z.allSchemaProperties=z.noPropertyInData=z.propertyInData=z.isOwnProperty=z.hasPropFunc=z.reportMissingProp=z.checkMissingProp=z.checkReportMissingProp=void 0;const Q=L,kt=J,_e=ge(),fn=J;function hn(e,t){const{gen:n,data:l,it:o}=e;n.if(Ot(n,l,t,o.opts.ownProperties),()=>{e.setParams({missingProperty:(0,Q._)`${t}`},!0),e.error()})}z.checkReportMissingProp=hn;function mn({gen:e,data:t,it:{opts:n}},l,o){return(0,Q.or)(...l.map(a=>(0,Q.and)(Ot(e,t,a,n.ownProperties),(0,Q._)`${o} = ${a}`)))}z.checkMissingProp=mn;function pn(e,t){e.setParams({missingProperty:t},!0),e.error()}z.reportMissingProp=pn;function qr(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Q._)`Object.prototype.hasOwnProperty`})}z.hasPropFunc=qr;function jt(e,t,n){return(0,Q._)`${qr(e)}.call(${t}, ${n})`}z.isOwnProperty=jt;function yn(e,t,n,l){const o=(0,Q._)`${t}${(0,Q.getProperty)(n)} !== undefined`;return l?(0,Q._)`${o} && ${jt(e,t,n)}`:o}z.propertyInData=yn;function Ot(e,t,n,l){const o=(0,Q._)`${t}${(0,Q.getProperty)(n)} === undefined`;return l?(0,Q.or)(o,(0,Q.not)(jt(e,t,n))):o}z.noPropertyInData=Ot;function Fr(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}z.allSchemaProperties=Fr;function $n(e,t){return Fr(t).filter(n=>!(0,kt.alwaysValidSchema)(e,t[n]))}z.schemaProperties=$n;function _n({schemaCode:e,data:t,it:{gen:n,topSchemaRef:l,schemaPath:o,errorPath:a},it:d},s,i,f){const m=f?(0,Q._)`${e}, ${t}, ${l}${o}`:t,$=[[_e.default.instancePath,(0,Q.strConcat)(_e.default.instancePath,a)],[_e.default.parentData,d.parentData],[_e.default.parentDataProperty,d.parentDataProperty],[_e.default.rootData,_e.default.rootData]];d.opts.dynamicRef&&$.push([_e.default.dynamicAnchors,_e.default.dynamicAnchors]);const k=(0,Q._)`${m}, ${n.object(...$)}`;return i!==Q.nil?(0,Q._)`${s}.call(${i}, ${k})`:(0,Q._)`${s}(${k})`}z.callValidateCode=_n;const vn=(0,Q._)`new RegExp`;function gn({gen:e,it:{opts:t}},n){const l=t.unicodeRegExp?"u":"",{regExp:o}=t.code,a=o(n,l);return e.scopeValue("pattern",{key:a.toString(),ref:a,code:(0,Q._)`${o.code==="new RegExp"?vn:(0,fn.useFunc)(e,o)}(${n}, ${l})`})}z.usePattern=gn;function wn(e){const{gen:t,data:n,keyword:l,it:o}=e,a=t.name("valid");if(o.allErrors){const s=t.let("valid",!0);return d(()=>t.assign(s,!1)),s}return t.var(a,!0),d(()=>t.break()),a;function d(s){const i=t.const("len",(0,Q._)`${n}.length`);t.forRange("i",0,i,f=>{e.subschema({keyword:l,dataProp:f,dataPropType:kt.Type.Num},a),t.if((0,Q.not)(a),s)})}}z.validateArray=wn;function bn(e){const{gen:t,schema:n,keyword:l,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(n.some(i=>(0,kt.alwaysValidSchema)(o,i))&&!o.opts.unevaluated)return;const d=t.let("valid",!1),s=t.name("_valid");t.block(()=>n.forEach((i,f)=>{const m=e.subschema({keyword:l,schemaProp:f,compositeRule:!0},s);t.assign(d,(0,Q._)`${d} || ${s}`),e.mergeValidEvaluated(m,s)||t.if((0,Q.not)(d))})),e.result(d,()=>e.reset(),()=>e.error(!0))}z.validateUnion=bn;var yr;function En(){if(yr)return ue;yr=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.validateKeywordUsage=ue.validSchemaType=ue.funcKeywordCode=ue.macroKeywordCode=void 0;const e=L,t=ge(),n=z,l=We;function o(k,E){const{gen:y,keyword:g,schema:p,parentSchema:u,it:P}=k,S=E.macro.call(P.self,p,u,P),j=f(y,g,S);P.opts.validateSchema!==!1&&P.self.validateSchema(S,!0);const I=y.name("valid");k.subschema({schema:S,schemaPath:e.nil,errSchemaPath:`${P.errSchemaPath}/${g}`,topSchemaRef:j,compositeRule:!0},I),k.pass(I,()=>k.error(!0))}ue.macroKeywordCode=o;function a(k,E){var y;const{gen:g,keyword:p,schema:u,parentSchema:P,$data:S,it:j}=k;i(j,E);const I=!S&&E.compile?E.compile.call(j.self,u,P,j):E.validate,w=f(g,p,I),N=g.let("valid");k.block$data(N,C),k.ok((y=E.valid)!==null&&y!==void 0?y:N);function C(){if(E.errors===!1)W(),E.modifying&&d(k),B(()=>k.error());else{const Y=E.async?F():K();E.modifying&&d(k),B(()=>s(k,Y))}}function F(){const Y=g.let("ruleErrs",null);return g.try(()=>W((0,e._)`await `),X=>g.assign(N,!1).if((0,e._)`${X} instanceof ${j.ValidationError}`,()=>g.assign(Y,(0,e._)`${X}.errors`),()=>g.throw(X))),Y}function K(){const Y=(0,e._)`${w}.errors`;return g.assign(Y,null),W(e.nil),Y}function W(Y=E.async?(0,e._)`await `:e.nil){const X=j.opts.passContext?t.default.this:t.default.self,me=!("compile"in E&&!S||E.schema===!1);g.assign(N,(0,e._)`${Y}${(0,n.callValidateCode)(k,w,X,me)}`,E.modifying)}function B(Y){var X;g.if((0,e.not)((X=E.valid)!==null&&X!==void 0?X:N),Y)}}ue.funcKeywordCode=a;function d(k){const{gen:E,data:y,it:g}=k;E.if(g.parentData,()=>E.assign(y,(0,e._)`${g.parentData}[${g.parentDataProperty}]`))}function s(k,E){const{gen:y}=k;y.if((0,e._)`Array.isArray(${E})`,()=>{y.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${E} : ${t.default.vErrors}.concat(${E})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,l.extendErrors)(k)},()=>k.error())}function i({schemaEnv:k},E){if(E.async&&!k.$async)throw new Error("async keyword in sync schema")}function f(k,E,y){if(y===void 0)throw new Error(`keyword "${E}" failed to compile`);return k.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,e.stringify)(y)})}function m(k,E,y=!1){return!E.length||E.some(g=>g==="array"?Array.isArray(k):g==="object"?k&&typeof k=="object"&&!Array.isArray(k):typeof k==g||y&&typeof k>"u")}ue.validSchemaType=m;function $({schema:k,opts:E,self:y,errSchemaPath:g},p,u){if(Array.isArray(p.keyword)?!p.keyword.includes(u):p.keyword!==u)throw new Error("ajv implementation error");const P=p.dependencies;if(P!=null&&P.some(S=>!Object.prototype.hasOwnProperty.call(k,S)))throw new Error(`parent schema must have dependencies of ${u}: ${P.join(",")}`);if(p.validateSchema&&!p.validateSchema(k[u])){const j=`keyword "${u}" value is invalid at path "${g}": `+y.errorsText(p.validateSchema.errors);if(E.validateSchema==="log")y.logger.error(j);else throw new Error(j)}}return ue.validateKeywordUsage=$,ue}var ye={},$r;function Sn(){if($r)return ye;$r=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.extendSubschemaMode=ye.extendSubschemaData=ye.getSubschema=void 0;const e=L,t=J;function n(a,{keyword:d,schemaProp:s,schema:i,schemaPath:f,errSchemaPath:m,topSchemaRef:$}){if(d!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(d!==void 0){const k=a.schema[d];return s===void 0?{schema:k,schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(d)}`,errSchemaPath:`${a.errSchemaPath}/${d}`}:{schema:k[s],schemaPath:(0,e._)`${a.schemaPath}${(0,e.getProperty)(d)}${(0,e.getProperty)(s)}`,errSchemaPath:`${a.errSchemaPath}/${d}/${(0,t.escapeFragment)(s)}`}}if(i!==void 0){if(f===void 0||m===void 0||$===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:f,topSchemaRef:$,errSchemaPath:m}}throw new Error('either "keyword" or "schema" must be passed')}ye.getSubschema=n;function l(a,d,{dataProp:s,dataPropType:i,data:f,dataTypes:m,propertyName:$}){if(f!==void 0&&s!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:k}=d;if(s!==void 0){const{errorPath:y,dataPathArr:g,opts:p}=d,u=k.let("data",(0,e._)`${d.data}${(0,e.getProperty)(s)}`,!0);E(u),a.errorPath=(0,e.str)`${y}${(0,t.getErrorPath)(s,i,p.jsPropertySyntax)}`,a.parentDataProperty=(0,e._)`${s}`,a.dataPathArr=[...g,a.parentDataProperty]}if(f!==void 0){const y=f instanceof e.Name?f:k.let("data",f,!0);E(y),$!==void 0&&(a.propertyName=$)}m&&(a.dataTypes=m);function E(y){a.data=y,a.dataLevel=d.dataLevel+1,a.dataTypes=[],d.definedProperties=new Set,a.parentData=d.data,a.dataNames=[...d.dataNames,y]}}ye.extendSubschemaData=l;function o(a,{jtdDiscriminator:d,jtdMetadata:s,compositeRule:i,createErrors:f,allErrors:m}){i!==void 0&&(a.compositeRule=i),f!==void 0&&(a.createErrors=f),m!==void 0&&(a.allErrors=m),a.jtdDiscriminator=d,a.jtdMetadata=s}return ye.extendSubschemaMode=o,ye}var re={};Object.defineProperty(re,"__esModule",{value:!0});re.getSchemaRefs=re.resolveUrl=re.normalizeId=re._getFullPath=re.getFullPath=re.inlineRef=void 0;const Pn=J,Nn=Mr,kn=rn,jn=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function On(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Et(e):t?Kr(e)<=t:!1}re.inlineRef=On;const Tn=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Et(e){for(const t in e){if(Tn.has(t))return!0;const n=e[t];if(Array.isArray(n)&&n.some(Et)||typeof n=="object"&&Et(n))return!0}return!1}function Kr(e){let t=0;for(const n in e){if(n==="$ref")return 1/0;if(t++,!jn.has(n)&&(typeof e[n]=="object"&&(0,Pn.eachItem)(e[n],l=>t+=Kr(l)),t===1/0))return 1/0}return t}function Ur(e,t="",n){n!==!1&&(t=Ie(t));const l=e.parse(t);return zr(e,l)}re.getFullPath=Ur;function zr(e,t){return e.serialize(t).split("#")[0]+"#"}re._getFullPath=zr;const Rn=/#\/?$/;function Ie(e){return e?e.replace(Rn,""):""}re.normalizeId=Ie;function Cn(e,t,n){return n=Ie(n),e.resolve(t,n)}re.resolveUrl=Cn;const In=/^[a-z_][-a-z0-9._]*$/i;function Mn(e,t){if(typeof e=="boolean")return{};const{schemaId:n,uriResolver:l}=this.opts,o=Ie(e[n]||t),a={"":o},d=Ur(l,o,!1),s={},i=new Set;return kn(e,{allKeys:!0},($,k,E,y)=>{if(y===void 0)return;const g=d+k;let p=a[y];typeof $[n]=="string"&&(p=u.call(this,$[n])),P.call(this,$.$anchor),P.call(this,$.$dynamicAnchor),a[k]=p;function u(S){const j=this.opts.uriResolver.resolve;if(S=Ie(p?j(p,S):S),i.has(S))throw m(S);i.add(S);let I=this.refs[S];return typeof I=="string"&&(I=this.refs[I]),typeof I=="object"?f($,I.schema,S):S!==Ie(g)&&(S[0]==="#"?(f($,s[S],S),s[S]=$):this.refs[S]=g),S}function P(S){if(typeof S=="string"){if(!In.test(S))throw new Error(`invalid anchor "${S}"`);u.call(this,`#${S}`)}}}),s;function f($,k,E){if(k!==void 0&&!Nn($,k))throw m(E)}function m($){return new Error(`reference "${$}" resolves to more than one schema`)}}re.getSchemaRefs=Mn;var _r;function dt(){if(_r)return pe;_r=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.getData=pe.KeywordCxt=pe.validateFunctionCode=void 0;const e=sn(),t=Be,n=$e,l=Be,o=dn(),a=En(),d=Sn(),s=L,i=ge(),f=re,m=J,$=We;function k(h){if(I(h)&&(N(h),j(h))){p(h);return}E(h,()=>(0,e.topBoolOrEmptySchema)(h))}pe.validateFunctionCode=k;function E({gen:h,validateName:v,schema:T,schemaEnv:M,opts:V},U){V.code.es5?h.func(v,(0,s._)`${i.default.data}, ${i.default.valCxt}`,M.$async,()=>{h.code((0,s._)`"use strict"; ${P(T,V)}`),g(h,V),h.code(U)}):h.func(v,(0,s._)`${i.default.data}, ${y(V)}`,M.$async,()=>h.code(P(T,V)).code(U))}function y(h){return(0,s._)`{${i.default.instancePath}="", ${i.default.parentData}, ${i.default.parentDataProperty}, ${i.default.rootData}=${i.default.data}${h.dynamicRef?(0,s._)`, ${i.default.dynamicAnchors}={}`:s.nil}}={}`}function g(h,v){h.if(i.default.valCxt,()=>{h.var(i.default.instancePath,(0,s._)`${i.default.valCxt}.${i.default.instancePath}`),h.var(i.default.parentData,(0,s._)`${i.default.valCxt}.${i.default.parentData}`),h.var(i.default.parentDataProperty,(0,s._)`${i.default.valCxt}.${i.default.parentDataProperty}`),h.var(i.default.rootData,(0,s._)`${i.default.valCxt}.${i.default.rootData}`),v.dynamicRef&&h.var(i.default.dynamicAnchors,(0,s._)`${i.default.valCxt}.${i.default.dynamicAnchors}`)},()=>{h.var(i.default.instancePath,(0,s._)`""`),h.var(i.default.parentData,(0,s._)`undefined`),h.var(i.default.parentDataProperty,(0,s._)`undefined`),h.var(i.default.rootData,i.default.data),v.dynamicRef&&h.var(i.default.dynamicAnchors,(0,s._)`{}`)})}function p(h){const{schema:v,opts:T,gen:M}=h;E(h,()=>{T.$comment&&v.$comment&&Y(h),K(h),M.let(i.default.vErrors,null),M.let(i.default.errors,0),T.unevaluated&&u(h),C(h),X(h)})}function u(h){const{gen:v,validateName:T}=h;h.evaluated=v.const("evaluated",(0,s._)`${T}.evaluated`),v.if((0,s._)`${h.evaluated}.dynamicProps`,()=>v.assign((0,s._)`${h.evaluated}.props`,(0,s._)`undefined`)),v.if((0,s._)`${h.evaluated}.dynamicItems`,()=>v.assign((0,s._)`${h.evaluated}.items`,(0,s._)`undefined`))}function P(h,v){const T=typeof h=="object"&&h[v.schemaId];return T&&(v.code.source||v.code.process)?(0,s._)`/*# sourceURL=${T} */`:s.nil}function S(h,v){if(I(h)&&(N(h),j(h))){w(h,v);return}(0,e.boolOrEmptySchema)(h,v)}function j({schema:h,self:v}){if(typeof h=="boolean")return!h;for(const T in h)if(v.RULES.all[T])return!0;return!1}function I(h){return typeof h.schema!="boolean"}function w(h,v){const{schema:T,gen:M,opts:V}=h;V.$comment&&T.$comment&&Y(h),W(h),B(h);const U=M.const("_errs",i.default.errors);C(h,U),M.var(v,(0,s._)`${U} === ${i.default.errors}`)}function N(h){(0,m.checkUnknownRules)(h),F(h)}function C(h,v){if(h.opts.jtd)return we(h,[],!1,v);const T=(0,t.getSchemaTypes)(h.schema),M=(0,t.coerceAndCheckDataType)(h,T);we(h,T,!M,v)}function F(h){const{schema:v,errSchemaPath:T,opts:M,self:V}=h;v.$ref&&M.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(v,V.RULES)&&V.logger.warn(`$ref: keywords ignored in schema at path "${T}"`)}function K(h){const{schema:v,opts:T}=h;v.default!==void 0&&T.useDefaults&&T.strictSchema&&(0,m.checkStrictMode)(h,"default is ignored in the schema root")}function W(h){const v=h.schema[h.opts.schemaId];v&&(h.baseId=(0,f.resolveUrl)(h.opts.uriResolver,h.baseId,v))}function B(h){if(h.schema.$async&&!h.schemaEnv.$async)throw new Error("async schema in sync schema")}function Y({gen:h,schemaEnv:v,schema:T,errSchemaPath:M,opts:V}){const U=T.$comment;if(V.$comment===!0)h.code((0,s._)`${i.default.self}.logger.log(${U})`);else if(typeof V.$comment=="function"){const x=(0,s.str)`${M}/$comment`,le=h.scopeValue("root",{ref:v.root});h.code((0,s._)`${i.default.self}.opts.$comment(${U}, ${x}, ${le}.schema)`)}}function X(h){const{gen:v,schemaEnv:T,validateName:M,ValidationError:V,opts:U}=h;T.$async?v.if((0,s._)`${i.default.errors} === 0`,()=>v.return(i.default.data),()=>v.throw((0,s._)`new ${V}(${i.default.vErrors})`)):(v.assign((0,s._)`${M}.errors`,i.default.vErrors),U.unevaluated&&me(h),v.return((0,s._)`${i.default.errors} === 0`))}function me({gen:h,evaluated:v,props:T,items:M}){T instanceof s.Name&&h.assign((0,s._)`${v}.props`,T),M instanceof s.Name&&h.assign((0,s._)`${v}.items`,M)}function we(h,v,T,M){const{gen:V,schema:U,data:x,allErrors:le,opts:ne,self:se}=h,{RULES:ee}=se;if(U.$ref&&(ne.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(U,ee))){V.block(()=>D(h,"$ref",ee.all.$ref.definition));return}ne.jtd||Ve(h,v),V.block(()=>{for(const ie of ee.rules)Te(ie);Te(ee.post)});function Te(ie){(0,n.shouldUseGroup)(U,ie)&&(ie.type?(V.if((0,l.checkDataType)(ie.type,x,ne.strictNumbers)),je(h,ie),v.length===1&&v[0]===ie.type&&T&&(V.else(),(0,l.reportTypeError)(h)),V.endIf()):je(h,ie),le||V.if((0,s._)`${i.default.errors} === ${M||0}`))}}function je(h,v){const{gen:T,schema:M,opts:{useDefaults:V}}=h;V&&(0,o.assignDefaults)(h,v.type),T.block(()=>{for(const U of v.rules)(0,n.shouldUseRule)(M,U)&&D(h,U.keyword,U.definition,v.type)})}function Ve(h,v){h.schemaEnv.meta||!h.opts.strictTypes||(Oe(h,v),h.opts.allowUnionTypes||A(h,v),_(h,h.dataTypes))}function Oe(h,v){if(v.length){if(!h.dataTypes.length){h.dataTypes=v;return}v.forEach(T=>{b(h.dataTypes,T)||c(h,`type "${T}" not allowed by context "${h.dataTypes.join(",")}"`)}),r(h,v)}}function A(h,v){v.length>1&&!(v.length===2&&v.includes("null"))&&c(h,"use allowUnionTypes to allow union type keyword")}function _(h,v){const T=h.self.RULES.all;for(const M in T){const V=T[M];if(typeof V=="object"&&(0,n.shouldUseRule)(h.schema,V)){const{type:U}=V.definition;U.length&&!U.some(x=>R(v,x))&&c(h,`missing type "${U.join(",")}" for keyword "${M}"`)}}}function R(h,v){return h.includes(v)||v==="number"&&h.includes("integer")}function b(h,v){return h.includes(v)||v==="integer"&&h.includes("number")}function r(h,v){const T=[];for(const M of h.dataTypes)b(v,M)?T.push(M):v.includes("integer")&&M==="number"&&T.push("integer");h.dataTypes=T}function c(h,v){const T=h.schemaEnv.baseId+h.errSchemaPath;v+=` at "${T}" (strictTypes)`,(0,m.checkStrictMode)(h,v,h.opts.strictTypes)}class O{constructor(v,T,M){if((0,a.validateKeywordUsage)(v,T,M),this.gen=v.gen,this.allErrors=v.allErrors,this.keyword=M,this.data=v.data,this.schema=v.schema[M],this.$data=T.$data&&v.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(v,this.schema,M,this.$data),this.schemaType=T.schemaType,this.parentSchema=v.schema,this.params={},this.it=v,this.def=T,this.$data)this.schemaCode=v.gen.const("vSchema",G(this.$data,v));else if(this.schemaCode=this.schemaValue,!(0,a.validSchemaType)(this.schema,T.schemaType,T.allowUndefined))throw new Error(`${M} value must be ${JSON.stringify(T.schemaType)}`);("code"in T?T.trackErrors:T.errors!==!1)&&(this.errsCount=v.gen.const("_errs",i.default.errors))}result(v,T,M){this.failResult((0,s.not)(v),T,M)}failResult(v,T,M){this.gen.if(v),M?M():this.error(),T?(this.gen.else(),T(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(v,T){this.failResult((0,s.not)(v),void 0,T)}fail(v){if(v===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(v),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(v){if(!this.$data)return this.fail(v);const{schemaCode:T}=this;this.fail((0,s._)`${T} !== undefined && (${(0,s.or)(this.invalid$data(),v)})`)}error(v,T,M){if(T){this.setParams(T),this._error(v,M),this.setParams({});return}this._error(v,M)}_error(v,T){(v?$.reportExtraError:$.reportError)(this,this.def.error,T)}$dataError(){(0,$.reportError)(this,this.def.$dataError||$.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,$.resetErrorsCount)(this.gen,this.errsCount)}ok(v){this.allErrors||this.gen.if(v)}setParams(v,T){T?Object.assign(this.params,v):this.params=v}block$data(v,T,M=s.nil){this.gen.block(()=>{this.check$data(v,M),T()})}check$data(v=s.nil,T=s.nil){if(!this.$data)return;const{gen:M,schemaCode:V,schemaType:U,def:x}=this;M.if((0,s.or)((0,s._)`${V} === undefined`,T)),v!==s.nil&&M.assign(v,!0),(U.length||x.validateSchema)&&(M.elseIf(this.invalid$data()),this.$dataError(),v!==s.nil&&M.assign(v,!1)),M.else()}invalid$data(){const{gen:v,schemaCode:T,schemaType:M,def:V,it:U}=this;return(0,s.or)(x(),le());function x(){if(M.length){if(!(T instanceof s.Name))throw new Error("ajv implementation error");const ne=Array.isArray(M)?M:[M];return(0,s._)`${(0,l.checkDataTypes)(ne,T,U.opts.strictNumbers,l.DataType.Wrong)}`}return s.nil}function le(){if(V.validateSchema){const ne=v.scopeValue("validate$data",{ref:V.validateSchema});return(0,s._)`!${ne}(${T})`}return s.nil}}subschema(v,T){const M=(0,d.getSubschema)(this.it,v);(0,d.extendSubschemaData)(M,this.it,v),(0,d.extendSubschemaMode)(M,v);const V={...this.it,...M,items:void 0,props:void 0};return S(V,T),V}mergeEvaluated(v,T){const{it:M,gen:V}=this;M.opts.unevaluated&&(M.props!==!0&&v.props!==void 0&&(M.props=m.mergeEvaluated.props(V,v.props,M.props,T)),M.items!==!0&&v.items!==void 0&&(M.items=m.mergeEvaluated.items(V,v.items,M.items,T)))}mergeValidEvaluated(v,T){const{it:M,gen:V}=this;if(M.opts.unevaluated&&(M.props!==!0||M.items!==!0))return V.if(T,()=>this.mergeEvaluated(v,s.Name)),!0}}pe.KeywordCxt=O;function D(h,v,T,M){const V=new O(h,T,v);"code"in T?T.code(V,M):V.$data&&T.validate?(0,a.funcKeywordCode)(V,T):"macro"in T?(0,a.macroKeywordCode)(V,T):(T.compile||T.validate)&&(0,a.funcKeywordCode)(V,T)}const q=/^\/(?:[^~]|~0|~1)*$/,H=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function G(h,{dataLevel:v,dataNames:T,dataPathArr:M}){let V,U;if(h==="")return i.default.rootData;if(h[0]==="/"){if(!q.test(h))throw new Error(`Invalid JSON-pointer: ${h}`);V=h,U=i.default.rootData}else{const se=H.exec(h);if(!se)throw new Error(`Invalid JSON-pointer: ${h}`);const ee=+se[1];if(V=se[2],V==="#"){if(ee>=v)throw new Error(ne("property/index",ee));return M[v-ee]}if(ee>v)throw new Error(ne("data",ee));if(U=T[v-ee],!V)return U}let x=U;const le=V.split("/");for(const se of le)se&&(U=(0,s._)`${U}${(0,s.getProperty)((0,m.unescapeJsonPointer)(se))}`,x=(0,s._)`${x} && ${U}`);return x;function ne(se,ee){return`Cannot access ${se} ${ee} levels up, current level is ${v}`}}return pe.getData=G,pe}var Ye={},vr;function Tt(){if(vr)return Ye;vr=1,Object.defineProperty(Ye,"__esModule",{value:!0});class e extends Error{constructor(n){super("validation failed"),this.errors=n,this.ajv=this.validation=!0}}return Ye.default=e,Ye}var Ze={},gr;function Rt(){if(gr)return Ze;gr=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=re;class t extends Error{constructor(l,o,a,d){super(d||`can't resolve reference ${a} from id ${o}`),this.missingRef=(0,e.resolveUrl)(l,o,a),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(l,this.missingRef))}}return Ze.default=t,Ze}var oe={};Object.defineProperty(oe,"__esModule",{value:!0});oe.resolveSchema=oe.getCompilingSchema=oe.resolveRef=oe.compileSchema=oe.SchemaEnv=void 0;const de=L,An=Tt(),Ee=ge(),he=re,wr=J,Dn=dt();class ft{constructor(t){var n;this.refs={},this.dynamicAnchors={};let l;typeof t.schema=="object"&&(l=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(n=t.baseId)!==null&&n!==void 0?n:(0,he.normalizeId)(l==null?void 0:l[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=l==null?void 0:l.$async,this.refs={}}}oe.SchemaEnv=ft;function Ct(e){const t=Lr.call(this,e);if(t)return t;const n=(0,he.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:l,lines:o}=this.opts.code,{ownProperties:a}=this.opts,d=new de.CodeGen(this.scope,{es5:l,lines:o,ownProperties:a});let s;e.$async&&(s=d.scopeValue("Error",{ref:An.default,code:(0,de._)`require("ajv/dist/runtime/validation_error").default`}));const i=d.scopeName("validate");e.validateName=i;const f={gen:d,allErrors:this.opts.allErrors,data:Ee.default.data,parentData:Ee.default.parentData,parentDataProperty:Ee.default.parentDataProperty,dataNames:[Ee.default.data],dataPathArr:[de.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:d.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,de.stringify)(e.schema)}:{ref:e.schema}),validateName:i,ValidationError:s,schema:e.schema,schemaEnv:e,rootId:n,baseId:e.baseId||n,schemaPath:de.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,de._)`""`,opts:this.opts,self:this};let m;try{this._compilations.add(e),(0,Dn.validateFunctionCode)(f),d.optimize(this.opts.code.optimize);const $=d.toString();m=`${d.scopeRefs(Ee.default.scope)}return ${$}`,this.opts.code.process&&(m=this.opts.code.process(m,e));const E=new Function(`${Ee.default.self}`,`${Ee.default.scope}`,m)(this,this.scope.get());if(this.scope.value(i,{ref:E}),E.errors=null,E.schema=e.schema,E.schemaEnv=e,e.$async&&(E.$async=!0),this.opts.code.source===!0&&(E.source={validateName:i,validateCode:$,scopeValues:d._values}),this.opts.unevaluated){const{props:y,items:g}=f;E.evaluated={props:y instanceof de.Name?void 0:y,items:g instanceof de.Name?void 0:g,dynamicProps:y instanceof de.Name,dynamicItems:g instanceof de.Name},E.source&&(E.source.evaluated=(0,de.stringify)(E.evaluated))}return e.validate=E,e}catch($){throw delete e.validate,delete e.validateName,m&&this.logger.error("Error compiling schema, function code:",m),$}finally{this._compilations.delete(e)}}oe.compileSchema=Ct;function Vn(e,t,n){var l;n=(0,he.resolveUrl)(this.opts.uriResolver,t,n);const o=e.refs[n];if(o)return o;let a=Kn.call(this,e,n);if(a===void 0){const d=(l=e.localRefs)===null||l===void 0?void 0:l[n],{schemaId:s}=this.opts;d&&(a=new ft({schema:d,schemaId:s,root:e,baseId:t}))}if(a!==void 0)return e.refs[n]=qn.call(this,a)}oe.resolveRef=Vn;function qn(e){return(0,he.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Ct.call(this,e)}function Lr(e){for(const t of this._compilations)if(Fn(t,e))return t}oe.getCompilingSchema=Lr;function Fn(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Kn(e,t){let n;for(;typeof(n=this.refs[t])=="string";)t=n;return n||this.schemas[t]||ht.call(this,e,t)}function ht(e,t){const n=this.opts.uriResolver.parse(t),l=(0,he._getFullPath)(this.opts.uriResolver,n);let o=(0,he.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&l===o)return _t.call(this,n,e);const a=(0,he.normalizeId)(l),d=this.refs[a]||this.schemas[a];if(typeof d=="string"){const s=ht.call(this,e,d);return typeof(s==null?void 0:s.schema)!="object"?void 0:_t.call(this,n,s)}if(typeof(d==null?void 0:d.schema)=="object"){if(d.validate||Ct.call(this,d),a===(0,he.normalizeId)(t)){const{schema:s}=d,{schemaId:i}=this.opts,f=s[i];return f&&(o=(0,he.resolveUrl)(this.opts.uriResolver,o,f)),new ft({schema:s,schemaId:i,root:e,baseId:o})}return _t.call(this,n,d)}}oe.resolveSchema=ht;const Un=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _t(e,{baseId:t,schema:n,root:l}){var o;if(((o=e.fragment)===null||o===void 0?void 0:o[0])!=="/")return;for(const s of e.fragment.slice(1).split("/")){if(typeof n=="boolean")return;const i=n[(0,wr.unescapeFragment)(s)];if(i===void 0)return;n=i;const f=typeof n=="object"&&n[this.opts.schemaId];!Un.has(s)&&f&&(t=(0,he.resolveUrl)(this.opts.uriResolver,t,f))}let a;if(typeof n!="boolean"&&n.$ref&&!(0,wr.schemaHasRulesButRef)(n,this.RULES)){const s=(0,he.resolveUrl)(this.opts.uriResolver,t,n.$ref);a=ht.call(this,l,s)}const{schemaId:d}=this.opts;if(a=a||new ft({schema:n,schemaId:d,root:l,baseId:t}),a.schema!==a.root.schema)return a}const zn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Ln="Meta-schema for $data reference (JSON AnySchema extension proposal)",Gn="object",Jn=["$data"],Hn={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Bn=!1,Wn={$id:zn,description:Ln,type:Gn,required:Jn,properties:Hn,additionalProperties:Bn};var It={};Object.defineProperty(It,"__esModule",{value:!0});const Gr=nn;Gr.code='require("ajv/dist/runtime/uri").default';It.default=Gr;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=dt();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var n=L;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return n.CodeGen}});const l=Tt(),o=Rt(),a=Ne,d=oe,s=L,i=re,f=Be,m=J,$=Wn,k=It,E=(A,_)=>new RegExp(A,_);E.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},u={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},P=200;function S(A){var _,R,b,r,c,O,D,q,H,G,h,v,T,M,V,U,x,le,ne,se,ee,Te,ie,pt,yt;const qe=A.strict,$t=(_=A.code)===null||_===void 0?void 0:_.optimize,dr=$t===!0||$t===void 0?1:$t||0,fr=(b=(R=A.code)===null||R===void 0?void 0:R.regExp)!==null&&b!==void 0?b:E,en=(r=A.uriResolver)!==null&&r!==void 0?r:k.default;return{strictSchema:(O=(c=A.strictSchema)!==null&&c!==void 0?c:qe)!==null&&O!==void 0?O:!0,strictNumbers:(q=(D=A.strictNumbers)!==null&&D!==void 0?D:qe)!==null&&q!==void 0?q:!0,strictTypes:(G=(H=A.strictTypes)!==null&&H!==void 0?H:qe)!==null&&G!==void 0?G:"log",strictTuples:(v=(h=A.strictTuples)!==null&&h!==void 0?h:qe)!==null&&v!==void 0?v:"log",strictRequired:(M=(T=A.strictRequired)!==null&&T!==void 0?T:qe)!==null&&M!==void 0?M:!1,code:A.code?{...A.code,optimize:dr,regExp:fr}:{optimize:dr,regExp:fr},loopRequired:(V=A.loopRequired)!==null&&V!==void 0?V:P,loopEnum:(U=A.loopEnum)!==null&&U!==void 0?U:P,meta:(x=A.meta)!==null&&x!==void 0?x:!0,messages:(le=A.messages)!==null&&le!==void 0?le:!0,inlineRefs:(ne=A.inlineRefs)!==null&&ne!==void 0?ne:!0,schemaId:(se=A.schemaId)!==null&&se!==void 0?se:"$id",addUsedSchema:(ee=A.addUsedSchema)!==null&&ee!==void 0?ee:!0,validateSchema:(Te=A.validateSchema)!==null&&Te!==void 0?Te:!0,validateFormats:(ie=A.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(pt=A.unicodeRegExp)!==null&&pt!==void 0?pt:!0,int32range:(yt=A.int32range)!==null&&yt!==void 0?yt:!0,uriResolver:en}}class j{constructor(_={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,_=this.opts={..._,...S(_)};const{es5:R,lines:b}=this.opts.code;this.scope=new s.ValueScope({scope:{},prefixes:g,es5:R,lines:b}),this.logger=B(_.logger);const r=_.validateFormats;_.validateFormats=!1,this.RULES=(0,a.getRules)(),I.call(this,p,_,"NOT SUPPORTED"),I.call(this,u,_,"DEPRECATED","warn"),this._metaOpts=K.call(this),_.formats&&C.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),_.keywords&&F.call(this,_.keywords),typeof _.meta=="object"&&this.addMetaSchema(_.meta),N.call(this),_.validateFormats=r}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:_,meta:R,schemaId:b}=this.opts;let r=$;b==="id"&&(r={...$},r.id=r.$id,delete r.$id),R&&_&&this.addMetaSchema(r,r[b],!1)}defaultMeta(){const{meta:_,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof _=="object"?_[R]||_:void 0}validate(_,R){let b;if(typeof _=="string"){if(b=this.getSchema(_),!b)throw new Error(`no schema with key or ref "${_}"`)}else b=this.compile(_);const r=b(R);return"$async"in b||(this.errors=b.errors),r}compile(_,R){const b=this._addSchema(_,R);return b.validate||this._compileSchemaEnv(b)}compileAsync(_,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:b}=this.opts;return r.call(this,_,R);async function r(G,h){await c.call(this,G.$schema);const v=this._addSchema(G,h);return v.validate||O.call(this,v)}async function c(G){G&&!this.getSchema(G)&&await r.call(this,{$ref:G},!0)}async function O(G){try{return this._compileSchemaEnv(G)}catch(h){if(!(h instanceof o.default))throw h;return D.call(this,h),await q.call(this,h.missingSchema),O.call(this,G)}}function D({missingSchema:G,missingRef:h}){if(this.refs[G])throw new Error(`AnySchema ${G} is loaded but ${h} cannot be resolved`)}async function q(G){const h=await H.call(this,G);this.refs[G]||await c.call(this,h.$schema),this.refs[G]||this.addSchema(h,G,R)}async function H(G){const h=this._loading[G];if(h)return h;try{return await(this._loading[G]=b(G))}finally{delete this._loading[G]}}}addSchema(_,R,b,r=this.opts.validateSchema){if(Array.isArray(_)){for(const O of _)this.addSchema(O,void 0,b,r);return this}let c;if(typeof _=="object"){const{schemaId:O}=this.opts;if(c=_[O],c!==void 0&&typeof c!="string")throw new Error(`schema ${O} must be string`)}return R=(0,i.normalizeId)(R||c),this._checkUnique(R),this.schemas[R]=this._addSchema(_,b,R,r,!0),this}addMetaSchema(_,R,b=this.opts.validateSchema){return this.addSchema(_,R,!0,b),this}validateSchema(_,R){if(typeof _=="boolean")return!0;let b;if(b=_.$schema,b!==void 0&&typeof b!="string")throw new Error("$schema must be a string");if(b=b||this.opts.defaultMeta||this.defaultMeta(),!b)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const r=this.validate(b,_);if(!r&&R){const c="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(c);else throw new Error(c)}return r}getSchema(_){let R;for(;typeof(R=w.call(this,_))=="string";)_=R;if(R===void 0){const{schemaId:b}=this.opts,r=new d.SchemaEnv({schema:{},schemaId:b});if(R=d.resolveSchema.call(this,r,_),!R)return;this.refs[_]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(_){if(_ instanceof RegExp)return this._removeAllSchemas(this.schemas,_),this._removeAllSchemas(this.refs,_),this;switch(typeof _){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=w.call(this,_);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[_],delete this.refs[_],this}case"object":{const R=_;this._cache.delete(R);let b=_[this.opts.schemaId];return b&&(b=(0,i.normalizeId)(b),delete this.schemas[b],delete this.refs[b]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(_){for(const R of _)this.addKeyword(R);return this}addKeyword(_,R){let b;if(typeof _=="string")b=_,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=b);else if(typeof _=="object"&&R===void 0){if(R=_,b=R.keyword,Array.isArray(b)&&!b.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(X.call(this,b,R),!R)return(0,m.eachItem)(b,c=>me.call(this,c)),this;je.call(this,R);const r={...R,type:(0,f.getJSONTypes)(R.type),schemaType:(0,f.getJSONTypes)(R.schemaType)};return(0,m.eachItem)(b,r.type.length===0?c=>me.call(this,c,r):c=>r.type.forEach(O=>me.call(this,c,r,O))),this}getKeyword(_){const R=this.RULES.all[_];return typeof R=="object"?R.definition:!!R}removeKeyword(_){const{RULES:R}=this;delete R.keywords[_],delete R.all[_];for(const b of R.rules){const r=b.rules.findIndex(c=>c.keyword===_);r>=0&&b.rules.splice(r,1)}return this}addFormat(_,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[_]=R,this}errorsText(_=this.errors,{separator:R=", ",dataVar:b="data"}={}){return!_||_.length===0?"No errors":_.map(r=>`${b}${r.instancePath} ${r.message}`).reduce((r,c)=>r+R+c)}$dataMetaSchema(_,R){const b=this.RULES.all;_=JSON.parse(JSON.stringify(_));for(const r of R){const c=r.split("/").slice(1);let O=_;for(const D of c)O=O[D];for(const D in b){const q=b[D];if(typeof q!="object")continue;const{$data:H}=q.definition,G=O[D];H&&G&&(O[D]=Oe(G))}}return _}_removeAllSchemas(_,R){for(const b in _){const r=_[b];(!R||R.test(b))&&(typeof r=="string"?delete _[b]:r&&!r.meta&&(this._cache.delete(r.schema),delete _[b]))}}_addSchema(_,R,b,r=this.opts.validateSchema,c=this.opts.addUsedSchema){let O;const{schemaId:D}=this.opts;if(typeof _=="object")O=_[D];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof _!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(_);if(q!==void 0)return q;b=(0,i.normalizeId)(O||b);const H=i.getSchemaRefs.call(this,_,b);return q=new d.SchemaEnv({schema:_,schemaId:D,meta:R,baseId:b,localRefs:H}),this._cache.set(q.schema,q),c&&!b.startsWith("#")&&(b&&this._checkUnique(b),this.refs[b]=q),r&&this.validateSchema(_,!0),q}_checkUnique(_){if(this.schemas[_]||this.refs[_])throw new Error(`schema with key or id "${_}" already exists`)}_compileSchemaEnv(_){if(_.meta?this._compileMetaSchema(_):d.compileSchema.call(this,_),!_.validate)throw new Error("ajv implementation error");return _.validate}_compileMetaSchema(_){const R=this.opts;this.opts=this._metaOpts;try{d.compileSchema.call(this,_)}finally{this.opts=R}}}e.default=j,j.ValidationError=l.default,j.MissingRefError=o.default;function I(A,_,R,b="error"){for(const r in A){const c=r;c in _&&this.logger[b](`${R}: option ${r}. ${A[c]}`)}}function w(A){return A=(0,i.normalizeId)(A),this.schemas[A]||this.refs[A]}function N(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const _ in A)this.addSchema(A[_],_)}function C(){for(const A in this.opts.formats){const _=this.opts.formats[A];_&&this.addFormat(A,_)}}function F(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const _ in A){const R=A[_];R.keyword||(R.keyword=_),this.addKeyword(R)}}function K(){const A={...this.opts};for(const _ of y)delete A[_];return A}const W={log(){},warn(){},error(){}};function B(A){if(A===!1)return W;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const Y=/^[a-z_$][a-z0-9_$:-]*$/i;function X(A,_){const{RULES:R}=this;if((0,m.eachItem)(A,b=>{if(R.keywords[b])throw new Error(`Keyword ${b} is already defined`);if(!Y.test(b))throw new Error(`Keyword ${b} has invalid name`)}),!!_&&_.$data&&!("code"in _||"validate"in _))throw new Error('$data keyword must have "code" or "validate" function')}function me(A,_,R){var b;const r=_==null?void 0:_.post;if(R&&r)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:c}=this;let O=r?c.post:c.rules.find(({type:q})=>q===R);if(O||(O={type:R,rules:[]},c.rules.push(O)),c.keywords[A]=!0,!_)return;const D={keyword:A,definition:{..._,type:(0,f.getJSONTypes)(_.type),schemaType:(0,f.getJSONTypes)(_.schemaType)}};_.before?we.call(this,O,D,_.before):O.rules.push(D),c.all[A]=D,(b=_.implements)===null||b===void 0||b.forEach(q=>this.addKeyword(q))}function we(A,_,R){const b=A.rules.findIndex(r=>r.keyword===R);b>=0?A.rules.splice(b,0,_):(A.rules.push(_),this.logger.warn(`rule ${R} is not defined`))}function je(A){let{metaSchema:_}=A;_!==void 0&&(A.$data&&this.opts.$data&&(_=Oe(_)),A.validateSchema=this.compile(_,!0))}const Ve={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Oe(A){return{anyOf:[A,Ve]}}})(Ar);var Mt={},At={},Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});const Qn={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Dt.default=Qn;var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.callRef=ke.getValidate=void 0;const Xn=Rt(),br=z,ae=L,Re=ge(),Er=oe,xe=J,Yn={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:n,it:l}=e,{baseId:o,schemaEnv:a,validateName:d,opts:s,self:i}=l,{root:f}=a;if((n==="#"||n==="#/")&&o===f.baseId)return $();const m=Er.resolveRef.call(i,f,o,n);if(m===void 0)throw new Xn.default(l.opts.uriResolver,o,n);if(m instanceof Er.SchemaEnv)return k(m);return E(m);function $(){if(a===f)return st(e,d,a,a.$async);const y=t.scopeValue("root",{ref:f});return st(e,(0,ae._)`${y}.validate`,f,f.$async)}function k(y){const g=Jr(e,y);st(e,g,y,y.$async)}function E(y){const g=t.scopeValue("schema",s.code.source===!0?{ref:y,code:(0,ae.stringify)(y)}:{ref:y}),p=t.name("valid"),u=e.subschema({schema:y,dataTypes:[],schemaPath:ae.nil,topSchemaRef:g,errSchemaPath:n},p);e.mergeEvaluated(u),e.ok(p)}}};function Jr(e,t){const{gen:n}=e;return t.validate?n.scopeValue("validate",{ref:t.validate}):(0,ae._)`${n.scopeValue("wrapper",{ref:t})}.validate`}ke.getValidate=Jr;function st(e,t,n,l){const{gen:o,it:a}=e,{allErrors:d,schemaEnv:s,opts:i}=a,f=i.passContext?Re.default.this:ae.nil;l?m():$();function m(){if(!s.$async)throw new Error("async schema referenced by sync schema");const y=o.let("valid");o.try(()=>{o.code((0,ae._)`await ${(0,br.callValidateCode)(e,t,f)}`),E(t),d||o.assign(y,!0)},g=>{o.if((0,ae._)`!(${g} instanceof ${a.ValidationError})`,()=>o.throw(g)),k(g),d||o.assign(y,!1)}),e.ok(y)}function $(){e.result((0,br.callValidateCode)(e,t,f),()=>E(t),()=>k(t))}function k(y){const g=(0,ae._)`${y}.errors`;o.assign(Re.default.vErrors,(0,ae._)`${Re.default.vErrors} === null ? ${g} : ${Re.default.vErrors}.concat(${g})`),o.assign(Re.default.errors,(0,ae._)`${Re.default.vErrors}.length`)}function E(y){var g;if(!a.opts.unevaluated)return;const p=(g=n==null?void 0:n.validate)===null||g===void 0?void 0:g.evaluated;if(a.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(a.props=xe.mergeEvaluated.props(o,p.props,a.props));else{const u=o.var("props",(0,ae._)`${y}.evaluated.props`);a.props=xe.mergeEvaluated.props(o,u,a.props,ae.Name)}if(a.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(a.items=xe.mergeEvaluated.items(o,p.items,a.items));else{const u=o.var("items",(0,ae._)`${y}.evaluated.items`);a.items=xe.mergeEvaluated.items(o,u,a.items,ae.Name)}}}ke.callRef=st;ke.default=Yn;Object.defineProperty(At,"__esModule",{value:!0});const Zn=Dt,xn=ke,es=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Zn.default,xn.default];At.default=es;var Vt={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});const it=L,ve=it.operators,ct={maximum:{okStr:"<=",ok:ve.LTE,fail:ve.GT},minimum:{okStr:">=",ok:ve.GTE,fail:ve.LT},exclusiveMaximum:{okStr:"<",ok:ve.LT,fail:ve.GTE},exclusiveMinimum:{okStr:">",ok:ve.GT,fail:ve.LTE}},ts={message:({keyword:e,schemaCode:t})=>(0,it.str)`must be ${ct[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,it._)`{comparison: ${ct[e].okStr}, limit: ${t}}`},rs={keyword:Object.keys(ct),type:"number",schemaType:"number",$data:!0,error:ts,code(e){const{keyword:t,data:n,schemaCode:l}=e;e.fail$data((0,it._)`${n} ${ct[t].fail} ${l} || isNaN(${n})`)}};qt.default=rs;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});const ze=L,ns={message:({schemaCode:e})=>(0,ze.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,ze._)`{multipleOf: ${e}}`},ss={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ns,code(e){const{gen:t,data:n,schemaCode:l,it:o}=e,a=o.opts.multipleOfPrecision,d=t.let("res"),s=a?(0,ze._)`Math.abs(Math.round(${d}) - ${d}) > 1e-${a}`:(0,ze._)`${d} !== parseInt(${d})`;e.fail$data((0,ze._)`(${l} === 0 || (${d} = ${n}/${l}, ${s}))`)}};Ft.default=ss;var Kt={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});function Hr(e){const t=e.length;let n=0,l=0,o;for(;l<t;)n++,o=e.charCodeAt(l++),o>=55296&&o<=56319&&l<t&&(o=e.charCodeAt(l),(o&64512)===56320&&l++);return n}Ut.default=Hr;Hr.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Kt,"__esModule",{value:!0});const Se=L,as=J,os=Ut,is={message({keyword:e,schemaCode:t}){const n=e==="maxLength"?"more":"fewer";return(0,Se.str)`must NOT have ${n} than ${t} characters`},params:({schemaCode:e})=>(0,Se._)`{limit: ${e}}`},cs={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:is,code(e){const{keyword:t,data:n,schemaCode:l,it:o}=e,a=t==="maxLength"?Se.operators.GT:Se.operators.LT,d=o.opts.unicode===!1?(0,Se._)`${n}.length`:(0,Se._)`${(0,as.useFunc)(e.gen,os.default)}(${n})`;e.fail$data((0,Se._)`${d} ${a} ${l}`)}};Kt.default=cs;var zt={};Object.defineProperty(zt,"__esModule",{value:!0});const ls=z,lt=L,us={message:({schemaCode:e})=>(0,lt.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,lt._)`{pattern: ${e}}`},ds={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:us,code(e){const{data:t,$data:n,schema:l,schemaCode:o,it:a}=e,d=a.opts.unicodeRegExp?"u":"",s=n?(0,lt._)`(new RegExp(${o}, ${d}))`:(0,ls.usePattern)(e,l);e.fail$data((0,lt._)`!${s}.test(${t})`)}};zt.default=ds;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});const Le=L,fs={message({keyword:e,schemaCode:t}){const n=e==="maxProperties"?"more":"fewer";return(0,Le.str)`must NOT have ${n} than ${t} properties`},params:({schemaCode:e})=>(0,Le._)`{limit: ${e}}`},hs={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:fs,code(e){const{keyword:t,data:n,schemaCode:l}=e,o=t==="maxProperties"?Le.operators.GT:Le.operators.LT;e.fail$data((0,Le._)`Object.keys(${n}).length ${o} ${l}`)}};Lt.default=hs;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});const Ke=z,Ge=L,ms=J,ps={message:({params:{missingProperty:e}})=>(0,Ge.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Ge._)`{missingProperty: ${e}}`},ys={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ps,code(e){const{gen:t,schema:n,schemaCode:l,data:o,$data:a,it:d}=e,{opts:s}=d;if(!a&&n.length===0)return;const i=n.length>=s.loopRequired;if(d.allErrors?f():m(),s.strictRequired){const E=e.parentSchema.properties,{definedProperties:y}=e.it;for(const g of n)if((E==null?void 0:E[g])===void 0&&!y.has(g)){const p=d.schemaEnv.baseId+d.errSchemaPath,u=`required property "${g}" is not defined at "${p}" (strictRequired)`;(0,ms.checkStrictMode)(d,u,d.opts.strictRequired)}}function f(){if(i||a)e.block$data(Ge.nil,$);else for(const E of n)(0,Ke.checkReportMissingProp)(e,E)}function m(){const E=t.let("missing");if(i||a){const y=t.let("valid",!0);e.block$data(y,()=>k(E,y)),e.ok(y)}else t.if((0,Ke.checkMissingProp)(e,n,E)),(0,Ke.reportMissingProp)(e,E),t.else()}function $(){t.forOf("prop",l,E=>{e.setParams({missingProperty:E}),t.if((0,Ke.noPropertyInData)(t,o,E,s.ownProperties),()=>e.error())})}function k(E,y){e.setParams({missingProperty:E}),t.forOf(E,l,()=>{t.assign(y,(0,Ke.propertyInData)(t,o,E,s.ownProperties)),t.if((0,Ge.not)(y),()=>{e.error(),t.break()})},Ge.nil)}}};Gt.default=ys;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});const Je=L,$s={message({keyword:e,schemaCode:t}){const n=e==="maxItems"?"more":"fewer";return(0,Je.str)`must NOT have ${n} than ${t} items`},params:({schemaCode:e})=>(0,Je._)`{limit: ${e}}`},_s={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:$s,code(e){const{keyword:t,data:n,schemaCode:l}=e,o=t==="maxItems"?Je.operators.GT:Je.operators.LT;e.fail$data((0,Je._)`${n}.length ${o} ${l}`)}};Jt.default=_s;var Ht={},Qe={};Object.defineProperty(Qe,"__esModule",{value:!0});const Br=Mr;Br.code='require("ajv/dist/runtime/equal").default';Qe.default=Br;Object.defineProperty(Ht,"__esModule",{value:!0});const vt=Be,te=L,vs=J,gs=Qe,ws={message:({params:{i:e,j:t}})=>(0,te.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,te._)`{i: ${e}, j: ${t}}`},bs={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:ws,code(e){const{gen:t,data:n,$data:l,schema:o,parentSchema:a,schemaCode:d,it:s}=e;if(!l&&!o)return;const i=t.let("valid"),f=a.items?(0,vt.getSchemaTypes)(a.items):[];e.block$data(i,m,(0,te._)`${d} === false`),e.ok(i);function m(){const y=t.let("i",(0,te._)`${n}.length`),g=t.let("j");e.setParams({i:y,j:g}),t.assign(i,!0),t.if((0,te._)`${y} > 1`,()=>($()?k:E)(y,g))}function $(){return f.length>0&&!f.some(y=>y==="object"||y==="array")}function k(y,g){const p=t.name("item"),u=(0,vt.checkDataTypes)(f,p,s.opts.strictNumbers,vt.DataType.Wrong),P=t.const("indices",(0,te._)`{}`);t.for((0,te._)`;${y}--;`,()=>{t.let(p,(0,te._)`${n}[${y}]`),t.if(u,(0,te._)`continue`),f.length>1&&t.if((0,te._)`typeof ${p} == "string"`,(0,te._)`${p} += "_"`),t.if((0,te._)`typeof ${P}[${p}] == "number"`,()=>{t.assign(g,(0,te._)`${P}[${p}]`),e.error(),t.assign(i,!1).break()}).code((0,te._)`${P}[${p}] = ${y}`)})}function E(y,g){const p=(0,vs.useFunc)(t,gs.default),u=t.name("outer");t.label(u).for((0,te._)`;${y}--;`,()=>t.for((0,te._)`${g} = ${y}; ${g}--;`,()=>t.if((0,te._)`${p}(${n}[${y}], ${n}[${g}])`,()=>{e.error(),t.assign(i,!1).break(u)})))}}};Ht.default=bs;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});const St=L,Es=J,Ss=Qe,Ps={message:"must be equal to constant",params:({schemaCode:e})=>(0,St._)`{allowedValue: ${e}}`},Ns={keyword:"const",$data:!0,error:Ps,code(e){const{gen:t,data:n,$data:l,schemaCode:o,schema:a}=e;l||a&&typeof a=="object"?e.fail$data((0,St._)`!${(0,Es.useFunc)(t,Ss.default)}(${n}, ${o})`):e.fail((0,St._)`${a} !== ${n}`)}};Bt.default=Ns;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0});const Ue=L,ks=J,js=Qe,Os={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Ue._)`{allowedValues: ${e}}`},Ts={keyword:"enum",schemaType:"array",$data:!0,error:Os,code(e){const{gen:t,data:n,$data:l,schema:o,schemaCode:a,it:d}=e;if(!l&&o.length===0)throw new Error("enum must have non-empty array");const s=o.length>=d.opts.loopEnum;let i;const f=()=>i??(i=(0,ks.useFunc)(t,js.default));let m;if(s||l)m=t.let("valid"),e.block$data(m,$);else{if(!Array.isArray(o))throw new Error("ajv implementation error");const E=t.const("vSchema",a);m=(0,Ue.or)(...o.map((y,g)=>k(E,g)))}e.pass(m);function $(){t.assign(m,!1),t.forOf("v",a,E=>t.if((0,Ue._)`${f()}(${n}, ${E})`,()=>t.assign(m,!0).break()))}function k(E,y){const g=o[y];return typeof g=="object"&&g!==null?(0,Ue._)`${f()}(${n}, ${E}[${y}])`:(0,Ue._)`${n} === ${g}`}}};Wt.default=Ts;Object.defineProperty(Vt,"__esModule",{value:!0});const Rs=qt,Cs=Ft,Is=Kt,Ms=zt,As=Lt,Ds=Gt,Vs=Jt,qs=Ht,Fs=Bt,Ks=Wt,Us=[Rs.default,Cs.default,Is.default,Ms.default,As.default,Ds.default,Vs.default,qs.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Fs.default,Ks.default];Vt.default=Us;var Qt={},Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.validateAdditionalItems=void 0;const Pe=L,Pt=J,zs={message:({params:{len:e}})=>(0,Pe.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Pe._)`{limit: ${e}}`},Ls={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:zs,code(e){const{parentSchema:t,it:n}=e,{items:l}=t;if(!Array.isArray(l)){(0,Pt.checkStrictMode)(n,'"additionalItems" is ignored when "items" is not an array of schemas');return}Wr(e,l)}};function Wr(e,t){const{gen:n,schema:l,data:o,keyword:a,it:d}=e;d.items=!0;const s=n.const("len",(0,Pe._)`${o}.length`);if(l===!1)e.setParams({len:t.length}),e.pass((0,Pe._)`${s} <= ${t.length}`);else if(typeof l=="object"&&!(0,Pt.alwaysValidSchema)(d,l)){const f=n.var("valid",(0,Pe._)`${s} <= ${t.length}`);n.if((0,Pe.not)(f),()=>i(f)),e.ok(f)}function i(f){n.forRange("i",t.length,s,m=>{e.subschema({keyword:a,dataProp:m,dataPropType:Pt.Type.Num},f),d.allErrors||n.if((0,Pe.not)(f),()=>n.break())})}}Ae.validateAdditionalItems=Wr;Ae.default=Ls;var Xt={},De={};Object.defineProperty(De,"__esModule",{value:!0});De.validateTuple=void 0;const Sr=L,at=J,Gs=z,Js={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:n}=e;if(Array.isArray(t))return Qr(e,"additionalItems",t);n.items=!0,!(0,at.alwaysValidSchema)(n,t)&&e.ok((0,Gs.validateArray)(e))}};function Qr(e,t,n=e.schema){const{gen:l,parentSchema:o,data:a,keyword:d,it:s}=e;m(o),s.opts.unevaluated&&n.length&&s.items!==!0&&(s.items=at.mergeEvaluated.items(l,n.length,s.items));const i=l.name("valid"),f=l.const("len",(0,Sr._)`${a}.length`);n.forEach(($,k)=>{(0,at.alwaysValidSchema)(s,$)||(l.if((0,Sr._)`${f} > ${k}`,()=>e.subschema({keyword:d,schemaProp:k,dataProp:k},i)),e.ok(i))});function m($){const{opts:k,errSchemaPath:E}=s,y=n.length,g=y===$.minItems&&(y===$.maxItems||$[t]===!1);if(k.strictTuples&&!g){const p=`"${d}" is ${y}-tuple, but minItems or maxItems/${t} are not specified or different at path "${E}"`;(0,at.checkStrictMode)(s,p,k.strictTuples)}}}De.validateTuple=Qr;De.default=Js;Object.defineProperty(Xt,"__esModule",{value:!0});const Hs=De,Bs={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,Hs.validateTuple)(e,"items")};Xt.default=Bs;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0});const Pr=L,Ws=J,Qs=z,Xs=Ae,Ys={message:({params:{len:e}})=>(0,Pr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Pr._)`{limit: ${e}}`},Zs={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ys,code(e){const{schema:t,parentSchema:n,it:l}=e,{prefixItems:o}=n;l.items=!0,!(0,Ws.alwaysValidSchema)(l,t)&&(o?(0,Xs.validateAdditionalItems)(e,o):e.ok((0,Qs.validateArray)(e)))}};Yt.default=Zs;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});const ce=L,et=J,xs={message:({params:{min:e,max:t}})=>t===void 0?(0,ce.str)`must contain at least ${e} valid item(s)`:(0,ce.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,ce._)`{minContains: ${e}}`:(0,ce._)`{minContains: ${e}, maxContains: ${t}}`},ea={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:xs,code(e){const{gen:t,schema:n,parentSchema:l,data:o,it:a}=e;let d,s;const{minContains:i,maxContains:f}=l;a.opts.next?(d=i===void 0?1:i,s=f):d=1;const m=t.const("len",(0,ce._)`${o}.length`);if(e.setParams({min:d,max:s}),s===void 0&&d===0){(0,et.checkStrictMode)(a,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(s!==void 0&&d>s){(0,et.checkStrictMode)(a,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,et.alwaysValidSchema)(a,n)){let g=(0,ce._)`${m} >= ${d}`;s!==void 0&&(g=(0,ce._)`${g} && ${m} <= ${s}`),e.pass(g);return}a.items=!0;const $=t.name("valid");s===void 0&&d===1?E($,()=>t.if($,()=>t.break())):d===0?(t.let($,!0),s!==void 0&&t.if((0,ce._)`${o}.length > 0`,k)):(t.let($,!1),k()),e.result($,()=>e.reset());function k(){const g=t.name("_valid"),p=t.let("count",0);E(g,()=>t.if(g,()=>y(p)))}function E(g,p){t.forRange("i",0,m,u=>{e.subschema({keyword:"contains",dataProp:u,dataPropType:et.Type.Num,compositeRule:!0},g),p()})}function y(g){t.code((0,ce._)`${g}++`),s===void 0?t.if((0,ce._)`${g} >= ${d}`,()=>t.assign($,!0).break()):(t.if((0,ce._)`${g} > ${s}`,()=>t.assign($,!1).break()),d===1?t.assign($,!0):t.if((0,ce._)`${g} >= ${d}`,()=>t.assign($,!0)))}}};Zt.default=ea;var Xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=L,n=J,l=z;e.error={message:({params:{property:i,depsCount:f,deps:m}})=>{const $=f===1?"property":"properties";return(0,t.str)`must have ${$} ${m} when property ${i} is present`},params:({params:{property:i,depsCount:f,deps:m,missingProperty:$}})=>(0,t._)`{property: ${i},
    missingProperty: ${$},
    depsCount: ${f},
    deps: ${m}}`};const o={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(i){const[f,m]=a(i);d(i,f),s(i,m)}};function a({schema:i}){const f={},m={};for(const $ in i){if($==="__proto__")continue;const k=Array.isArray(i[$])?f:m;k[$]=i[$]}return[f,m]}function d(i,f=i.schema){const{gen:m,data:$,it:k}=i;if(Object.keys(f).length===0)return;const E=m.let("missing");for(const y in f){const g=f[y];if(g.length===0)continue;const p=(0,l.propertyInData)(m,$,y,k.opts.ownProperties);i.setParams({property:y,depsCount:g.length,deps:g.join(", ")}),k.allErrors?m.if(p,()=>{for(const u of g)(0,l.checkReportMissingProp)(i,u)}):(m.if((0,t._)`${p} && (${(0,l.checkMissingProp)(i,g,E)})`),(0,l.reportMissingProp)(i,E),m.else())}}e.validatePropertyDeps=d;function s(i,f=i.schema){const{gen:m,data:$,keyword:k,it:E}=i,y=m.name("valid");for(const g in f)(0,n.alwaysValidSchema)(E,f[g])||(m.if((0,l.propertyInData)(m,$,g,E.opts.ownProperties),()=>{const p=i.subschema({keyword:k,schemaProp:g},y);i.mergeValidEvaluated(p,y)},()=>m.var(y,!0)),i.ok(y))}e.validateSchemaDeps=s,e.default=o})(Xr);var xt={};Object.defineProperty(xt,"__esModule",{value:!0});const Yr=L,ta=J,ra={message:"property name must be valid",params:({params:e})=>(0,Yr._)`{propertyName: ${e.propertyName}}`},na={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ra,code(e){const{gen:t,schema:n,data:l,it:o}=e;if((0,ta.alwaysValidSchema)(o,n))return;const a=t.name("valid");t.forIn("key",l,d=>{e.setParams({propertyName:d}),e.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},a),t.if((0,Yr.not)(a),()=>{e.error(!0),o.allErrors||t.break()})}),e.ok(a)}};xt.default=na;var mt={};Object.defineProperty(mt,"__esModule",{value:!0});const tt=z,fe=L,sa=ge(),rt=J,aa={message:"must NOT have additional properties",params:({params:e})=>(0,fe._)`{additionalProperty: ${e.additionalProperty}}`},oa={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:aa,code(e){const{gen:t,schema:n,parentSchema:l,data:o,errsCount:a,it:d}=e;if(!a)throw new Error("ajv implementation error");const{allErrors:s,opts:i}=d;if(d.props=!0,i.removeAdditional!=="all"&&(0,rt.alwaysValidSchema)(d,n))return;const f=(0,tt.allSchemaProperties)(l.properties),m=(0,tt.allSchemaProperties)(l.patternProperties);$(),e.ok((0,fe._)`${a} === ${sa.default.errors}`);function $(){t.forIn("key",o,p=>{!f.length&&!m.length?y(p):t.if(k(p),()=>y(p))})}function k(p){let u;if(f.length>8){const P=(0,rt.schemaRefOrVal)(d,l.properties,"properties");u=(0,tt.isOwnProperty)(t,P,p)}else f.length?u=(0,fe.or)(...f.map(P=>(0,fe._)`${p} === ${P}`)):u=fe.nil;return m.length&&(u=(0,fe.or)(u,...m.map(P=>(0,fe._)`${(0,tt.usePattern)(e,P)}.test(${p})`))),(0,fe.not)(u)}function E(p){t.code((0,fe._)`delete ${o}[${p}]`)}function y(p){if(i.removeAdditional==="all"||i.removeAdditional&&n===!1){E(p);return}if(n===!1){e.setParams({additionalProperty:p}),e.error(),s||t.break();return}if(typeof n=="object"&&!(0,rt.alwaysValidSchema)(d,n)){const u=t.name("valid");i.removeAdditional==="failing"?(g(p,u,!1),t.if((0,fe.not)(u),()=>{e.reset(),E(p)})):(g(p,u),s||t.if((0,fe.not)(u),()=>t.break()))}}function g(p,u,P){const S={keyword:"additionalProperties",dataProp:p,dataPropType:rt.Type.Str};P===!1&&Object.assign(S,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(S,u)}}};mt.default=oa;var er={};Object.defineProperty(er,"__esModule",{value:!0});const ia=dt(),Nr=z,gt=J,kr=mt,ca={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,parentSchema:l,data:o,it:a}=e;a.opts.removeAdditional==="all"&&l.additionalProperties===void 0&&kr.default.code(new ia.KeywordCxt(a,kr.default,"additionalProperties"));const d=(0,Nr.allSchemaProperties)(n);for(const $ of d)a.definedProperties.add($);a.opts.unevaluated&&d.length&&a.props!==!0&&(a.props=gt.mergeEvaluated.props(t,(0,gt.toHash)(d),a.props));const s=d.filter($=>!(0,gt.alwaysValidSchema)(a,n[$]));if(s.length===0)return;const i=t.name("valid");for(const $ of s)f($)?m($):(t.if((0,Nr.propertyInData)(t,o,$,a.opts.ownProperties)),m($),a.allErrors||t.else().var(i,!0),t.endIf()),e.it.definedProperties.add($),e.ok(i);function f($){return a.opts.useDefaults&&!a.compositeRule&&n[$].default!==void 0}function m($){e.subschema({keyword:"properties",schemaProp:$,dataProp:$},i)}}};er.default=ca;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});const jr=z,nt=L,Or=J,Tr=J,la={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:n,data:l,parentSchema:o,it:a}=e,{opts:d}=a,s=(0,jr.allSchemaProperties)(n),i=s.filter(g=>(0,Or.alwaysValidSchema)(a,n[g]));if(s.length===0||i.length===s.length&&(!a.opts.unevaluated||a.props===!0))return;const f=d.strictSchema&&!d.allowMatchingProperties&&o.properties,m=t.name("valid");a.props!==!0&&!(a.props instanceof nt.Name)&&(a.props=(0,Tr.evaluatedPropsToName)(t,a.props));const{props:$}=a;k();function k(){for(const g of s)f&&E(g),a.allErrors?y(g):(t.var(m,!0),y(g),t.if(m))}function E(g){for(const p in f)new RegExp(g).test(p)&&(0,Or.checkStrictMode)(a,`property ${p} matches pattern ${g} (use allowMatchingProperties)`)}function y(g){t.forIn("key",l,p=>{t.if((0,nt._)`${(0,jr.usePattern)(e,g)}.test(${p})`,()=>{const u=i.includes(g);u||e.subschema({keyword:"patternProperties",schemaProp:g,dataProp:p,dataPropType:Tr.Type.Str},m),a.opts.unevaluated&&$!==!0?t.assign((0,nt._)`${$}[${p}]`,!0):!u&&!a.allErrors&&t.if((0,nt.not)(m),()=>t.break())})})}}};tr.default=la;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});const ua=J,da={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:n,it:l}=e;if((0,ua.alwaysValidSchema)(l,n)){e.fail();return}const o=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),e.failResult(o,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};rr.default=da;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});const fa=z,ha={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:fa.validateUnion,error:{message:"must match a schema in anyOf"}};nr.default=ha;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});const ot=L,ma=J,pa={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,ot._)`{passingSchemas: ${e.passing}}`},ya={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:pa,code(e){const{gen:t,schema:n,parentSchema:l,it:o}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");if(o.opts.discriminator&&l.discriminator)return;const a=n,d=t.let("valid",!1),s=t.let("passing",null),i=t.name("_valid");e.setParams({passing:s}),t.block(f),e.result(d,()=>e.reset(),()=>e.error(!0));function f(){a.forEach((m,$)=>{let k;(0,ma.alwaysValidSchema)(o,m)?t.var(i,!0):k=e.subschema({keyword:"oneOf",schemaProp:$,compositeRule:!0},i),$>0&&t.if((0,ot._)`${i} && ${d}`).assign(d,!1).assign(s,(0,ot._)`[${s}, ${$}]`).else(),t.if(i,()=>{t.assign(d,!0),t.assign(s,$),k&&e.mergeEvaluated(k,ot.Name)})})}}};sr.default=ya;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});const $a=J,_a={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:n,it:l}=e;if(!Array.isArray(n))throw new Error("ajv implementation error");const o=t.name("valid");n.forEach((a,d)=>{if((0,$a.alwaysValidSchema)(l,a))return;const s=e.subschema({keyword:"allOf",schemaProp:d},o);e.ok(o),e.mergeEvaluated(s)})}};ar.default=_a;var or={};Object.defineProperty(or,"__esModule",{value:!0});const ut=L,Zr=J,va={message:({params:e})=>(0,ut.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ut._)`{failingKeyword: ${e.ifClause}}`},ga={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:va,code(e){const{gen:t,parentSchema:n,it:l}=e;n.then===void 0&&n.else===void 0&&(0,Zr.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const o=Rr(l,"then"),a=Rr(l,"else");if(!o&&!a)return;const d=t.let("valid",!0),s=t.name("_valid");if(i(),e.reset(),o&&a){const m=t.let("ifClause");e.setParams({ifClause:m}),t.if(s,f("then",m),f("else",m))}else o?t.if(s,f("then")):t.if((0,ut.not)(s),f("else"));e.pass(d,()=>e.error(!0));function i(){const m=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},s);e.mergeEvaluated(m)}function f(m,$){return()=>{const k=e.subschema({keyword:m},s);t.assign(d,s),e.mergeValidEvaluated(k,d),$?t.assign($,(0,ut._)`${m}`):e.setParams({ifClause:m})}}}};function Rr(e,t){const n=e.schema[t];return n!==void 0&&!(0,Zr.alwaysValidSchema)(e,n)}or.default=ga;var ir={};Object.defineProperty(ir,"__esModule",{value:!0});const wa=J,ba={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:n}){t.if===void 0&&(0,wa.checkStrictMode)(n,`"${e}" without "if" is ignored`)}};ir.default=ba;Object.defineProperty(Qt,"__esModule",{value:!0});const Ea=Ae,Sa=Xt,Pa=De,Na=Yt,ka=Zt,ja=Xr,Oa=xt,Ta=mt,Ra=er,Ca=tr,Ia=rr,Ma=nr,Aa=sr,Da=ar,Va=or,qa=ir;function Fa(e=!1){const t=[Ia.default,Ma.default,Aa.default,Da.default,Va.default,qa.default,Oa.default,Ta.default,ja.default,Ra.default,Ca.default];return e?t.push(Sa.default,Na.default):t.push(Ea.default,Pa.default),t.push(ka.default),t}Qt.default=Fa;var cr={},lr={};Object.defineProperty(lr,"__esModule",{value:!0});const Z=L,Ka={message:({schemaCode:e})=>(0,Z.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,Z._)`{format: ${e}}`},Ua={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ka,code(e,t){const{gen:n,data:l,$data:o,schema:a,schemaCode:d,it:s}=e,{opts:i,errSchemaPath:f,schemaEnv:m,self:$}=s;if(!i.validateFormats)return;o?k():E();function k(){const y=n.scopeValue("formats",{ref:$.formats,code:i.code.formats}),g=n.const("fDef",(0,Z._)`${y}[${d}]`),p=n.let("fType"),u=n.let("format");n.if((0,Z._)`typeof ${g} == "object" && !(${g} instanceof RegExp)`,()=>n.assign(p,(0,Z._)`${g}.type || "string"`).assign(u,(0,Z._)`${g}.validate`),()=>n.assign(p,(0,Z._)`"string"`).assign(u,g)),e.fail$data((0,Z.or)(P(),S()));function P(){return i.strictSchema===!1?Z.nil:(0,Z._)`${d} && !${u}`}function S(){const j=m.$async?(0,Z._)`(${g}.async ? await ${u}(${l}) : ${u}(${l}))`:(0,Z._)`${u}(${l})`,I=(0,Z._)`(typeof ${u} == "function" ? ${j} : ${u}.test(${l}))`;return(0,Z._)`${u} && ${u} !== true && ${p} === ${t} && !${I}`}}function E(){const y=$.formats[a];if(!y){P();return}if(y===!0)return;const[g,p,u]=S(y);g===t&&e.pass(j());function P(){if(i.strictSchema===!1){$.logger.warn(I());return}throw new Error(I());function I(){return`unknown format "${a}" ignored in schema at path "${f}"`}}function S(I){const w=I instanceof RegExp?(0,Z.regexpCode)(I):i.code.formats?(0,Z._)`${i.code.formats}${(0,Z.getProperty)(a)}`:void 0,N=n.scopeValue("formats",{key:a,ref:I,code:w});return typeof I=="object"&&!(I instanceof RegExp)?[I.type||"string",I.validate,(0,Z._)`${N}.validate`]:["string",I,N]}function j(){if(typeof y=="object"&&!(y instanceof RegExp)&&y.async){if(!m.$async)throw new Error("async format in sync schema");return(0,Z._)`await ${u}(${l})`}return typeof p=="function"?(0,Z._)`${u}(${l})`:(0,Z._)`${u}.test(${l})`}}}};lr.default=Ua;Object.defineProperty(cr,"__esModule",{value:!0});const za=lr,La=[za.default];cr.default=La;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.contentVocabulary=Me.metadataVocabulary=void 0;Me.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];Me.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Mt,"__esModule",{value:!0});const Ga=At,Ja=Vt,Ha=Qt,Ba=cr,Cr=Me,Wa=[Ga.default,Ja.default,(0,Ha.default)(),Ba.default,Cr.metadataVocabulary,Cr.contentVocabulary];Mt.default=Wa;var ur={},xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(xr);Object.defineProperty(ur,"__esModule",{value:!0});const Ce=L,Nt=xr,Ir=oe,Qa=J,Xa={message:({params:{discrError:e,tagName:t}})=>e===Nt.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:n}})=>(0,Ce._)`{error: ${e}, tag: ${n}, tagValue: ${t}}`},Ya={keyword:"discriminator",type:"object",schemaType:"object",error:Xa,code(e){const{gen:t,data:n,schema:l,parentSchema:o,it:a}=e,{oneOf:d}=o;if(!a.opts.discriminator)throw new Error("discriminator: requires discriminator option");const s=l.propertyName;if(typeof s!="string")throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!d)throw new Error("discriminator: requires oneOf keyword");const i=t.let("valid",!1),f=t.const("tag",(0,Ce._)`${n}${(0,Ce.getProperty)(s)}`);t.if((0,Ce._)`typeof ${f} == "string"`,()=>m(),()=>e.error(!1,{discrError:Nt.DiscrError.Tag,tag:f,tagName:s})),e.ok(i);function m(){const E=k();t.if(!1);for(const y in E)t.elseIf((0,Ce._)`${f} === ${y}`),t.assign(i,$(E[y]));t.else(),e.error(!1,{discrError:Nt.DiscrError.Mapping,tag:f,tagName:s}),t.endIf()}function $(E){const y=t.name("valid"),g=e.subschema({keyword:"oneOf",schemaProp:E},y);return e.mergeEvaluated(g,Ce.Name),y}function k(){var E;const y={},g=u(o);let p=!0;for(let j=0;j<d.length;j++){let I=d[j];I!=null&&I.$ref&&!(0,Qa.schemaHasRulesButRef)(I,a.self.RULES)&&(I=Ir.resolveRef.call(a.self,a.schemaEnv.root,a.baseId,I==null?void 0:I.$ref),I instanceof Ir.SchemaEnv&&(I=I.schema));const w=(E=I==null?void 0:I.properties)===null||E===void 0?void 0:E[s];if(typeof w!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${s}"`);p=p&&(g||u(I)),P(w,j)}if(!p)throw new Error(`discriminator: "${s}" must be required`);return y;function u({required:j}){return Array.isArray(j)&&j.includes(s)}function P(j,I){if(j.const)S(j.const,I);else if(j.enum)for(const w of j.enum)S(w,I);else throw new Error(`discriminator: "properties/${s}" must have "const" or "enum"`)}function S(j,I){if(typeof j!="string"||j in y)throw new Error(`discriminator: "${s}" values must be unique strings`);y[j]=I}}}};ur.default=Ya;const Za="http://json-schema.org/draft-07/schema#",xa="http://json-schema.org/draft-07/schema#",eo="Core schema meta-schema",to={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},ro=["object","boolean"],no={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},so={$schema:Za,$id:xa,title:eo,definitions:to,type:ro,properties:no,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const n=Ar,l=Mt,o=ur,a=so,d=["/properties"],s="http://json-schema.org/draft-07/schema";class i extends n.default{_addVocabularies(){super._addVocabularies(),l.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(o.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(a,d):a;this.addMetaSchema(y,s,!1),this.refs["http://json-schema.org/schema"]=s}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(s)?s:void 0)}}e.exports=t=i,Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var f=dt();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return f.KeywordCxt}});var m=L;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var $=Tt();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return $.default}});var k=Rt();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(wt,wt.exports);var ao=wt.exports;const oo=tn(ao),lo=Object.freeze(Object.defineProperty({__proto__:null,default:oo},Symbol.toStringTag,{value:"Module"}));export{lo as a};
