import{g8 as le,m as ce,g9 as Ce,ga as ye,eB as de,aT as a,b0 as f,a$ as R,aW as je,gb as be,ck as _e,gc as Ae,co as pe,r as G,gd as Q,j as e,c3 as ue,b$ as he,ge as xe,gf as ke,p as Ie,cY as Oe,c2 as Se,T as P,gg as Ne,d2 as Re,bb as Ee,ak as Le,ci as Me,gh as Pe,gi as Be,gj as ee,gk as fe,bS as Fe,gl as Ve,gm as ze,gn as Ke,a9 as Ue,go as We,dT as He,gp as $e,gq as Qe,dU as z,gr as Xe,cP as De,df as Ye,gs as qe,gt as Ge,eY as Je,dZ as Ze,gu as eo,gv as oo,c8 as no,gw as so,ep as to,b9 as ro}from"./index-TUbngMMH.js";import{r}from"./@sentry-C02iiIsL.js";import{C as me,M as io}from"./@uniswap-j9167AqE.js";import{u as ge,A as ao,L as lo,M as co,a as po,S as uo,b as ho,d as xo,R as fo,e as mo,T as go,C as wo,O as vo,P as To}from"./RoutesApp-BKVBGr13.js";import Co from"./Delegate-DvsthPIo.js";import"./@1inch-8aFH8gck.js";import"./web3-CuCGfqCq.js";import"./@safe-global-CsTz-vid.js";import"./index-CzQ2E3wO.js";import"./constants-DqA7korj.js";function yo(o,s){return r.useMemo(()=>{if(o.length===0||!s.length)return o;const t=le(s),n=s.toLowerCase().split(/\+s/).filter(l=>l.length);return o.filter(l=>{var c,d;return t?"address"in l&&t.toLowerCase()===l.address.toLowerCase():[(c=l.name)==null?void 0:c.toLowerCase(),(d=l.symbol)==null?void 0:d.toLowerCase()].some(p=>n.some(u=>p==null?void 0:p.includes(u)))})},[o,s])}function jo(){return ce(Ce)}function bo(){return ce(ye)}const oe=["COW","GNO"];function we(o,s){return o&&s?o.gt(s)?-1:o.eq(s)?0:1:o&&o.gt("0")?-1:s&&s.gt("0")?1:0}function _o(o){return function(t,n){const l=o[t.address.toLowerCase()],c=o[n.address.toLowerCase()],d=we(l,c);if(d!==0)return d;const p=oe.indexOf(t.symbol||""),u=oe.indexOf(n.symbol||"");return p!==-1&&u!==-1?u<p?1:-1:p!==-1||u!==-1?u!==-1?1:-1:t.symbol&&n.symbol?t.symbol.toLowerCase()<n.symbol.toLowerCase()?-1:1:t.symbol||n.symbol?-1:0}}function Ao(o){const{values:s}=de(),t=r.useMemo(()=>_o(s),[s]);return r.useMemo(()=>t,[o,t])}const ko=a.div.withConfig({displayName:"styled__Wrapper",componentId:"sc-oaprge-0"})(["width:100%;border:none;padding:0;background:var(",");border-radius:16px;display:grid;overflow-x:auto;"],f.COLOR_PAPER);a(pe).withConfig({displayName:"styled__LinkWrapper",componentId:"sc-oaprge-1"})(["text-decoration:none;padding:0.8rem 0;display:flex;align-items:center;:hover{cursor:pointer;opacity:0.7;}"]);const Io=a(_e).withConfig({displayName:"styled__ResponsiveLogo",componentId:"sc-oaprge-2"})(["background:var(",");color:var(",") !important;","{width:21px;height:21px;border-radius:21px;}"],f.COLOR_PAPER,f.COLOR_TEXT,R.upToMedium()),K=a.div.withConfig({displayName:"styled__Label",componentId:"sc-oaprge-3"})(["display:flex;font-size:inherit;font-weight:400;justify-content:",";color:",";align-items:center;font-variant-numeric:tabular-nums;word-break:break-all;overflow:hidden;font-size:13px;> span{display:flex;align-items:center;max-width:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;}> span > b{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%;font-weight:500;display:inline-block;}> span > i{opacity:0.6;margin:0 0 0 4px;font-style:normal;display:inline-block;text-transform:uppercase;}"],({end:o})=>o?"flex-end":"flex-start",({theme:o})=>je(o.text,.1)),ne=a(K).withConfig({displayName:"styled__ClickableText",componentId:"sc-oaprge-4"})(["text-align:end;user-select:none;",""],({disabled:o})=>!o&&`
    &:hover {
      cursor: pointer;
      opacity: 0.6;
    }
  `),Oo=a.div.withConfig({displayName:"styled__PageButtons",componentId:"sc-oaprge-5"})(["width:100%;display:flex;align-items:center;justify-content:center;margin:24px auto;"]),So=a.span.withConfig({displayName:"styled__PaginationText",componentId:"sc-oaprge-6"})(["font-size:13px;white-space:nowrap;","{font-size:15px;}"],R.upToMedium()),W=a.button.withConfig({displayName:"styled__ArrowButton",componentId:"sc-oaprge-7"})(["background:none;border:none;"]),H=a.div.withConfig({displayName:"styled__Arrow",componentId:"sc-oaprge-8"})(["color:var(",");opacity:",";padding:0 10px;user-select:none;","{padding:5px;}",""],f.COLOR_TEXT,o=>o.faded?.3:1,R.upToExtraSmall(),({faded:o})=>!o&&`
    :hover {
      cursor: pointer;
    }
  `);a.div.withConfig({displayName:"styled__Break",componentId:"sc-oaprge-9"})(["height:1px;background-color:",";width:100%;"],({theme:o})=>o.bg5);const J=a.div.withConfig({displayName:"styled__Row",componentId:"sc-oaprge-10"})(["width:100%;display:grid;grid-gap:16px;grid-template-columns:50px minmax(200px,4fr) repeat(3,minmax(120px,1fr));grid-template-rows:max-content;padding:16px;justify-content:flex-start;align-items:center;background:transparent;transition:background var(",") ease-in-out;&:hover{background:var(",");}"],f.ANIMATION_DURATION,f.COLOR_PAPER_DARKER),No=a(J).withConfig({displayName:"styled__DelegateRow",componentId:"sc-oaprge-11"})(["display:block;padding:20px 20px 10px;width:100%;margin:0;> div{width:100%;background:var(",");border-radius:16px;}&:hover{background:transparent;}"],f.COLOR_PAPER_DARKER),Ro=a(J).withConfig({displayName:"styled__TableHeader",componentId:"sc-oaprge-12"})(["border-bottom:1px solid var(",");z-index:2;background:var(",");&:hover{background:transparent;}","{opacity:0.75;}"],f.COLOR_TEXT_OPACITY_10,f.COLOR_PAPER,K),ve=a.div.withConfig({displayName:"styled__TokenText",componentId:"sc-oaprge-13"})(["display:flex;align-items:center;text-align:left;margin:0 0 0 12px;font-size:16px;display:flex;align-items:center;font-variant-numeric:tabular-nums;> span{display:flex;flex-flow:column wrap;align-items:center;justify-content:flex-start;max-width:inherit;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;gap:2px;}> span > b{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;font-weight:600;display:inline-block;}> span > i{opacity:0.6;font-style:normal;font-size:14px;font-weight:500;width:100%;display:inline-block;}","{font-size:13px;}"],R.upToSmall()),V=a.div.withConfig({displayName:"styled__Cell",componentId:"sc-oaprge-14"})(["display:flex;gap:8px;&:nth-child(1n){gap:0;}&:nth-child(5n){gap:10px;display:flex;flex-flow:row wrap;> span{white-space:nowrap;}}> a{text-decoration-color:transparent;transition:color var(",") ease-in-out;overflow:hidden;display:flex;color:var(",");&:hover{color:var(",");text-decoration:none;}&:hover > ","{text-decoration:underline;}}"],f.ANIMATION_DURATION,f.COLOR_TEXT,f.COLOR_TEXT,ve),Eo=a.span.withConfig({displayName:"styled__IndexNumber",componentId:"sc-oaprge-15"})(["font-size:14px;font-weight:400;"]),$=a.span.withConfig({displayName:"styled__BalanceValue",componentId:"sc-oaprge-16"})(["color:inherit;font-weight:500;font-size:14px;white-space:nowrap;max-width:100%;overflow:hidden;text-overflow:ellipsis;opacity:",";"],({hasBalance:o})=>o?1:.5),q=a(be).withConfig({displayName:"styled__TableButton",componentId:"sc-oaprge-17"})(["font-size:14px;padding:0;width:auto;font-weight:400;transition:color var(",") ease-in-out,opacity var(",") ease-in-out;background:transparent;color:",";white-space:nowrap;position:relative;opacity:0.7;&:hover{background:transparent;text-decoration:underline;opacity:1;}> svg{width:16px;height:16px;max-width:100%;max-height:100%;color:inherit;> path{fill:currentColor;}}",";",";"],f.ANIMATION_DURATION,f.ANIMATION_DURATION,({color:o})=>o||"inherit",({outlined:o,color:s})=>o&&`
      background: transparent;
      color: ${s||"inherit"};
      border: 1px solid ${s||"inherit"};
      :hover {
        color: white;
      }
  `,({text:o,color:s})=>o&&`
      background: none;
      border: none;
      color: ${s||"inherit"};
      padding: 0;

      :hover {
        background: none;
      }
  `),Lo=a.div.withConfig({displayName:"styled__Table",componentId:"sc-oaprge-18"})(["display:flex;flex-flow:column wrap;overflow-y:auto;overflow-y:overlay;width:100%;min-width:100%;min-height:400px;font-size:14px;align-items:center;text-align:left;border:0;padding:0;background:transparent;transition:background var(",") ease-in-out;",";","{min-height:250px;display:grid;}"],f.ANIMATION_DURATION,({theme:o})=>o.colorScrollbar,R.upToSmall()),se=a.span.withConfig({displayName:"styled__ApproveLabel",componentId:"sc-oaprge-19"})(["color:",";font-weight:500;"],({theme:o})=>o.green1),Mo=a.div.withConfig({displayName:"styled__CustomLimit",componentId:"sc-oaprge-20"})(["> span:last-child{cursor:default;font-size:10px;margin-top:5px;display:block;}"]),Po=a(K).withConfig({displayName:"styled__IndexLabel",componentId:"sc-oaprge-21"})(["padding:0;"]),Bo=a.div.withConfig({displayName:"styled__FiatValue",componentId:"sc-oaprge-22"})(["display:flex;align-items:center;"]),Fo=a(Ae).withConfig({displayName:"styled__InfoCircle",componentId:"sc-oaprge-23"})(["stroke:currentColor;width:15px;height:15px;margin-left:5px;vertical-align:middle;margin-bottom:2px;"]),Vo=a.div.withConfig({displayName:"styled__NoResults",componentId:"sc-oaprge-24"})(["color:inherit;min-height:400px;display:flex;align-items:center;color:inherit;","{min-height:200px;margin:0 auto 0 0;overflow-x:auto;}> h3{font-size:24px;font-weight:500;margin:0 auto;color:inherit;","{font-size:16px;text-align:left;margin:16px;}}"],R.upToSmall(),R.upToSmall()),zo=""+new URL("etherscan-icon-CJSebMiU.svg",import.meta.url).href;function Ko({balance:o}){const{account:s}=G(),t=o==null?void 0:o.greaterThan(0),n=Q();return o?e.jsx($,{hasBalance:!!t,children:e.jsx(he,{amount:o})}):s?e.jsx(ue,{stroke:n.info}):e.jsx($,{hasBalance:!1,children:"0"})}const Uo=a(ke).withConfig({displayName:"FavoriteTokenButton__StyledButtonStar",componentId:"sc-19h2axk-0"})(["z-index:9;"]);function Wo({tokenData:o}){const s=xe(),t=Q(),n=bo(),l=r.useCallback(d=>{d.preventDefault(),n(o)},[n,o]),c=r.useMemo(()=>s.some(d=>d.address===o.address),[s,o]);return e.jsx(Uo,{stroke:t.text1,fill:c?`var(${f.COLOR_TEXT})`:void 0,onClick:l})}function Ho({balance:o}){const s=o==null?void 0:o.greaterThan(0),t=Ie(o).value;return e.jsx($,{hasBalance:!!s,children:t?e.jsx(Oe,{amount:t,accurate:!0}):e.jsxs(Bo,{children:[e.jsx("span",{children:"$ 0.00"}),e.jsx(Se,{wrapInContainer:!0,content:e.jsx(P,{id:"+xzjbB"}),children:e.jsx(Fo,{size:"20",color:"white"})})]})})}const $o=({tokenData:o,index:s,balance:t,closeApproveModal:n,openApproveModal:l,toggleWalletModal:c})=>{const{account:d,chainId:p}=G(),u=Ne(),A=Q(),b=r.useCallback(({symbol:w,address:F})=>{const L=u(w,p)?F:w;return Re({chainId:p.toString(),inputCurrencyId:L,outputCurrencyId:void 0,inputCurrencyAmount:void 0,outputCurrencyAmount:void 0,orderKind:void 0},Ee.SWAP)},[u,p]),{handleSetError:k,handleCloseError:E}=ge(),m=p?Le.COW_PROTOCOL_VAULT_RELAYER_ADDRESS[p]:void 0,h=Me(o),I=r.useMemo(()=>me.fromRawAmount(o,io),[o]),{state:x,currentAllowance:T}=Pe(h?null:I),j=Be(I,m),y=r.useCallback(async()=>{if(E(),!d){c();return}try{l(o==null?void 0:o.symbol),await j(`Approve ${(o==null?void 0:o.symbol)||"token"}`)}catch(w){console.error("[TokensTableRow]: Issue approving.",w),k(w==null?void 0:w.message)}finally{n()}},[d,j,E,k,c,o==null?void 0:o.symbol,l,n]),C=!t||(t==null?void 0:t.equalTo(0)),O=t&&T?t.lessThan(T.quotient):!1,B=r.useMemo(()=>!t&&d?e.jsx(ue,{stroke:A.info}):C?e.jsx($,{hasBalance:!1,children:"0"}):e.jsx(Ho,{balance:t}),[d,t,C,A]),S=r.useMemo(()=>h?null:x===ee.APPROVED||O?e.jsx(se,{children:"Approved ✓"}):!d||x===ee.NOT_APPROVED?!T||T.equalTo(0)?e.jsx(q,{onClick:y,children:"Approve"}):e.jsxs(Mo,{children:[e.jsx(q,{onClick:y,children:"Approve all"}),e.jsxs(se,{children:["Approved:"," ",e.jsx("strong",{children:e.jsx(he,{amount:T})})]})]}):e.jsx(fe,{}),[d,h,T,y,x,O]);return e.jsxs(e.Fragment,{children:[e.jsxs(V,{children:[e.jsx(Wo,{tokenData:o}),e.jsx(Eo,{children:s+1})]}),e.jsx(V,{children:e.jsxs(pe,{to:b(o),children:[e.jsx(Io,{token:o,size:28}),e.jsx(ve,{children:e.jsxs("span",{children:[e.jsx("b",{children:e.jsx(Fe,{token:o})}),e.jsx("i",{children:e.jsx(Ve,{token:o})})]})})]})}),e.jsx(V,{children:e.jsx(Ko,{balance:t})}),e.jsx(V,{children:B}),e.jsx(V,{children:S&&e.jsxs(e.Fragment,{children:[e.jsx(ze,{href:Ke(p,"token",o.address),children:e.jsx(q,{children:e.jsx(Ue,{src:zo,title:"View token contract",description:"View token contract"})})}),S]})})]})},te=20;var re;(function(o){o.NAME="name",o.BALANCE="balance"})(re||(re={}));function Qo({tokensData:o=[],maxItems:s=te,balances:t,page:n,setPage:l,query:c,prevQuery:d,debouncedQuery:p,children:u}){const A=We(),b=r.useRef(null),[k]=He($e),E=k[Qe.DELEGATE];r.useEffect(()=>{n!==1&&d&&!c&&l(1)},[c,n,l,d]);const m=yo(o,p),[h,I]=r.useState(null),[x,T]=r.useState(!0),j=Ao(!1),y=r.useCallback((i,v)=>(i?-1:1)*(v?-1:1),[]),[C,O]=r.useState(1),B=n===1?n:n-1,S=n===C?n:n+1,w=z(n),F=r.useCallback(i=>(n-1)*te+i,[n]),{ErrorModal:L}=ge(),{state:{isModalOpen:X,openModal:D,closeModal:U},Modal:g}=Xe({modalMode:!0}),_=r.useMemo(()=>m?m.filter(i=>!!i).sort((i,v)=>{if(h)if(h==="balance"){if(!t)return 0;const N=t[i.address.toLowerCase()],M=t[v.address.toLowerCase()],Te=we(N,M);return y(Te>0,x)}else{const N=i[h],M=v[h];return!N||!M?0:y(N>M,x)}else return j(i,v)}).slice(s*(n-1),n*s):[],[m,s,n,h,j,t,y,x]),Y=r.useCallback(i=>{let v;h===i&&x===!1?(i=null,v=!0):h===null?v=!0:h===i?v=!x:v=!0,I(i),T(v)},[x,h]),Z=r.useCallback(i=>h===i?x?"↓":"↑":"",[x,h]);return r.useEffect(()=>{let i=1;m&&(m.length%s===0&&(i=0),O(Math.floor(m.length/s)+i))},[s,m]),r.useEffect(()=>{w!==n&&b.current&&(b.current.scrollLeft=0)},[n,w]),e.jsxs(ko,{id:"tokens-table",children:[e.jsx(L,{}),e.jsx(De,{isOpen:X,onDismiss:U,children:g}),e.jsxs(e.Fragment,{children:[e.jsxs(Lo,{ref:b,children:[e.jsxs(Ro,{children:[e.jsx(Po,{children:"#"}),e.jsx(ne,{onClick:()=>Y("name"),children:e.jsx(P,{id:"YDffHx",values:{0:Z("name")}})}),e.jsx(ne,{disabled:!0,children:e.jsx(P,{id:"HKcxl2",values:{0:Z("balance")}})}),e.jsx(K,{children:"Value"}),e.jsx(K,{children:"Actions"})]}),u&&!E&&e.jsx(No,{children:u}),m&&_.length!==0?_.map((i,v)=>{const N=t&&t[i.address.toLowerCase()],M=N?me.fromRawAmount(i,N.toHexString()):void 0;return i?e.jsx(J,{"data-address":i.address,children:e.jsx($o,{toggleWalletModal:A,balance:M,openApproveModal:D,closeApproveModal:U,index:F(v),tokenData:i},i.address)},i.address):null}):e.jsx(Vo,{children:e.jsx("h3",{children:"No results found ¯\\_(ツ)_/¯"})})]}),m&&_.length!==0&&e.jsxs(Oo,{children:[e.jsx(W,{onClick:()=>l(1),children:e.jsx(H,{faded:n===1,children:"<<"})}),e.jsx(W,{onClick:()=>l(B),children:e.jsx(H,{faded:n===1,children:"←"})}),e.jsx(So,{children:e.jsx(P,{id:"J/hVSQ",values:{0:"Page "+n+" of "+C}})}),e.jsx(W,{onClick:()=>l(S),children:e.jsx(H,{faded:n===C,children:"→"})}),e.jsx(W,{onClick:()=>l(C),children:e.jsx(H,{faded:n===C,children:">>"})})]})]})]})}var ie;(function(o){o.ALL_TOKENS="ALL_TOKENS",o.FAVORITE_TOKENS="FAVORITE_TOKENS"})(ie||(ie={}));const ae={ALL_TOKENS:{label:"All tokens"},FAVORITE_TOKENS:{label:"Favorite tokens"}};function sn(){const{chainId:o,account:s}=G(),t=Ye(),[n,l]=r.useState(!1),[c,d]=r.useState("ALL_TOKENS"),[p,u]=r.useState(1),A=z(o),b=z(c),k=z(s);r.useEffect(()=>{window.scrollTo(0,0)},[]);const E=Q(),m=qe(),h=xe(),{values:I}=de(),[x,T]=r.useState(""),j=Ge(x,300),y=z(j),C=jo(),O=Je(),B=r.useCallback(()=>{C(),u(1)},[C]),S=r.useMemo(()=>Object.values(m).filter(Ze),[m]),w=r.useCallback(()=>l(!n),[n]),F=r.useCallback(g=>{d(g),l(!1)},[]),L=r.useRef(null);eo([L],n?w:void 0);const X=r.useCallback(()=>{let g=[];return c==="ALL_TOKENS"?g=S:c==="FAVORITE_TOKENS"&&(g=h),t?e.jsx(Qo,{page:p,query:x,prevQuery:y||"",debouncedQuery:j||"",setPage:u,balances:I,tokensData:g,children:e.jsx(Co,{dismissable:!0,rowOnMobile:!0})}):e.jsx(oo,{children:e.jsx(fe,{size:"42px"})})},[I,j,h,S,p,y,t,x,c]),D=r.useCallback(g=>{const _=g.target.value.trim().toLowerCase(),Y=le(_);T(Y||_),p!==1&&u(1)},[p,u]),U=r.useCallback(()=>{T("")},[]);return r.useEffect(()=>{(o!==A||c!==b||s!==k)&&u(1)},[s,o,k,A,b,c]),e.jsxs(e.Fragment,{children:[!O&&e.jsxs(ao,{children:[e.jsx(lo,{children:e.jsxs(co,{ref:L,children:[e.jsxs(po,{onClick:w,children:[e.jsx(P,{id:"J/hVSQ",values:{0:ae[c].label}}),e.jsx(uo,{size:14})]}),n?e.jsx(ho,{children:Object.entries(ae).map(([g,_])=>e.jsxs(xo,{active:c===g,onClick:()=>F(g),children:[e.jsx("span",{children:_.label}),c===g?e.jsx(no,{size:20,color:E.green1}):null]},g))}):null]})}),c==="FAVORITE_TOKENS"&&e.jsx(fo,{onClick:B,children:e.jsxs("span",{children:["(",e.jsx(P,{id:"sIJPyk"}),")"]})}),e.jsxs(mo,{children:[e.jsx(go,{type:"text",id:"token-search-input",placeholder:so._({id:"3Q9Wgx"}),autoComplete:"off",value:x,onChange:D}),!!x.length&&e.jsx(wo,{children:e.jsx(to,{size:24,onClick:U})})]})]}),e.jsxs(vo,{children:[e.jsx(To,{title:ro.TOKENS_OVERVIEW}),O?"Unsupported network":X()]})]})}export{sn as default};
