import{g as Sn}from"./@1inch-8aFH8gck.js";import{g6 as Nn,g3 as Lr,g4 as kn}from"./index-BDmtnLF2.js";var Ct={exports:{}},Gr={},ae={},Ne={},Ue={},F={},qe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(v){if(super(),!e.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((g,S)=>`${g}${S}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((g,S)=>(S instanceof r&&(g[S.str]=(g[S.str]||0)+1),g),{})}}e._Code=n,e.nil=new n("");function a(c,...v){const g=[c[0]];let S=0;for(;S<v.length;)d(g,v[S]),g.push(c[++S]);return new n(g)}e._=a;const o=new n("+");function l(c,...v){const g=[N(c[0])];let S=0;for(;S<v.length;)g.push(o),d(g,v[S]),g.push(o,N(c[++S]));return h(g),new n(g)}e.str=l;function d(c,v){v instanceof n?c.push(...v._items):v instanceof r?c.push(v):c.push(y(v))}e.addCodeArg=d;function h(c){let v=1;for(;v<c.length-1;){if(c[v]===o){const g=u(c[v-1],c[v+1]);if(g!==void 0){c.splice(v-1,3,g);continue}c[v++]="+"}v++}}function u(c,v){if(v==='""')return c;if(c==='""')return v;if(typeof c=="string")return v instanceof r||c[c.length-1]!=='"'?void 0:typeof v!="string"?`${c.slice(0,-1)}${v}"`:v[0]==='"'?c.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(c instanceof r))return`"${c}${v.slice(1)}`}function f(c,v){return v.emptyStr()?c:c.emptyStr()?v:l`${c}${v}`}e.strConcat=f;function y(c){return typeof c=="number"||typeof c=="boolean"||c===null?c:N(Array.isArray(c)?c.join(","):c)}function j(c){return new n(N(c))}e.stringify=j;function N(c){return JSON.stringify(c).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=N;function w(c){return typeof c=="string"&&e.IDENTIFIER.test(c)?new n(`.${c}`):a`[${c}]`}e.getProperty=w;function E(c){if(typeof c=="string"&&e.IDENTIFIER.test(c))return new n(`${c}`);throw new Error(`CodeGen: invalid export name: ${c}, use explicit $id name mapping`)}e.getEsmExportName=E;function p(c){return new n(c.toString())}e.regexpCode=p})(qe);var It={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=qe;class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(h){h[h.Started=0]="Started",h[h.Completed=1]="Completed"})(n=e.UsedValueState||(e.UsedValueState={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,y;if(!((y=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||y===void 0)&&y.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class o extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:y}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${y}]`}}e.ValueScopeName=o;const l=(0,t._)`\n`;class d extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?l:t.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,f){var y;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const j=this.toName(u),{prefix:N}=j,w=(y=f.key)!==null&&y!==void 0?y:f.ref;let E=this._values[N];if(E){const v=E.get(w);if(v)return v}else E=this._values[N]=new Map;E.set(w,j);const p=this._scope[N]||(this._scope[N]=[]),c=p.length;return p[c]=f.ref,j.setValue(f,{property:N,itemIndex:c}),j}getValue(u,f){const y=this._values[u];if(y)return y.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,y=>{if(y.scopePath===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return(0,t._)`${u}${y.scopePath}`})}scopeCode(u=this._values,f,y){return this._reduceValues(u,j=>{if(j.value===void 0)throw new Error(`CodeGen: name "${j}" has no value`);return j.value.code},f,y)}_reduceValues(u,f,y={},j){let N=t.nil;for(const w in u){const E=u[w];if(!E)continue;const p=y[w]=y[w]||new Map;E.forEach(c=>{if(p.has(c))return;p.set(c,n.Started);let v=f(c);if(v){const g=this.opts.es5?e.varKinds.var:e.varKinds.const;N=(0,t._)`${N}${g} ${c} = ${v};${this.opts._n}`}else if(v=j==null?void 0:j(c))N=(0,t._)`${N}${v}${this.opts._n}`;else throw new r(c);p.set(c,n.Completed)})}return N}}e.ValueScope=d})(It);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=qe,r=It;var n=qe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=It;Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class o{optimizeNodes(){return this}optimizeNames(s,i){return this}}class l extends o{constructor(s,i,P){super(),this.varKind=s,this.name=i,this.rhs=P}render({es5:s,_n:i}){const P=s?r.varKinds.var:this.varKind,I=this.rhs===void 0?"":` = ${this.rhs}`;return`${P} ${this.name}${I};`+i}optimizeNames(s,i){if(s[this.name.str])return this.rhs&&(this.rhs=ee(this.rhs,s,i)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class d extends o{constructor(s,i,P){super(),this.lhs=s,this.rhs=i,this.sideEffects=P}render({_n:s}){return`${this.lhs} = ${this.rhs};`+s}optimizeNames(s,i){if(!(this.lhs instanceof t.Name&&!s[this.lhs.str]&&!this.sideEffects))return this.rhs=ee(this.rhs,s,i),this}get names(){const s=this.lhs instanceof t.Name?{}:{...this.lhs.names};return de(s,this.rhs)}}class h extends d{constructor(s,i,P,I){super(s,P,I),this.op=i}render({_n:s}){return`${this.lhs} ${this.op}= ${this.rhs};`+s}}class u extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`${this.label}:`+s}}class f extends o{constructor(s){super(),this.label=s,this.names={}}render({_n:s}){return`break${this.label?` ${this.label}`:""};`+s}}class y extends o{constructor(s){super(),this.error=s}render({_n:s}){return`throw ${this.error};`+s}get names(){return this.error.names}}class j extends o{constructor(s){super(),this.code=s}render({_n:s}){return`${this.code};`+s}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(s,i){return this.code=ee(this.code,s,i),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class N extends o{constructor(s=[]){super(),this.nodes=s}render(s){return this.nodes.reduce((i,P)=>i+P.render(s),"")}optimizeNodes(){const{nodes:s}=this;let i=s.length;for(;i--;){const P=s[i].optimizeNodes();Array.isArray(P)?s.splice(i,1,...P):P?s[i]=P:s.splice(i,1)}return s.length>0?this:void 0}optimizeNames(s,i){const{nodes:P}=this;let I=P.length;for(;I--;){const M=P[I];M.optimizeNames(s,i)||(Te(s,M.names),P.splice(I,1))}return P.length>0?this:void 0}get names(){return this.nodes.reduce((s,i)=>G(s,i.names),{})}}class w extends N{render(s){return"{"+s._n+super.render(s)+"}"+s._n}}class E extends N{}class p extends w{}p.kind="else";class c extends w{constructor(s,i){super(i),this.condition=s}render(s){let i=`if(${this.condition})`+super.render(s);return this.else&&(i+="else "+this.else.render(s)),i}optimizeNodes(){super.optimizeNodes();const s=this.condition;if(s===!0)return this.nodes;let i=this.else;if(i){const P=i.optimizeNodes();i=this.else=Array.isArray(P)?new p(P):P}if(i)return s===!1?i instanceof c?i:i.nodes:this.nodes.length?this:new c(He(s),i instanceof c?[i]:i.nodes);if(!(s===!1||!this.nodes.length))return this}optimizeNames(s,i){var P;if(this.else=(P=this.else)===null||P===void 0?void 0:P.optimizeNames(s,i),!!(super.optimizeNames(s,i)||this.else))return this.condition=ee(this.condition,s,i),this}get names(){const s=super.names;return de(s,this.condition),this.else&&G(s,this.else.names),s}}c.kind="if";class v extends w{}v.kind="for";class g extends v{constructor(s){super(),this.iteration=s}render(s){return`for(${this.iteration})`+super.render(s)}optimizeNames(s,i){if(super.optimizeNames(s,i))return this.iteration=ee(this.iteration,s,i),this}get names(){return G(super.names,this.iteration.names)}}class S extends v{constructor(s,i,P,I){super(),this.varKind=s,this.name=i,this.from=P,this.to=I}render(s){const i=s.es5?r.varKinds.var:this.varKind,{name:P,from:I,to:M}=this;return`for(${i} ${P}=${I}; ${P}<${M}; ${P}++)`+super.render(s)}get names(){const s=de(super.names,this.from);return de(s,this.to)}}class T extends v{constructor(s,i,P,I){super(),this.loop=s,this.varKind=i,this.name=P,this.iterable=I}render(s){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(s)}optimizeNames(s,i){if(super.optimizeNames(s,i))return this.iterable=ee(this.iterable,s,i),this}get names(){return G(super.names,this.iterable.names)}}class $ extends w{constructor(s,i,P){super(),this.name=s,this.args=i,this.async=P}render(s){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(s)}}$.kind="func";class b extends N{render(s){return"return "+super.render(s)}}b.kind="return";class O extends w{render(s){let i="try"+super.render(s);return this.catch&&(i+=this.catch.render(s)),this.finally&&(i+=this.finally.render(s)),i}optimizeNodes(){var s,i;return super.optimizeNodes(),(s=this.catch)===null||s===void 0||s.optimizeNodes(),(i=this.finally)===null||i===void 0||i.optimizeNodes(),this}optimizeNames(s,i){var P,I;return super.optimizeNames(s,i),(P=this.catch)===null||P===void 0||P.optimizeNames(s,i),(I=this.finally)===null||I===void 0||I.optimizeNames(s,i),this}get names(){const s=super.names;return this.catch&&G(s,this.catch.names),this.finally&&G(s,this.finally.names),s}}class D extends w{constructor(s){super(),this.error=s}render(s){return`catch(${this.error})`+super.render(s)}}D.kind="catch";class K extends w{render(s){return"finally"+super.render(s)}}K.kind="finally";class H{constructor(s,i={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...i,_n:i.lines?`
`:""},this._extScope=s,this._scope=new r.Scope({parent:s}),this._nodes=[new E]}toString(){return this._root.render(this.opts)}name(s){return this._scope.name(s)}scopeName(s){return this._extScope.name(s)}scopeValue(s,i){const P=this._extScope.value(s,i);return(this._values[P.prefix]||(this._values[P.prefix]=new Set)).add(P),P}getScopeValue(s,i){return this._extScope.getValue(s,i)}scopeRefs(s){return this._extScope.scopeRefs(s,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(s,i,P,I){const M=this._scope.toName(i);return P!==void 0&&I&&(this._constants[M.str]=P),this._leafNode(new l(s,M,P)),M}const(s,i,P){return this._def(r.varKinds.const,s,i,P)}let(s,i,P){return this._def(r.varKinds.let,s,i,P)}var(s,i,P){return this._def(r.varKinds.var,s,i,P)}assign(s,i,P){return this._leafNode(new d(s,i,P))}add(s,i){return this._leafNode(new h(s,e.operators.ADD,i))}code(s){return typeof s=="function"?s():s!==t.nil&&this._leafNode(new j(s)),this}object(...s){const i=["{"];for(const[P,I]of s)i.length>1&&i.push(","),i.push(P),(P!==I||this.opts.es5)&&(i.push(":"),(0,t.addCodeArg)(i,I));return i.push("}"),new t._Code(i)}if(s,i,P){if(this._blockNode(new c(s)),i&&P)this.code(i).else().code(P).endIf();else if(i)this.code(i).endIf();else if(P)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(s){return this._elseNode(new c(s))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(c,p)}_for(s,i){return this._blockNode(s),i&&this.code(i).endFor(),this}for(s,i){return this._for(new g(s),i)}forRange(s,i,P,I,M=this.opts.es5?r.varKinds.var:r.varKinds.let){const z=this._scope.toName(s);return this._for(new S(M,z,i,P),()=>I(z))}forOf(s,i,P,I=r.varKinds.const){const M=this._scope.toName(s);if(this.opts.es5){const z=i instanceof t.Name?i:this.var("_arr",i);return this.forRange("_i",0,(0,t._)`${z}.length`,U=>{this.var(M,(0,t._)`${z}[${U}]`),P(M)})}return this._for(new T("of",I,M,i),()=>P(M))}forIn(s,i,P,I=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(s,(0,t._)`Object.keys(${i})`,P);const M=this._scope.toName(s);return this._for(new T("in",I,M,i),()=>P(M))}endFor(){return this._endBlockNode(v)}label(s){return this._leafNode(new u(s))}break(s){return this._leafNode(new f(s))}return(s){const i=new b;if(this._blockNode(i),this.code(s),i.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(s,i,P){if(!i&&!P)throw new Error('CodeGen: "try" without "catch" and "finally"');const I=new O;if(this._blockNode(I),this.code(s),i){const M=this.name("e");this._currNode=I.catch=new D(M),i(M)}return P&&(this._currNode=I.finally=new K,this.code(P)),this._endBlockNode(D,K)}throw(s){return this._leafNode(new y(s))}block(s,i){return this._blockStarts.push(this._nodes.length),s&&this.code(s).endBlock(i),this}endBlock(s){const i=this._blockStarts.pop();if(i===void 0)throw new Error("CodeGen: not in self-balancing block");const P=this._nodes.length-i;if(P<0||s!==void 0&&P!==s)throw new Error(`CodeGen: wrong number of nodes: ${P} vs ${s} expected`);return this._nodes.length=i,this}func(s,i=t.nil,P,I){return this._blockNode(new $(s,i,P)),I&&this.code(I).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(s=1){for(;s-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(s){return this._currNode.nodes.push(s),this}_blockNode(s){this._currNode.nodes.push(s),this._nodes.push(s)}_endBlockNode(s,i){const P=this._currNode;if(P instanceof s||i&&P instanceof i)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${i?`${s.kind}/${i.kind}`:s.kind}"`)}_elseNode(s){const i=this._currNode;if(!(i instanceof c))throw new Error('CodeGen: "else" without "if"');return this._currNode=i.else=s,this}get _root(){return this._nodes[0]}get _currNode(){const s=this._nodes;return s[s.length-1]}set _currNode(s){const i=this._nodes;i[i.length-1]=s}}e.CodeGen=H;function G(_,s){for(const i in s)_[i]=(_[i]||0)+(s[i]||0);return _}function de(_,s){return s instanceof t._CodeOrName?G(_,s.names):_}function ee(_,s,i){if(_ instanceof t.Name)return P(_);if(!I(_))return _;return new t._Code(_._items.reduce((M,z)=>(z instanceof t.Name&&(z=P(z)),z instanceof t._Code?M.push(...z._items):M.push(z),M),[]));function P(M){const z=i[M.str];return z===void 0||s[M.str]!==1?M:(delete s[M.str],z)}function I(M){return M instanceof t._Code&&M._items.some(z=>z instanceof t.Name&&s[z.str]===1&&i[z.str]!==void 0)}}function Te(_,s){for(const i in s)_[i]=(_[i]||0)-(s[i]||0)}function He(_){return typeof _=="boolean"||typeof _=="number"||_===null?!_:(0,t._)`!${k(_)}`}e.not=He;const dt=m(e.operators.AND);function ft(..._){return _.reduce(dt)}e.and=ft;const Be=m(e.operators.OR);function R(..._){return _.reduce(Be)}e.or=R;function m(_){return(s,i)=>s===t.nil?i:i===t.nil?s:(0,t._)`${k(s)} ${_} ${k(i)}`}function k(_){return _ instanceof t.Name?_:(0,t._)`(${_})`}})(F);var q={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.checkStrictMode=e.getErrorPath=e.Type=e.useFunc=e.setEvaluated=e.evaluatedPropsToName=e.mergeEvaluated=e.eachItem=e.unescapeJsonPointer=e.escapeJsonPointer=e.escapeFragment=e.unescapeFragment=e.schemaRefOrVal=e.schemaHasRulesButRef=e.schemaHasRules=e.checkUnknownRules=e.alwaysValidSchema=e.toHash=void 0;const t=F,r=qe;function n($){const b={};for(const O of $)b[O]=!0;return b}e.toHash=n;function a($,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(o($,b),!l(b,$.self.RULES.all))}e.alwaysValidSchema=a;function o($,b=$.schema){const{opts:O,self:D}=$;if(!O.strictSchema||typeof b=="boolean")return;const K=D.RULES.keywords;for(const H in b)K[H]||T($,`unknown keyword: "${H}"`)}e.checkUnknownRules=o;function l($,b){if(typeof $=="boolean")return!$;for(const O in $)if(b[O])return!0;return!1}e.schemaHasRules=l;function d($,b){if(typeof $=="boolean")return!$;for(const O in $)if(O!=="$ref"&&b.all[O])return!0;return!1}e.schemaHasRulesButRef=d;function h({topSchemaRef:$,schemaPath:b},O,D,K){if(!K){if(typeof O=="number"||typeof O=="boolean")return O;if(typeof O=="string")return(0,t._)`${O}`}return(0,t._)`${$}${b}${(0,t.getProperty)(D)}`}e.schemaRefOrVal=h;function u($){return j(decodeURIComponent($))}e.unescapeFragment=u;function f($){return encodeURIComponent(y($))}e.escapeFragment=f;function y($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}e.escapeJsonPointer=y;function j($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}e.unescapeJsonPointer=j;function N($,b){if(Array.isArray($))for(const O of $)b(O);else b($)}e.eachItem=N;function w({mergeNames:$,mergeToName:b,mergeValues:O,resultToName:D}){return(K,H,G,de)=>{const ee=G===void 0?H:G instanceof t.Name?(H instanceof t.Name?$(K,H,G):b(K,H,G),G):H instanceof t.Name?(b(K,G,H),H):O(H,G);return de===t.Name&&!(ee instanceof t.Name)?D(K,ee):ee}}e.mergeEvaluated={props:w({mergeNames:($,b,O)=>$.if((0,t._)`${O} !== true && ${b} !== undefined`,()=>{$.if((0,t._)`${b} === true`,()=>$.assign(O,!0),()=>$.assign(O,(0,t._)`${O} || {}`).code((0,t._)`Object.assign(${O}, ${b})`))}),mergeToName:($,b,O)=>$.if((0,t._)`${O} !== true`,()=>{b===!0?$.assign(O,!0):($.assign(O,(0,t._)`${O} || {}`),p($,O,b))}),mergeValues:($,b)=>$===!0?!0:{...$,...b},resultToName:E}),items:w({mergeNames:($,b,O)=>$.if((0,t._)`${O} !== true && ${b} !== undefined`,()=>$.assign(O,(0,t._)`${b} === true ? true : ${O} > ${b} ? ${O} : ${b}`)),mergeToName:($,b,O)=>$.if((0,t._)`${O} !== true`,()=>$.assign(O,b===!0?!0:(0,t._)`${O} > ${b} ? ${O} : ${b}`)),mergeValues:($,b)=>$===!0?!0:Math.max($,b),resultToName:($,b)=>$.var("items",b)})};function E($,b){if(b===!0)return $.var("props",!0);const O=$.var("props",(0,t._)`{}`);return b!==void 0&&p($,O,b),O}e.evaluatedPropsToName=E;function p($,b,O){Object.keys(O).forEach(D=>$.assign((0,t._)`${b}${(0,t.getProperty)(D)}`,!0))}e.setEvaluated=p;const c={};function v($,b){return $.scopeValue("func",{ref:b,code:c[b.code]||(c[b.code]=new r._Code(b.code))})}e.useFunc=v;var g;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(g=e.Type||(e.Type={}));function S($,b,O){if($ instanceof t.Name){const D=b===g.Num;return O?D?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:D?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return O?(0,t.getProperty)($).toString():"/"+y($)}e.getErrorPath=S;function T($,b,O=$.opts.strictSchema){if(O){if(b=`strict mode: ${b}`,O===!0)throw new Error(b);$.self.logger.warn(b)}}e.checkStrictMode=T})(q);var ce={};Object.defineProperty(ce,"__esModule",{value:!0});const X=F,jn={data:new X.Name("data"),valCxt:new X.Name("valCxt"),instancePath:new X.Name("instancePath"),parentData:new X.Name("parentData"),parentDataProperty:new X.Name("parentDataProperty"),rootData:new X.Name("rootData"),dynamicAnchors:new X.Name("dynamicAnchors"),vErrors:new X.Name("vErrors"),errors:new X.Name("errors"),this:new X.Name("this"),self:new X.Name("self"),scope:new X.Name("scope"),json:new X.Name("json"),jsonPos:new X.Name("jsonPos"),jsonLen:new X.Name("jsonLen"),jsonPart:new X.Name("jsonPart")};ce.default=jn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=F,r=q,n=ce;e.keywordError={message:({keyword:p})=>(0,t.str)`must pass "${p}" keyword validation`},e.keyword$DataError={message:({keyword:p,schemaType:c})=>c?(0,t.str)`"${p}" keyword must be ${c} ($data)`:(0,t.str)`"${p}" keyword is invalid ($data)`};function a(p,c=e.keywordError,v,g){const{it:S}=p,{gen:T,compositeRule:$,allErrors:b}=S,O=y(p,c,v);g??($||b)?h(T,O):u(S,(0,t._)`[${O}]`)}e.reportError=a;function o(p,c=e.keywordError,v){const{it:g}=p,{gen:S,compositeRule:T,allErrors:$}=g,b=y(p,c,v);h(S,b),T||$||u(g,n.default.vErrors)}e.reportExtraError=o;function l(p,c){p.assign(n.default.errors,c),p.if((0,t._)`${n.default.vErrors} !== null`,()=>p.if(c,()=>p.assign((0,t._)`${n.default.vErrors}.length`,c),()=>p.assign(n.default.vErrors,null)))}e.resetErrorsCount=l;function d({gen:p,keyword:c,schemaValue:v,data:g,errsCount:S,it:T}){if(S===void 0)throw new Error("ajv implementation error");const $=p.name("err");p.forRange("i",S,n.default.errors,b=>{p.const($,(0,t._)`${n.default.vErrors}[${b}]`),p.if((0,t._)`${$}.instancePath === undefined`,()=>p.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,T.errorPath))),p.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${T.errSchemaPath}/${c}`),T.opts.verbose&&(p.assign((0,t._)`${$}.schema`,v),p.assign((0,t._)`${$}.data`,g))})}e.extendErrors=d;function h(p,c){const v=p.const("err",c);p.if((0,t._)`${n.default.vErrors} === null`,()=>p.assign(n.default.vErrors,(0,t._)`[${v}]`),(0,t._)`${n.default.vErrors}.push(${v})`),p.code((0,t._)`${n.default.errors}++`)}function u(p,c){const{gen:v,validateName:g,schemaEnv:S}=p;S.$async?v.throw((0,t._)`new ${p.ValidationError}(${c})`):(v.assign((0,t._)`${g}.errors`,c),v.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function y(p,c,v){const{createErrors:g}=p.it;return g===!1?(0,t._)`{}`:j(p,c,v)}function j(p,c,v={}){const{gen:g,it:S}=p,T=[N(S,v),w(p,v)];return E(p,c,T),g.object(...T)}function N({errorPath:p},{instancePath:c}){const v=c?(0,t.str)`${p}${(0,r.getErrorPath)(c,r.Type.Str)}`:p;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,v)]}function w({keyword:p,it:{errSchemaPath:c}},{schemaPath:v,parentSchema:g}){let S=g?c:(0,t.str)`${c}/${p}`;return v&&(S=(0,t.str)`${S}${(0,r.getErrorPath)(v,r.Type.Str)}`),[f.schemaPath,S]}function E(p,{params:c,message:v},g){const{keyword:S,data:T,schemaValue:$,it:b}=p,{opts:O,propertyName:D,topSchemaRef:K,schemaPath:H}=b;g.push([f.keyword,S],[f.params,typeof c=="function"?c(p):c||(0,t._)`{}`]),O.messages&&g.push([f.message,typeof v=="function"?v(p):v]),O.verbose&&g.push([f.schema,$],[f.parentSchema,(0,t._)`${K}${H}`],[n.default.data,T]),D&&g.push([f.propertyName,D])}})(Ue);Object.defineProperty(Ne,"__esModule",{value:!0});Ne.boolOrEmptySchema=Ne.topBoolOrEmptySchema=void 0;const On=Ue,Tn=F,Rn=ce,Cn={message:"boolean schema is false"};function In(e){const{gen:t,schema:r,validateName:n}=e;r===!1?Jr(e,!1):typeof r=="object"&&r.$async===!0?t.return(Rn.default.data):(t.assign((0,Tn._)`${n}.errors`,null),t.return(!0))}Ne.topBoolOrEmptySchema=In;function Mn(e,t){const{gen:r,schema:n}=e;n===!1?(r.var(t,!1),Jr(e)):r.var(t,!0)}Ne.boolOrEmptySchema=Mn;function Jr(e,t){const{gen:r,data:n}=e,a={gen:r,keyword:"false schema",data:n,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:e};(0,On.reportError)(a,Cn,void 0,t)}var ze={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});ve.getRules=ve.isJSONType=void 0;const An=["string","number","integer","boolean","null","object","array"],Dn=new Set(An);function Vn(e){return typeof e=="string"&&Dn.has(e)}ve.isJSONType=Vn;function Fn(){const e={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...e,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},e.number,e.string,e.array,e.object],post:{rules:[]},all:{},keywords:{}}}ve.getRules=Fn;var le={};Object.defineProperty(le,"__esModule",{value:!0});le.shouldUseRule=le.shouldUseGroup=le.schemaHasRulesForType=void 0;function Kn({schema:e,self:t},r){const n=t.RULES.types[r];return n&&n!==!0&&Hr(e,n)}le.schemaHasRulesForType=Kn;function Hr(e,t){return t.rules.some(r=>Br(e,r))}le.shouldUseGroup=Hr;function Br(e,t){var r;return e[t.keyword]!==void 0||((r=t.definition.implements)===null||r===void 0?void 0:r.some(n=>e[n]!==void 0))}le.shouldUseRule=Br;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.reportTypeError=e.checkDataTypes=e.checkDataType=e.coerceAndCheckDataType=e.getJSONTypes=e.getSchemaTypes=e.DataType=void 0;const t=ve,r=le,n=Ue,a=F,o=q;var l;(function(g){g[g.Correct=0]="Correct",g[g.Wrong=1]="Wrong"})(l=e.DataType||(e.DataType={}));function d(g){const S=h(g.type);if(S.includes("null")){if(g.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!S.length&&g.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');g.nullable===!0&&S.push("null")}return S}e.getSchemaTypes=d;function h(g){const S=Array.isArray(g)?g:g?[g]:[];if(S.every(t.isJSONType))return S;throw new Error("type must be JSONType or JSONType[]: "+S.join(","))}e.getJSONTypes=h;function u(g,S){const{gen:T,data:$,opts:b}=g,O=y(S,b.coerceTypes),D=S.length>0&&!(O.length===0&&S.length===1&&(0,r.schemaHasRulesForType)(g,S[0]));if(D){const K=E(S,$,b.strictNumbers,l.Wrong);T.if(K,()=>{O.length?j(g,S,O):c(g)})}return D}e.coerceAndCheckDataType=u;const f=new Set(["string","number","integer","boolean","null"]);function y(g,S){return S?g.filter(T=>f.has(T)||S==="array"&&T==="array"):[]}function j(g,S,T){const{gen:$,data:b,opts:O}=g,D=$.let("dataType",(0,a._)`typeof ${b}`),K=$.let("coerced",(0,a._)`undefined`);O.coerceTypes==="array"&&$.if((0,a._)`${D} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>$.assign(b,(0,a._)`${b}[0]`).assign(D,(0,a._)`typeof ${b}`).if(E(S,b,O.strictNumbers),()=>$.assign(K,b))),$.if((0,a._)`${K} !== undefined`);for(const G of T)(f.has(G)||G==="array"&&O.coerceTypes==="array")&&H(G);$.else(),c(g),$.endIf(),$.if((0,a._)`${K} !== undefined`,()=>{$.assign(b,K),N(g,K)});function H(G){switch(G){case"string":$.elseIf((0,a._)`${D} == "number" || ${D} == "boolean"`).assign(K,(0,a._)`"" + ${b}`).elseIf((0,a._)`${b} === null`).assign(K,(0,a._)`""`);return;case"number":$.elseIf((0,a._)`${D} == "boolean" || ${b} === null
              || (${D} == "string" && ${b} && ${b} == +${b})`).assign(K,(0,a._)`+${b}`);return;case"integer":$.elseIf((0,a._)`${D} === "boolean" || ${b} === null
              || (${D} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(K,(0,a._)`+${b}`);return;case"boolean":$.elseIf((0,a._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(K,!1).elseIf((0,a._)`${b} === "true" || ${b} === 1`).assign(K,!0);return;case"null":$.elseIf((0,a._)`${b} === "" || ${b} === 0 || ${b} === false`),$.assign(K,null);return;case"array":$.elseIf((0,a._)`${D} === "string" || ${D} === "number"
              || ${D} === "boolean" || ${b} === null`).assign(K,(0,a._)`[${b}]`)}}}function N({gen:g,parentData:S,parentDataProperty:T},$){g.if((0,a._)`${S} !== undefined`,()=>g.assign((0,a._)`${S}[${T}]`,$))}function w(g,S,T,$=l.Correct){const b=$===l.Correct?a.operators.EQ:a.operators.NEQ;let O;switch(g){case"null":return(0,a._)`${S} ${b} null`;case"array":O=(0,a._)`Array.isArray(${S})`;break;case"object":O=(0,a._)`${S} && typeof ${S} == "object" && !Array.isArray(${S})`;break;case"integer":O=D((0,a._)`!(${S} % 1) && !isNaN(${S})`);break;case"number":O=D();break;default:return(0,a._)`typeof ${S} ${b} ${g}`}return $===l.Correct?O:(0,a.not)(O);function D(K=a.nil){return(0,a.and)((0,a._)`typeof ${S} == "number"`,K,T?(0,a._)`isFinite(${S})`:a.nil)}}e.checkDataType=w;function E(g,S,T,$){if(g.length===1)return w(g[0],S,T,$);let b;const O=(0,o.toHash)(g);if(O.array&&O.object){const D=(0,a._)`typeof ${S} != "object"`;b=O.null?D:(0,a._)`!${S} || ${D}`,delete O.null,delete O.array,delete O.object}else b=a.nil;O.number&&delete O.integer;for(const D in O)b=(0,a.and)(b,w(D,S,T,$));return b}e.checkDataTypes=E;const p={message:({schema:g})=>`must be ${g}`,params:({schema:g,schemaValue:S})=>typeof g=="string"?(0,a._)`{type: ${g}}`:(0,a._)`{type: ${S}}`};function c(g){const S=v(g);(0,n.reportError)(S,p)}e.reportTypeError=c;function v(g){const{gen:S,data:T,schema:$}=g,b=(0,o.schemaRefOrVal)(g,$,"type");return{gen:S,keyword:"type",data:T,schema:$.type,schemaCode:b,schemaValue:b,parentSchema:$,params:{},it:g}}})(ze);var it={};Object.defineProperty(it,"__esModule",{value:!0});it.assignDefaults=void 0;const be=F,qn=q;function Un(e,t){const{properties:r,items:n}=e.schema;if(t==="object"&&r)for(const a in r)Pr(e,a,r[a].default);else t==="array"&&Array.isArray(n)&&n.forEach((a,o)=>Pr(e,o,a.default))}it.assignDefaults=Un;function Pr(e,t,r){const{gen:n,compositeRule:a,data:o,opts:l}=e;if(r===void 0)return;const d=(0,be._)`${o}${(0,be.getProperty)(t)}`;if(a){(0,qn.checkStrictMode)(e,`default is ignored for: ${d}`);return}let h=(0,be._)`${d} === undefined`;l.useDefaults==="empty"&&(h=(0,be._)`${h} || ${d} === null || ${d} === ""`),n.if(h,(0,be._)`${d} = ${(0,be.stringify)(r)}`)}var ie={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.validateUnion=V.validateArray=V.usePattern=V.callValidateCode=V.schemaProperties=V.allSchemaProperties=V.noPropertyInData=V.propertyInData=V.isOwnProperty=V.hasPropFunc=V.reportMissingProp=V.checkMissingProp=V.checkReportMissingProp=void 0;const L=F,Ft=q,fe=ce,zn=q;function Ln(e,t){const{gen:r,data:n,it:a}=e;r.if(qt(r,n,t,a.opts.ownProperties),()=>{e.setParams({missingProperty:(0,L._)`${t}`},!0),e.error()})}V.checkReportMissingProp=Ln;function Gn({gen:e,data:t,it:{opts:r}},n,a){return(0,L.or)(...n.map(o=>(0,L.and)(qt(e,t,o,r.ownProperties),(0,L._)`${a} = ${o}`)))}V.checkMissingProp=Gn;function Jn(e,t){e.setParams({missingProperty:t},!0),e.error()}V.reportMissingProp=Jn;function Wr(e){return e.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,L._)`Object.prototype.hasOwnProperty`})}V.hasPropFunc=Wr;function Kt(e,t,r){return(0,L._)`${Wr(e)}.call(${t}, ${r})`}V.isOwnProperty=Kt;function Hn(e,t,r,n){const a=(0,L._)`${t}${(0,L.getProperty)(r)} !== undefined`;return n?(0,L._)`${a} && ${Kt(e,t,r)}`:a}V.propertyInData=Hn;function qt(e,t,r,n){const a=(0,L._)`${t}${(0,L.getProperty)(r)} === undefined`;return n?(0,L.or)(a,(0,L.not)(Kt(e,t,r))):a}V.noPropertyInData=qt;function Qr(e){return e?Object.keys(e).filter(t=>t!=="__proto__"):[]}V.allSchemaProperties=Qr;function Bn(e,t){return Qr(t).filter(r=>!(0,Ft.alwaysValidSchema)(e,t[r]))}V.schemaProperties=Bn;function Wn({schemaCode:e,data:t,it:{gen:r,topSchemaRef:n,schemaPath:a,errorPath:o},it:l},d,h,u){const f=u?(0,L._)`${e}, ${t}, ${n}${a}`:t,y=[[fe.default.instancePath,(0,L.strConcat)(fe.default.instancePath,o)],[fe.default.parentData,l.parentData],[fe.default.parentDataProperty,l.parentDataProperty],[fe.default.rootData,fe.default.rootData]];l.opts.dynamicRef&&y.push([fe.default.dynamicAnchors,fe.default.dynamicAnchors]);const j=(0,L._)`${f}, ${r.object(...y)}`;return h!==L.nil?(0,L._)`${d}.call(${h}, ${j})`:(0,L._)`${d}(${j})`}V.callValidateCode=Wn;const Qn=(0,L._)`new RegExp`;function Xn({gen:e,it:{opts:t}},r){const n=t.unicodeRegExp?"u":"",{regExp:a}=t.code,o=a(r,n);return e.scopeValue("pattern",{key:o.toString(),ref:o,code:(0,L._)`${a.code==="new RegExp"?Qn:(0,zn.useFunc)(e,a)}(${r}, ${n})`})}V.usePattern=Xn;function Yn(e){const{gen:t,data:r,keyword:n,it:a}=e,o=t.name("valid");if(a.allErrors){const d=t.let("valid",!0);return l(()=>t.assign(d,!1)),d}return t.var(o,!0),l(()=>t.break()),o;function l(d){const h=t.const("len",(0,L._)`${r}.length`);t.forRange("i",0,h,u=>{e.subschema({keyword:n,dataProp:u,dataPropType:Ft.Type.Num},o),t.if((0,L.not)(o),d)})}}V.validateArray=Yn;function Zn(e){const{gen:t,schema:r,keyword:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(h=>(0,Ft.alwaysValidSchema)(a,h))&&!a.opts.unevaluated)return;const l=t.let("valid",!1),d=t.name("_valid");t.block(()=>r.forEach((h,u)=>{const f=e.subschema({keyword:n,schemaProp:u,compositeRule:!0},d);t.assign(l,(0,L._)`${l} || ${d}`),e.mergeValidEvaluated(f,d)||t.if((0,L.not)(l))})),e.result(l,()=>e.reset(),()=>e.error(!0))}V.validateUnion=Zn;Object.defineProperty(ie,"__esModule",{value:!0});ie.validateKeywordUsage=ie.validSchemaType=ie.funcKeywordCode=ie.macroKeywordCode=void 0;const Y=F,ye=ce,xn=V,es=Ue;function ts(e,t){const{gen:r,keyword:n,schema:a,parentSchema:o,it:l}=e,d=t.macro.call(l.self,a,o,l),h=Xr(r,n,d);l.opts.validateSchema!==!1&&l.self.validateSchema(d,!0);const u=r.name("valid");e.subschema({schema:d,schemaPath:Y.nil,errSchemaPath:`${l.errSchemaPath}/${n}`,topSchemaRef:h,compositeRule:!0},u),e.pass(u,()=>e.error(!0))}ie.macroKeywordCode=ts;function rs(e,t){var r;const{gen:n,keyword:a,schema:o,parentSchema:l,$data:d,it:h}=e;ss(h,t);const u=!d&&t.compile?t.compile.call(h.self,o,l,h):t.validate,f=Xr(n,a,u),y=n.let("valid");e.block$data(y,j),e.ok((r=t.valid)!==null&&r!==void 0?r:y);function j(){if(t.errors===!1)E(),t.modifying&&Sr(e),p(()=>e.error());else{const c=t.async?N():w();t.modifying&&Sr(e),p(()=>ns(e,c))}}function N(){const c=n.let("ruleErrs",null);return n.try(()=>E((0,Y._)`await `),v=>n.assign(y,!1).if((0,Y._)`${v} instanceof ${h.ValidationError}`,()=>n.assign(c,(0,Y._)`${v}.errors`),()=>n.throw(v))),c}function w(){const c=(0,Y._)`${f}.errors`;return n.assign(c,null),E(Y.nil),c}function E(c=t.async?(0,Y._)`await `:Y.nil){const v=h.opts.passContext?ye.default.this:ye.default.self,g=!("compile"in t&&!d||t.schema===!1);n.assign(y,(0,Y._)`${c}${(0,xn.callValidateCode)(e,f,v,g)}`,t.modifying)}function p(c){var v;n.if((0,Y.not)((v=t.valid)!==null&&v!==void 0?v:y),c)}}ie.funcKeywordCode=rs;function Sr(e){const{gen:t,data:r,it:n}=e;t.if(n.parentData,()=>t.assign(r,(0,Y._)`${n.parentData}[${n.parentDataProperty}]`))}function ns(e,t){const{gen:r}=e;r.if((0,Y._)`Array.isArray(${t})`,()=>{r.assign(ye.default.vErrors,(0,Y._)`${ye.default.vErrors} === null ? ${t} : ${ye.default.vErrors}.concat(${t})`).assign(ye.default.errors,(0,Y._)`${ye.default.vErrors}.length`),(0,es.extendErrors)(e)},()=>e.error())}function ss({schemaEnv:e},t){if(t.async&&!e.$async)throw new Error("async keyword in sync schema")}function Xr(e,t,r){if(r===void 0)throw new Error(`keyword "${t}" failed to compile`);return e.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,Y.stringify)(r)})}function as(e,t,r=!1){return!t.length||t.some(n=>n==="array"?Array.isArray(e):n==="object"?e&&typeof e=="object"&&!Array.isArray(e):typeof e==n||r&&typeof e>"u")}ie.validSchemaType=as;function os({schema:e,opts:t,self:r,errSchemaPath:n},a,o){if(Array.isArray(a.keyword)?!a.keyword.includes(o):a.keyword!==o)throw new Error("ajv implementation error");const l=a.dependencies;if(l!=null&&l.some(d=>!Object.prototype.hasOwnProperty.call(e,d)))throw new Error(`parent schema must have dependencies of ${o}: ${l.join(",")}`);if(a.validateSchema&&!a.validateSchema(e[o])){const h=`keyword "${o}" value is invalid at path "${n}": `+r.errorsText(a.validateSchema.errors);if(t.validateSchema==="log")r.logger.error(h);else throw new Error(h)}}ie.validateKeywordUsage=os;var me={};Object.defineProperty(me,"__esModule",{value:!0});me.extendSubschemaMode=me.extendSubschemaData=me.getSubschema=void 0;const oe=F,Yr=q;function is(e,{keyword:t,schemaProp:r,schema:n,schemaPath:a,errSchemaPath:o,topSchemaRef:l}){if(t!==void 0&&n!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(t!==void 0){const d=e.schema[t];return r===void 0?{schema:d,schemaPath:(0,oe._)`${e.schemaPath}${(0,oe.getProperty)(t)}`,errSchemaPath:`${e.errSchemaPath}/${t}`}:{schema:d[r],schemaPath:(0,oe._)`${e.schemaPath}${(0,oe.getProperty)(t)}${(0,oe.getProperty)(r)}`,errSchemaPath:`${e.errSchemaPath}/${t}/${(0,Yr.escapeFragment)(r)}`}}if(n!==void 0){if(a===void 0||o===void 0||l===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:n,schemaPath:a,topSchemaRef:l,errSchemaPath:o}}throw new Error('either "keyword" or "schema" must be passed')}me.getSubschema=is;function cs(e,t,{dataProp:r,dataPropType:n,data:a,dataTypes:o,propertyName:l}){if(a!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=t;if(r!==void 0){const{errorPath:u,dataPathArr:f,opts:y}=t,j=d.let("data",(0,oe._)`${t.data}${(0,oe.getProperty)(r)}`,!0);h(j),e.errorPath=(0,oe.str)`${u}${(0,Yr.getErrorPath)(r,n,y.jsPropertySyntax)}`,e.parentDataProperty=(0,oe._)`${r}`,e.dataPathArr=[...f,e.parentDataProperty]}if(a!==void 0){const u=a instanceof oe.Name?a:d.let("data",a,!0);h(u),l!==void 0&&(e.propertyName=l)}o&&(e.dataTypes=o);function h(u){e.data=u,e.dataLevel=t.dataLevel+1,e.dataTypes=[],t.definedProperties=new Set,e.parentData=t.data,e.dataNames=[...t.dataNames,u]}}me.extendSubschemaData=cs;function ls(e,{jtdDiscriminator:t,jtdMetadata:r,compositeRule:n,createErrors:a,allErrors:o}){n!==void 0&&(e.compositeRule=n),a!==void 0&&(e.createErrors=a),o!==void 0&&(e.allErrors=o),e.jtdDiscriminator=t,e.jtdMetadata=r}me.extendSubschemaMode=ls;var Q={};Object.defineProperty(Q,"__esModule",{value:!0});Q.getSchemaRefs=Q.resolveUrl=Q.normalizeId=Q._getFullPath=Q.getFullPath=Q.inlineRef=void 0;const us=q,ds=Lr,fs=Nn,hs=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function ms(e,t=!0){return typeof e=="boolean"?!0:t===!0?!Mt(e):t?Zr(e)<=t:!1}Q.inlineRef=ms;const ps=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Mt(e){for(const t in e){if(ps.has(t))return!0;const r=e[t];if(Array.isArray(r)&&r.some(Mt)||typeof r=="object"&&Mt(r))return!0}return!1}function Zr(e){let t=0;for(const r in e){if(r==="$ref")return 1/0;if(t++,!hs.has(r)&&(typeof e[r]=="object"&&(0,us.eachItem)(e[r],n=>t+=Zr(n)),t===1/0))return 1/0}return t}function xr(e,t="",r){r!==!1&&(t=Se(t));const n=e.parse(t);return en(e,n)}Q.getFullPath=xr;function en(e,t){return e.serialize(t).split("#")[0]+"#"}Q._getFullPath=en;const ys=/#\/?$/;function Se(e){return e?e.replace(ys,""):""}Q.normalizeId=Se;function $s(e,t,r){return r=Se(r),e.resolve(t,r)}Q.resolveUrl=$s;const _s=/^[a-z_][-a-z0-9._]*$/i;function vs(e,t){if(typeof e=="boolean")return{};const{schemaId:r,uriResolver:n}=this.opts,a=Se(e[r]||t),o={"":a},l=xr(n,a,!1),d={},h=new Set;return fs(e,{allKeys:!0},(y,j,N,w)=>{if(w===void 0)return;const E=l+j;let p=o[w];typeof y[r]=="string"&&(p=c.call(this,y[r])),v.call(this,y.$anchor),v.call(this,y.$dynamicAnchor),o[j]=p;function c(g){const S=this.opts.uriResolver.resolve;if(g=Se(p?S(p,g):g),h.has(g))throw f(g);h.add(g);let T=this.refs[g];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?u(y,T.schema,g):g!==Se(E)&&(g[0]==="#"?(u(y,d[g],g),d[g]=y):this.refs[g]=E),g}function v(g){if(typeof g=="string"){if(!_s.test(g))throw new Error(`invalid anchor "${g}"`);c.call(this,`#${g}`)}}}),d;function u(y,j,N){if(j!==void 0&&!ds(y,j))throw f(N)}function f(y){return new Error(`reference "${y}" resolves to more than one schema`)}}Q.getSchemaRefs=vs;Object.defineProperty(ae,"__esModule",{value:!0});ae.getData=ae.KeywordCxt=ae.validateFunctionCode=void 0;const tn=Ne,Nr=ze,Ut=le,rt=ze,gs=it,Ae=ie,kt=me,C=F,A=ce,ws=Q,ue=q,Ce=Ue;function bs(e){if(sn(e)&&(an(e),nn(e))){Ss(e);return}rn(e,()=>(0,tn.topBoolOrEmptySchema)(e))}ae.validateFunctionCode=bs;function rn({gen:e,validateName:t,schema:r,schemaEnv:n,opts:a},o){a.code.es5?e.func(t,(0,C._)`${A.default.data}, ${A.default.valCxt}`,n.$async,()=>{e.code((0,C._)`"use strict"; ${kr(r,a)}`),Ps(e,a),e.code(o)}):e.func(t,(0,C._)`${A.default.data}, ${Es(a)}`,n.$async,()=>e.code(kr(r,a)).code(o))}function Es(e){return(0,C._)`{${A.default.instancePath}="", ${A.default.parentData}, ${A.default.parentDataProperty}, ${A.default.rootData}=${A.default.data}${e.dynamicRef?(0,C._)`, ${A.default.dynamicAnchors}={}`:C.nil}}={}`}function Ps(e,t){e.if(A.default.valCxt,()=>{e.var(A.default.instancePath,(0,C._)`${A.default.valCxt}.${A.default.instancePath}`),e.var(A.default.parentData,(0,C._)`${A.default.valCxt}.${A.default.parentData}`),e.var(A.default.parentDataProperty,(0,C._)`${A.default.valCxt}.${A.default.parentDataProperty}`),e.var(A.default.rootData,(0,C._)`${A.default.valCxt}.${A.default.rootData}`),t.dynamicRef&&e.var(A.default.dynamicAnchors,(0,C._)`${A.default.valCxt}.${A.default.dynamicAnchors}`)},()=>{e.var(A.default.instancePath,(0,C._)`""`),e.var(A.default.parentData,(0,C._)`undefined`),e.var(A.default.parentDataProperty,(0,C._)`undefined`),e.var(A.default.rootData,A.default.data),t.dynamicRef&&e.var(A.default.dynamicAnchors,(0,C._)`{}`)})}function Ss(e){const{schema:t,opts:r,gen:n}=e;rn(e,()=>{r.$comment&&t.$comment&&cn(e),Ts(e),n.let(A.default.vErrors,null),n.let(A.default.errors,0),r.unevaluated&&Ns(e),on(e),Is(e)})}function Ns(e){const{gen:t,validateName:r}=e;e.evaluated=t.const("evaluated",(0,C._)`${r}.evaluated`),t.if((0,C._)`${e.evaluated}.dynamicProps`,()=>t.assign((0,C._)`${e.evaluated}.props`,(0,C._)`undefined`)),t.if((0,C._)`${e.evaluated}.dynamicItems`,()=>t.assign((0,C._)`${e.evaluated}.items`,(0,C._)`undefined`))}function kr(e,t){const r=typeof e=="object"&&e[t.schemaId];return r&&(t.code.source||t.code.process)?(0,C._)`/*# sourceURL=${r} */`:C.nil}function ks(e,t){if(sn(e)&&(an(e),nn(e))){js(e,t);return}(0,tn.boolOrEmptySchema)(e,t)}function nn({schema:e,self:t}){if(typeof e=="boolean")return!e;for(const r in e)if(t.RULES.all[r])return!0;return!1}function sn(e){return typeof e.schema!="boolean"}function js(e,t){const{schema:r,gen:n,opts:a}=e;a.$comment&&r.$comment&&cn(e),Rs(e),Cs(e);const o=n.const("_errs",A.default.errors);on(e,o),n.var(t,(0,C._)`${o} === ${A.default.errors}`)}function an(e){(0,ue.checkUnknownRules)(e),Os(e)}function on(e,t){if(e.opts.jtd)return jr(e,[],!1,t);const r=(0,Nr.getSchemaTypes)(e.schema),n=(0,Nr.coerceAndCheckDataType)(e,r);jr(e,r,!n,t)}function Os(e){const{schema:t,errSchemaPath:r,opts:n,self:a}=e;t.$ref&&n.ignoreKeywordsWithRef&&(0,ue.schemaHasRulesButRef)(t,a.RULES)&&a.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function Ts(e){const{schema:t,opts:r}=e;t.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,ue.checkStrictMode)(e,"default is ignored in the schema root")}function Rs(e){const t=e.schema[e.opts.schemaId];t&&(e.baseId=(0,ws.resolveUrl)(e.opts.uriResolver,e.baseId,t))}function Cs(e){if(e.schema.$async&&!e.schemaEnv.$async)throw new Error("async schema in sync schema")}function cn({gen:e,schemaEnv:t,schema:r,errSchemaPath:n,opts:a}){const o=r.$comment;if(a.$comment===!0)e.code((0,C._)`${A.default.self}.logger.log(${o})`);else if(typeof a.$comment=="function"){const l=(0,C.str)`${n}/$comment`,d=e.scopeValue("root",{ref:t.root});e.code((0,C._)`${A.default.self}.opts.$comment(${o}, ${l}, ${d}.schema)`)}}function Is(e){const{gen:t,schemaEnv:r,validateName:n,ValidationError:a,opts:o}=e;r.$async?t.if((0,C._)`${A.default.errors} === 0`,()=>t.return(A.default.data),()=>t.throw((0,C._)`new ${a}(${A.default.vErrors})`)):(t.assign((0,C._)`${n}.errors`,A.default.vErrors),o.unevaluated&&Ms(e),t.return((0,C._)`${A.default.errors} === 0`))}function Ms({gen:e,evaluated:t,props:r,items:n}){r instanceof C.Name&&e.assign((0,C._)`${t}.props`,r),n instanceof C.Name&&e.assign((0,C._)`${t}.items`,n)}function jr(e,t,r,n){const{gen:a,schema:o,data:l,allErrors:d,opts:h,self:u}=e,{RULES:f}=u;if(o.$ref&&(h.ignoreKeywordsWithRef||!(0,ue.schemaHasRulesButRef)(o,f))){a.block(()=>dn(e,"$ref",f.all.$ref.definition));return}h.jtd||As(e,t),a.block(()=>{for(const j of f.rules)y(j);y(f.post)});function y(j){(0,Ut.shouldUseGroup)(o,j)&&(j.type?(a.if((0,rt.checkDataType)(j.type,l,h.strictNumbers)),Or(e,j),t.length===1&&t[0]===j.type&&r&&(a.else(),(0,rt.reportTypeError)(e)),a.endIf()):Or(e,j),d||a.if((0,C._)`${A.default.errors} === ${n||0}`))}}function Or(e,t){const{gen:r,schema:n,opts:{useDefaults:a}}=e;a&&(0,gs.assignDefaults)(e,t.type),r.block(()=>{for(const o of t.rules)(0,Ut.shouldUseRule)(n,o)&&dn(e,o.keyword,o.definition,t.type)})}function As(e,t){e.schemaEnv.meta||!e.opts.strictTypes||(Ds(e,t),e.opts.allowUnionTypes||Vs(e,t),Fs(e,e.dataTypes))}function Ds(e,t){if(t.length){if(!e.dataTypes.length){e.dataTypes=t;return}t.forEach(r=>{ln(e.dataTypes,r)||zt(e,`type "${r}" not allowed by context "${e.dataTypes.join(",")}"`)}),qs(e,t)}}function Vs(e,t){t.length>1&&!(t.length===2&&t.includes("null"))&&zt(e,"use allowUnionTypes to allow union type keyword")}function Fs(e,t){const r=e.self.RULES.all;for(const n in r){const a=r[n];if(typeof a=="object"&&(0,Ut.shouldUseRule)(e.schema,a)){const{type:o}=a.definition;o.length&&!o.some(l=>Ks(t,l))&&zt(e,`missing type "${o.join(",")}" for keyword "${n}"`)}}}function Ks(e,t){return e.includes(t)||t==="number"&&e.includes("integer")}function ln(e,t){return e.includes(t)||t==="integer"&&e.includes("number")}function qs(e,t){const r=[];for(const n of e.dataTypes)ln(t,n)?r.push(n):t.includes("integer")&&n==="number"&&r.push("integer");e.dataTypes=r}function zt(e,t){const r=e.schemaEnv.baseId+e.errSchemaPath;t+=` at "${r}" (strictTypes)`,(0,ue.checkStrictMode)(e,t,e.opts.strictTypes)}class un{constructor(t,r,n){if((0,Ae.validateKeywordUsage)(t,r,n),this.gen=t.gen,this.allErrors=t.allErrors,this.keyword=n,this.data=t.data,this.schema=t.schema[n],this.$data=r.$data&&t.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,ue.schemaRefOrVal)(t,this.schema,n,this.$data),this.schemaType=r.schemaType,this.parentSchema=t.schema,this.params={},this.it=t,this.def=r,this.$data)this.schemaCode=t.gen.const("vSchema",fn(this.$data,t));else if(this.schemaCode=this.schemaValue,!(0,Ae.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${n} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=t.gen.const("_errs",A.default.errors))}result(t,r,n){this.failResult((0,C.not)(t),r,n)}failResult(t,r,n){this.gen.if(t),n?n():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(t,r){this.failResult((0,C.not)(t),void 0,r)}fail(t){if(t===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(t),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(t){if(!this.$data)return this.fail(t);const{schemaCode:r}=this;this.fail((0,C._)`${r} !== undefined && (${(0,C.or)(this.invalid$data(),t)})`)}error(t,r,n){if(r){this.setParams(r),this._error(t,n),this.setParams({});return}this._error(t,n)}_error(t,r){(t?Ce.reportExtraError:Ce.reportError)(this,this.def.error,r)}$dataError(){(0,Ce.reportError)(this,this.def.$dataError||Ce.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Ce.resetErrorsCount)(this.gen,this.errsCount)}ok(t){this.allErrors||this.gen.if(t)}setParams(t,r){r?Object.assign(this.params,t):this.params=t}block$data(t,r,n=C.nil){this.gen.block(()=>{this.check$data(t,n),r()})}check$data(t=C.nil,r=C.nil){if(!this.$data)return;const{gen:n,schemaCode:a,schemaType:o,def:l}=this;n.if((0,C.or)((0,C._)`${a} === undefined`,r)),t!==C.nil&&n.assign(t,!0),(o.length||l.validateSchema)&&(n.elseIf(this.invalid$data()),this.$dataError(),t!==C.nil&&n.assign(t,!1)),n.else()}invalid$data(){const{gen:t,schemaCode:r,schemaType:n,def:a,it:o}=this;return(0,C.or)(l(),d());function l(){if(n.length){if(!(r instanceof C.Name))throw new Error("ajv implementation error");const h=Array.isArray(n)?n:[n];return(0,C._)`${(0,rt.checkDataTypes)(h,r,o.opts.strictNumbers,rt.DataType.Wrong)}`}return C.nil}function d(){if(a.validateSchema){const h=t.scopeValue("validate$data",{ref:a.validateSchema});return(0,C._)`!${h}(${r})`}return C.nil}}subschema(t,r){const n=(0,kt.getSubschema)(this.it,t);(0,kt.extendSubschemaData)(n,this.it,t),(0,kt.extendSubschemaMode)(n,t);const a={...this.it,...n,items:void 0,props:void 0};return ks(a,r),a}mergeEvaluated(t,r){const{it:n,gen:a}=this;n.opts.unevaluated&&(n.props!==!0&&t.props!==void 0&&(n.props=ue.mergeEvaluated.props(a,t.props,n.props,r)),n.items!==!0&&t.items!==void 0&&(n.items=ue.mergeEvaluated.items(a,t.items,n.items,r)))}mergeValidEvaluated(t,r){const{it:n,gen:a}=this;if(n.opts.unevaluated&&(n.props!==!0||n.items!==!0))return a.if(r,()=>this.mergeEvaluated(t,C.Name)),!0}}ae.KeywordCxt=un;function dn(e,t,r,n){const a=new un(e,r,t);"code"in r?r.code(a,n):a.$data&&r.validate?(0,Ae.funcKeywordCode)(a,r):"macro"in r?(0,Ae.macroKeywordCode)(a,r):(r.compile||r.validate)&&(0,Ae.funcKeywordCode)(a,r)}const Us=/^\/(?:[^~]|~0|~1)*$/,zs=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function fn(e,{dataLevel:t,dataNames:r,dataPathArr:n}){let a,o;if(e==="")return A.default.rootData;if(e[0]==="/"){if(!Us.test(e))throw new Error(`Invalid JSON-pointer: ${e}`);a=e,o=A.default.rootData}else{const u=zs.exec(e);if(!u)throw new Error(`Invalid JSON-pointer: ${e}`);const f=+u[1];if(a=u[2],a==="#"){if(f>=t)throw new Error(h("property/index",f));return n[t-f]}if(f>t)throw new Error(h("data",f));if(o=r[t-f],!a)return o}let l=o;const d=a.split("/");for(const u of d)u&&(o=(0,C._)`${o}${(0,C.getProperty)((0,ue.unescapeJsonPointer)(u))}`,l=(0,C._)`${l} && ${o}`);return l;function h(u,f){return`Cannot access ${u} ${f} levels up, current level is ${t}`}}ae.getData=fn;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});class Ls extends Error{constructor(t){super("validation failed"),this.errors=t,this.ajv=this.validation=!0}}Le.default=Ls;var Ge={};Object.defineProperty(Ge,"__esModule",{value:!0});const jt=Q;class Gs extends Error{constructor(t,r,n,a){super(a||`can't resolve reference ${n} from id ${r}`),this.missingRef=(0,jt.resolveUrl)(t,r,n),this.missingSchema=(0,jt.normalizeId)((0,jt.getFullPath)(t,this.missingRef))}}Ge.default=Gs;var x={};Object.defineProperty(x,"__esModule",{value:!0});x.resolveSchema=x.getCompilingSchema=x.resolveRef=x.compileSchema=x.SchemaEnv=void 0;const re=F,Js=Le,pe=ce,se=Q,Tr=q,Hs=ae;class ct{constructor(t){var r;this.refs={},this.dynamicAnchors={};let n;typeof t.schema=="object"&&(n=t.schema),this.schema=t.schema,this.schemaId=t.schemaId,this.root=t.root||this,this.baseId=(r=t.baseId)!==null&&r!==void 0?r:(0,se.normalizeId)(n==null?void 0:n[t.schemaId||"$id"]),this.schemaPath=t.schemaPath,this.localRefs=t.localRefs,this.meta=t.meta,this.$async=n==null?void 0:n.$async,this.refs={}}}x.SchemaEnv=ct;function Lt(e){const t=hn.call(this,e);if(t)return t;const r=(0,se.getFullPath)(this.opts.uriResolver,e.root.baseId),{es5:n,lines:a}=this.opts.code,{ownProperties:o}=this.opts,l=new re.CodeGen(this.scope,{es5:n,lines:a,ownProperties:o});let d;e.$async&&(d=l.scopeValue("Error",{ref:Js.default,code:(0,re._)`require("ajv/dist/runtime/validation_error").default`}));const h=l.scopeName("validate");e.validateName=h;const u={gen:l,allErrors:this.opts.allErrors,data:pe.default.data,parentData:pe.default.parentData,parentDataProperty:pe.default.parentDataProperty,dataNames:[pe.default.data],dataPathArr:[re.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:e.schema,code:(0,re.stringify)(e.schema)}:{ref:e.schema}),validateName:h,ValidationError:d,schema:e.schema,schemaEnv:e,rootId:r,baseId:e.baseId||r,schemaPath:re.nil,errSchemaPath:e.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,re._)`""`,opts:this.opts,self:this};let f;try{this._compilations.add(e),(0,Hs.validateFunctionCode)(u),l.optimize(this.opts.code.optimize);const y=l.toString();f=`${l.scopeRefs(pe.default.scope)}return ${y}`,this.opts.code.process&&(f=this.opts.code.process(f,e));const N=new Function(`${pe.default.self}`,`${pe.default.scope}`,f)(this,this.scope.get());if(this.scope.value(h,{ref:N}),N.errors=null,N.schema=e.schema,N.schemaEnv=e,e.$async&&(N.$async=!0),this.opts.code.source===!0&&(N.source={validateName:h,validateCode:y,scopeValues:l._values}),this.opts.unevaluated){const{props:w,items:E}=u;N.evaluated={props:w instanceof re.Name?void 0:w,items:E instanceof re.Name?void 0:E,dynamicProps:w instanceof re.Name,dynamicItems:E instanceof re.Name},N.source&&(N.source.evaluated=(0,re.stringify)(N.evaluated))}return e.validate=N,e}catch(y){throw delete e.validate,delete e.validateName,f&&this.logger.error("Error compiling schema, function code:",f),y}finally{this._compilations.delete(e)}}x.compileSchema=Lt;function Bs(e,t,r){var n;r=(0,se.resolveUrl)(this.opts.uriResolver,t,r);const a=e.refs[r];if(a)return a;let o=Xs.call(this,e,r);if(o===void 0){const l=(n=e.localRefs)===null||n===void 0?void 0:n[r],{schemaId:d}=this.opts;l&&(o=new ct({schema:l,schemaId:d,root:e,baseId:t}))}if(o!==void 0)return e.refs[r]=Ws.call(this,o)}x.resolveRef=Bs;function Ws(e){return(0,se.inlineRef)(e.schema,this.opts.inlineRefs)?e.schema:e.validate?e:Lt.call(this,e)}function hn(e){for(const t of this._compilations)if(Qs(t,e))return t}x.getCompilingSchema=hn;function Qs(e,t){return e.schema===t.schema&&e.root===t.root&&e.baseId===t.baseId}function Xs(e,t){let r;for(;typeof(r=this.refs[t])=="string";)t=r;return r||this.schemas[t]||lt.call(this,e,t)}function lt(e,t){const r=this.opts.uriResolver.parse(t),n=(0,se._getFullPath)(this.opts.uriResolver,r);let a=(0,se.getFullPath)(this.opts.uriResolver,e.baseId,void 0);if(Object.keys(e.schema).length>0&&n===a)return Ot.call(this,r,e);const o=(0,se.normalizeId)(n),l=this.refs[o]||this.schemas[o];if(typeof l=="string"){const d=lt.call(this,e,l);return typeof(d==null?void 0:d.schema)!="object"?void 0:Ot.call(this,r,d)}if(typeof(l==null?void 0:l.schema)=="object"){if(l.validate||Lt.call(this,l),o===(0,se.normalizeId)(t)){const{schema:d}=l,{schemaId:h}=this.opts,u=d[h];return u&&(a=(0,se.resolveUrl)(this.opts.uriResolver,a,u)),new ct({schema:d,schemaId:h,root:e,baseId:a})}return Ot.call(this,r,l)}}x.resolveSchema=lt;const Ys=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Ot(e,{baseId:t,schema:r,root:n}){var a;if(((a=e.fragment)===null||a===void 0?void 0:a[0])!=="/")return;for(const d of e.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const h=r[(0,Tr.unescapeFragment)(d)];if(h===void 0)return;r=h;const u=typeof r=="object"&&r[this.opts.schemaId];!Ys.has(d)&&u&&(t=(0,se.resolveUrl)(this.opts.uriResolver,t,u))}let o;if(typeof r!="boolean"&&r.$ref&&!(0,Tr.schemaHasRulesButRef)(r,this.RULES)){const d=(0,se.resolveUrl)(this.opts.uriResolver,t,r.$ref);o=lt.call(this,n,d)}const{schemaId:l}=this.opts;if(o=o||new ct({schema:r,schemaId:l,root:n,baseId:t}),o.schema!==o.root.schema)return o}const Zs="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",xs="Meta-schema for $data reference (JSON AnySchema extension proposal)",ea="object",ta=["$data"],ra={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},na=!1,sa={$id:Zs,description:xs,type:ea,required:ta,properties:ra,additionalProperties:na};var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});const mn=kn;mn.code='require("ajv/dist/runtime/uri").default';Gt.default=mn;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ae;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=F;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Le,a=Ge,o=ve,l=x,d=F,h=Q,u=ze,f=q,y=sa,j=Gt,N=(R,m)=>new RegExp(R,m);N.code="new RegExp";const w=["removeAdditional","useDefaults","coerceTypes"],E=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},c={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function g(R){var m,k,_,s,i,P,I,M,z,U,B,we,ht,mt,pt,yt,$t,_t,vt,gt,wt,bt,Et,Pt,St;const Re=R.strict,Nt=(m=R.code)===null||m===void 0?void 0:m.optimize,br=Nt===!0||Nt===void 0?1:Nt||0,Er=(_=(k=R.code)===null||k===void 0?void 0:k.regExp)!==null&&_!==void 0?_:N,Pn=(s=R.uriResolver)!==null&&s!==void 0?s:j.default;return{strictSchema:(P=(i=R.strictSchema)!==null&&i!==void 0?i:Re)!==null&&P!==void 0?P:!0,strictNumbers:(M=(I=R.strictNumbers)!==null&&I!==void 0?I:Re)!==null&&M!==void 0?M:!0,strictTypes:(U=(z=R.strictTypes)!==null&&z!==void 0?z:Re)!==null&&U!==void 0?U:"log",strictTuples:(we=(B=R.strictTuples)!==null&&B!==void 0?B:Re)!==null&&we!==void 0?we:"log",strictRequired:(mt=(ht=R.strictRequired)!==null&&ht!==void 0?ht:Re)!==null&&mt!==void 0?mt:!1,code:R.code?{...R.code,optimize:br,regExp:Er}:{optimize:br,regExp:Er},loopRequired:(pt=R.loopRequired)!==null&&pt!==void 0?pt:v,loopEnum:(yt=R.loopEnum)!==null&&yt!==void 0?yt:v,meta:($t=R.meta)!==null&&$t!==void 0?$t:!0,messages:(_t=R.messages)!==null&&_t!==void 0?_t:!0,inlineRefs:(vt=R.inlineRefs)!==null&&vt!==void 0?vt:!0,schemaId:(gt=R.schemaId)!==null&&gt!==void 0?gt:"$id",addUsedSchema:(wt=R.addUsedSchema)!==null&&wt!==void 0?wt:!0,validateSchema:(bt=R.validateSchema)!==null&&bt!==void 0?bt:!0,validateFormats:(Et=R.validateFormats)!==null&&Et!==void 0?Et:!0,unicodeRegExp:(Pt=R.unicodeRegExp)!==null&&Pt!==void 0?Pt:!0,int32range:(St=R.int32range)!==null&&St!==void 0?St:!0,uriResolver:Pn}}class S{constructor(m={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,m=this.opts={...m,...g(m)};const{es5:k,lines:_}=this.opts.code;this.scope=new d.ValueScope({scope:{},prefixes:E,es5:k,lines:_}),this.logger=G(m.logger);const s=m.validateFormats;m.validateFormats=!1,this.RULES=(0,o.getRules)(),T.call(this,p,m,"NOT SUPPORTED"),T.call(this,c,m,"DEPRECATED","warn"),this._metaOpts=K.call(this),m.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),m.keywords&&D.call(this,m.keywords),typeof m.meta=="object"&&this.addMetaSchema(m.meta),b.call(this),m.validateFormats=s}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:m,meta:k,schemaId:_}=this.opts;let s=y;_==="id"&&(s={...y},s.id=s.$id,delete s.$id),k&&m&&this.addMetaSchema(s,s[_],!1)}defaultMeta(){const{meta:m,schemaId:k}=this.opts;return this.opts.defaultMeta=typeof m=="object"?m[k]||m:void 0}validate(m,k){let _;if(typeof m=="string"){if(_=this.getSchema(m),!_)throw new Error(`no schema with key or ref "${m}"`)}else _=this.compile(m);const s=_(k);return"$async"in _||(this.errors=_.errors),s}compile(m,k){const _=this._addSchema(m,k);return _.validate||this._compileSchemaEnv(_)}compileAsync(m,k){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:_}=this.opts;return s.call(this,m,k);async function s(U,B){await i.call(this,U.$schema);const we=this._addSchema(U,B);return we.validate||P.call(this,we)}async function i(U){U&&!this.getSchema(U)&&await s.call(this,{$ref:U},!0)}async function P(U){try{return this._compileSchemaEnv(U)}catch(B){if(!(B instanceof a.default))throw B;return I.call(this,B),await M.call(this,B.missingSchema),P.call(this,U)}}function I({missingSchema:U,missingRef:B}){if(this.refs[U])throw new Error(`AnySchema ${U} is loaded but ${B} cannot be resolved`)}async function M(U){const B=await z.call(this,U);this.refs[U]||await i.call(this,B.$schema),this.refs[U]||this.addSchema(B,U,k)}async function z(U){const B=this._loading[U];if(B)return B;try{return await(this._loading[U]=_(U))}finally{delete this._loading[U]}}}addSchema(m,k,_,s=this.opts.validateSchema){if(Array.isArray(m)){for(const P of m)this.addSchema(P,void 0,_,s);return this}let i;if(typeof m=="object"){const{schemaId:P}=this.opts;if(i=m[P],i!==void 0&&typeof i!="string")throw new Error(`schema ${P} must be string`)}return k=(0,h.normalizeId)(k||i),this._checkUnique(k),this.schemas[k]=this._addSchema(m,_,k,s,!0),this}addMetaSchema(m,k,_=this.opts.validateSchema){return this.addSchema(m,k,!0,_),this}validateSchema(m,k){if(typeof m=="boolean")return!0;let _;if(_=m.$schema,_!==void 0&&typeof _!="string")throw new Error("$schema must be a string");if(_=_||this.opts.defaultMeta||this.defaultMeta(),!_)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const s=this.validate(_,m);if(!s&&k){const i="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(i);else throw new Error(i)}return s}getSchema(m){let k;for(;typeof(k=$.call(this,m))=="string";)m=k;if(k===void 0){const{schemaId:_}=this.opts,s=new l.SchemaEnv({schema:{},schemaId:_});if(k=l.resolveSchema.call(this,s,m),!k)return;this.refs[m]=k}return k.validate||this._compileSchemaEnv(k)}removeSchema(m){if(m instanceof RegExp)return this._removeAllSchemas(this.schemas,m),this._removeAllSchemas(this.refs,m),this;switch(typeof m){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const k=$.call(this,m);return typeof k=="object"&&this._cache.delete(k.schema),delete this.schemas[m],delete this.refs[m],this}case"object":{const k=m;this._cache.delete(k);let _=m[this.opts.schemaId];return _&&(_=(0,h.normalizeId)(_),delete this.schemas[_],delete this.refs[_]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(m){for(const k of m)this.addKeyword(k);return this}addKeyword(m,k){let _;if(typeof m=="string")_=m,typeof k=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),k.keyword=_);else if(typeof m=="object"&&k===void 0){if(k=m,_=k.keyword,Array.isArray(_)&&!_.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(ee.call(this,_,k),!k)return(0,f.eachItem)(_,i=>Te.call(this,i)),this;dt.call(this,k);const s={...k,type:(0,u.getJSONTypes)(k.type),schemaType:(0,u.getJSONTypes)(k.schemaType)};return(0,f.eachItem)(_,s.type.length===0?i=>Te.call(this,i,s):i=>s.type.forEach(P=>Te.call(this,i,s,P))),this}getKeyword(m){const k=this.RULES.all[m];return typeof k=="object"?k.definition:!!k}removeKeyword(m){const{RULES:k}=this;delete k.keywords[m],delete k.all[m];for(const _ of k.rules){const s=_.rules.findIndex(i=>i.keyword===m);s>=0&&_.rules.splice(s,1)}return this}addFormat(m,k){return typeof k=="string"&&(k=new RegExp(k)),this.formats[m]=k,this}errorsText(m=this.errors,{separator:k=", ",dataVar:_="data"}={}){return!m||m.length===0?"No errors":m.map(s=>`${_}${s.instancePath} ${s.message}`).reduce((s,i)=>s+k+i)}$dataMetaSchema(m,k){const _=this.RULES.all;m=JSON.parse(JSON.stringify(m));for(const s of k){const i=s.split("/").slice(1);let P=m;for(const I of i)P=P[I];for(const I in _){const M=_[I];if(typeof M!="object")continue;const{$data:z}=M.definition,U=P[I];z&&U&&(P[I]=Be(U))}}return m}_removeAllSchemas(m,k){for(const _ in m){const s=m[_];(!k||k.test(_))&&(typeof s=="string"?delete m[_]:s&&!s.meta&&(this._cache.delete(s.schema),delete m[_]))}}_addSchema(m,k,_,s=this.opts.validateSchema,i=this.opts.addUsedSchema){let P;const{schemaId:I}=this.opts;if(typeof m=="object")P=m[I];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof m!="boolean")throw new Error("schema must be object or boolean")}let M=this._cache.get(m);if(M!==void 0)return M;_=(0,h.normalizeId)(P||_);const z=h.getSchemaRefs.call(this,m,_);return M=new l.SchemaEnv({schema:m,schemaId:I,meta:k,baseId:_,localRefs:z}),this._cache.set(M.schema,M),i&&!_.startsWith("#")&&(_&&this._checkUnique(_),this.refs[_]=M),s&&this.validateSchema(m,!0),M}_checkUnique(m){if(this.schemas[m]||this.refs[m])throw new Error(`schema with key or id "${m}" already exists`)}_compileSchemaEnv(m){if(m.meta?this._compileMetaSchema(m):l.compileSchema.call(this,m),!m.validate)throw new Error("ajv implementation error");return m.validate}_compileMetaSchema(m){const k=this.opts;this.opts=this._metaOpts;try{l.compileSchema.call(this,m)}finally{this.opts=k}}}e.default=S,S.ValidationError=n.default,S.MissingRefError=a.default;function T(R,m,k,_="error"){for(const s in R){const i=s;i in m&&this.logger[_](`${k}: option ${s}. ${R[i]}`)}}function $(R){return R=(0,h.normalizeId)(R),this.schemas[R]||this.refs[R]}function b(){const R=this.opts.schemas;if(R)if(Array.isArray(R))this.addSchema(R);else for(const m in R)this.addSchema(R[m],m)}function O(){for(const R in this.opts.formats){const m=this.opts.formats[R];m&&this.addFormat(R,m)}}function D(R){if(Array.isArray(R)){this.addVocabulary(R);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const m in R){const k=R[m];k.keyword||(k.keyword=m),this.addKeyword(k)}}function K(){const R={...this.opts};for(const m of w)delete R[m];return R}const H={log(){},warn(){},error(){}};function G(R){if(R===!1)return H;if(R===void 0)return console;if(R.log&&R.warn&&R.error)return R;throw new Error("logger must implement log, warn and error methods")}const de=/^[a-z_$][a-z0-9_$:-]*$/i;function ee(R,m){const{RULES:k}=this;if((0,f.eachItem)(R,_=>{if(k.keywords[_])throw new Error(`Keyword ${_} is already defined`);if(!de.test(_))throw new Error(`Keyword ${_} has invalid name`)}),!!m&&m.$data&&!("code"in m||"validate"in m))throw new Error('$data keyword must have "code" or "validate" function')}function Te(R,m,k){var _;const s=m==null?void 0:m.post;if(k&&s)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:i}=this;let P=s?i.post:i.rules.find(({type:M})=>M===k);if(P||(P={type:k,rules:[]},i.rules.push(P)),i.keywords[R]=!0,!m)return;const I={keyword:R,definition:{...m,type:(0,u.getJSONTypes)(m.type),schemaType:(0,u.getJSONTypes)(m.schemaType)}};m.before?He.call(this,P,I,m.before):P.rules.push(I),i.all[R]=I,(_=m.implements)===null||_===void 0||_.forEach(M=>this.addKeyword(M))}function He(R,m,k){const _=R.rules.findIndex(s=>s.keyword===k);_>=0?R.rules.splice(_,0,m):(R.rules.push(m),this.logger.warn(`rule ${k} is not defined`))}function dt(R){let{metaSchema:m}=R;m!==void 0&&(R.$data&&this.opts.$data&&(m=Be(m)),R.validateSchema=this.compile(m,!0))}const ft={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function Be(R){return{anyOf:[R,ft]}}})(Gr);var Jt={},Ht={},Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});const aa={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};Bt.default=aa;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.callRef=ge.getValidate=void 0;const oa=Ge,Rr=V,Z=F,Ee=ce,Cr=x,We=q,ia={keyword:"$ref",schemaType:"string",code(e){const{gen:t,schema:r,it:n}=e,{baseId:a,schemaEnv:o,validateName:l,opts:d,self:h}=n,{root:u}=o;if((r==="#"||r==="#/")&&a===u.baseId)return y();const f=Cr.resolveRef.call(h,u,a,r);if(f===void 0)throw new oa.default(n.opts.uriResolver,a,r);if(f instanceof Cr.SchemaEnv)return j(f);return N(f);function y(){if(o===u)return xe(e,l,o,o.$async);const w=t.scopeValue("root",{ref:u});return xe(e,(0,Z._)`${w}.validate`,u,u.$async)}function j(w){const E=pn(e,w);xe(e,E,w,w.$async)}function N(w){const E=t.scopeValue("schema",d.code.source===!0?{ref:w,code:(0,Z.stringify)(w)}:{ref:w}),p=t.name("valid"),c=e.subschema({schema:w,dataTypes:[],schemaPath:Z.nil,topSchemaRef:E,errSchemaPath:r},p);e.mergeEvaluated(c),e.ok(p)}}};function pn(e,t){const{gen:r}=e;return t.validate?r.scopeValue("validate",{ref:t.validate}):(0,Z._)`${r.scopeValue("wrapper",{ref:t})}.validate`}ge.getValidate=pn;function xe(e,t,r,n){const{gen:a,it:o}=e,{allErrors:l,schemaEnv:d,opts:h}=o,u=h.passContext?Ee.default.this:Z.nil;n?f():y();function f(){if(!d.$async)throw new Error("async schema referenced by sync schema");const w=a.let("valid");a.try(()=>{a.code((0,Z._)`await ${(0,Rr.callValidateCode)(e,t,u)}`),N(t),l||a.assign(w,!0)},E=>{a.if((0,Z._)`!(${E} instanceof ${o.ValidationError})`,()=>a.throw(E)),j(E),l||a.assign(w,!1)}),e.ok(w)}function y(){e.result((0,Rr.callValidateCode)(e,t,u),()=>N(t),()=>j(t))}function j(w){const E=(0,Z._)`${w}.errors`;a.assign(Ee.default.vErrors,(0,Z._)`${Ee.default.vErrors} === null ? ${E} : ${Ee.default.vErrors}.concat(${E})`),a.assign(Ee.default.errors,(0,Z._)`${Ee.default.vErrors}.length`)}function N(w){var E;if(!o.opts.unevaluated)return;const p=(E=r==null?void 0:r.validate)===null||E===void 0?void 0:E.evaluated;if(o.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(o.props=We.mergeEvaluated.props(a,p.props,o.props));else{const c=a.var("props",(0,Z._)`${w}.evaluated.props`);o.props=We.mergeEvaluated.props(a,c,o.props,Z.Name)}if(o.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(o.items=We.mergeEvaluated.items(a,p.items,o.items));else{const c=a.var("items",(0,Z._)`${w}.evaluated.items`);o.items=We.mergeEvaluated.items(a,c,o.items,Z.Name)}}}ge.callRef=xe;ge.default=ia;Object.defineProperty(Ht,"__esModule",{value:!0});const ca=Bt,la=ge,ua=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",ca.default,la.default];Ht.default=ua;var Wt={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});const nt=F,he=nt.operators,st={maximum:{okStr:"<=",ok:he.LTE,fail:he.GT},minimum:{okStr:">=",ok:he.GTE,fail:he.LT},exclusiveMaximum:{okStr:"<",ok:he.LT,fail:he.GTE},exclusiveMinimum:{okStr:">",ok:he.GT,fail:he.LTE}},da={message:({keyword:e,schemaCode:t})=>(0,nt.str)`must be ${st[e].okStr} ${t}`,params:({keyword:e,schemaCode:t})=>(0,nt._)`{comparison: ${st[e].okStr}, limit: ${t}}`},fa={keyword:Object.keys(st),type:"number",schemaType:"number",$data:!0,error:da,code(e){const{keyword:t,data:r,schemaCode:n}=e;e.fail$data((0,nt._)`${r} ${st[t].fail} ${n} || isNaN(${r})`)}};Qt.default=fa;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});const De=F,ha={message:({schemaCode:e})=>(0,De.str)`must be multiple of ${e}`,params:({schemaCode:e})=>(0,De._)`{multipleOf: ${e}}`},ma={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:ha,code(e){const{gen:t,data:r,schemaCode:n,it:a}=e,o=a.opts.multipleOfPrecision,l=t.let("res"),d=o?(0,De._)`Math.abs(Math.round(${l}) - ${l}) > 1e-${o}`:(0,De._)`${l} !== parseInt(${l})`;e.fail$data((0,De._)`(${n} === 0 || (${l} = ${r}/${n}, ${d}))`)}};Xt.default=ma;var Yt={},Zt={};Object.defineProperty(Zt,"__esModule",{value:!0});function yn(e){const t=e.length;let r=0,n=0,a;for(;n<t;)r++,a=e.charCodeAt(n++),a>=55296&&a<=56319&&n<t&&(a=e.charCodeAt(n),(a&64512)===56320&&n++);return r}Zt.default=yn;yn.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(Yt,"__esModule",{value:!0});const $e=F,pa=q,ya=Zt,$a={message({keyword:e,schemaCode:t}){const r=e==="maxLength"?"more":"fewer";return(0,$e.str)`must NOT have ${r} than ${t} characters`},params:({schemaCode:e})=>(0,$e._)`{limit: ${e}}`},_a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:$a,code(e){const{keyword:t,data:r,schemaCode:n,it:a}=e,o=t==="maxLength"?$e.operators.GT:$e.operators.LT,l=a.opts.unicode===!1?(0,$e._)`${r}.length`:(0,$e._)`${(0,pa.useFunc)(e.gen,ya.default)}(${r})`;e.fail$data((0,$e._)`${l} ${o} ${n}`)}};Yt.default=_a;var xt={};Object.defineProperty(xt,"__esModule",{value:!0});const va=V,at=F,ga={message:({schemaCode:e})=>(0,at.str)`must match pattern "${e}"`,params:({schemaCode:e})=>(0,at._)`{pattern: ${e}}`},wa={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:ga,code(e){const{data:t,$data:r,schema:n,schemaCode:a,it:o}=e,l=o.opts.unicodeRegExp?"u":"",d=r?(0,at._)`(new RegExp(${a}, ${l}))`:(0,va.usePattern)(e,n);e.fail$data((0,at._)`!${d}.test(${t})`)}};xt.default=wa;var er={};Object.defineProperty(er,"__esModule",{value:!0});const Ve=F,ba={message({keyword:e,schemaCode:t}){const r=e==="maxProperties"?"more":"fewer";return(0,Ve.str)`must NOT have ${r} than ${t} properties`},params:({schemaCode:e})=>(0,Ve._)`{limit: ${e}}`},Ea={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:ba,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxProperties"?Ve.operators.GT:Ve.operators.LT;e.fail$data((0,Ve._)`Object.keys(${r}).length ${a} ${n}`)}};er.default=Ea;var tr={};Object.defineProperty(tr,"__esModule",{value:!0});const Ie=V,Fe=F,Pa=q,Sa={message:({params:{missingProperty:e}})=>(0,Fe.str)`must have required property '${e}'`,params:({params:{missingProperty:e}})=>(0,Fe._)`{missingProperty: ${e}}`},Na={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Sa,code(e){const{gen:t,schema:r,schemaCode:n,data:a,$data:o,it:l}=e,{opts:d}=l;if(!o&&r.length===0)return;const h=r.length>=d.loopRequired;if(l.allErrors?u():f(),d.strictRequired){const N=e.parentSchema.properties,{definedProperties:w}=e.it;for(const E of r)if((N==null?void 0:N[E])===void 0&&!w.has(E)){const p=l.schemaEnv.baseId+l.errSchemaPath,c=`required property "${E}" is not defined at "${p}" (strictRequired)`;(0,Pa.checkStrictMode)(l,c,l.opts.strictRequired)}}function u(){if(h||o)e.block$data(Fe.nil,y);else for(const N of r)(0,Ie.checkReportMissingProp)(e,N)}function f(){const N=t.let("missing");if(h||o){const w=t.let("valid",!0);e.block$data(w,()=>j(N,w)),e.ok(w)}else t.if((0,Ie.checkMissingProp)(e,r,N)),(0,Ie.reportMissingProp)(e,N),t.else()}function y(){t.forOf("prop",n,N=>{e.setParams({missingProperty:N}),t.if((0,Ie.noPropertyInData)(t,a,N,d.ownProperties),()=>e.error())})}function j(N,w){e.setParams({missingProperty:N}),t.forOf(N,n,()=>{t.assign(w,(0,Ie.propertyInData)(t,a,N,d.ownProperties)),t.if((0,Fe.not)(w),()=>{e.error(),t.break()})},Fe.nil)}}};tr.default=Na;var rr={};Object.defineProperty(rr,"__esModule",{value:!0});const Ke=F,ka={message({keyword:e,schemaCode:t}){const r=e==="maxItems"?"more":"fewer";return(0,Ke.str)`must NOT have ${r} than ${t} items`},params:({schemaCode:e})=>(0,Ke._)`{limit: ${e}}`},ja={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:ka,code(e){const{keyword:t,data:r,schemaCode:n}=e,a=t==="maxItems"?Ke.operators.GT:Ke.operators.LT;e.fail$data((0,Ke._)`${r}.length ${a} ${n}`)}};rr.default=ja;var nr={},Je={};Object.defineProperty(Je,"__esModule",{value:!0});const $n=Lr;$n.code='require("ajv/dist/runtime/equal").default';Je.default=$n;Object.defineProperty(nr,"__esModule",{value:!0});const Tt=ze,W=F,Oa=q,Ta=Je,Ra={message:({params:{i:e,j:t}})=>(0,W.str)`must NOT have duplicate items (items ## ${t} and ${e} are identical)`,params:({params:{i:e,j:t}})=>(0,W._)`{i: ${e}, j: ${t}}`},Ca={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ra,code(e){const{gen:t,data:r,$data:n,schema:a,parentSchema:o,schemaCode:l,it:d}=e;if(!n&&!a)return;const h=t.let("valid"),u=o.items?(0,Tt.getSchemaTypes)(o.items):[];e.block$data(h,f,(0,W._)`${l} === false`),e.ok(h);function f(){const w=t.let("i",(0,W._)`${r}.length`),E=t.let("j");e.setParams({i:w,j:E}),t.assign(h,!0),t.if((0,W._)`${w} > 1`,()=>(y()?j:N)(w,E))}function y(){return u.length>0&&!u.some(w=>w==="object"||w==="array")}function j(w,E){const p=t.name("item"),c=(0,Tt.checkDataTypes)(u,p,d.opts.strictNumbers,Tt.DataType.Wrong),v=t.const("indices",(0,W._)`{}`);t.for((0,W._)`;${w}--;`,()=>{t.let(p,(0,W._)`${r}[${w}]`),t.if(c,(0,W._)`continue`),u.length>1&&t.if((0,W._)`typeof ${p} == "string"`,(0,W._)`${p} += "_"`),t.if((0,W._)`typeof ${v}[${p}] == "number"`,()=>{t.assign(E,(0,W._)`${v}[${p}]`),e.error(),t.assign(h,!1).break()}).code((0,W._)`${v}[${p}] = ${w}`)})}function N(w,E){const p=(0,Oa.useFunc)(t,Ta.default),c=t.name("outer");t.label(c).for((0,W._)`;${w}--;`,()=>t.for((0,W._)`${E} = ${w}; ${E}--;`,()=>t.if((0,W._)`${p}(${r}[${w}], ${r}[${E}])`,()=>{e.error(),t.assign(h,!1).break(c)})))}}};nr.default=Ca;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});const At=F,Ia=q,Ma=Je,Aa={message:"must be equal to constant",params:({schemaCode:e})=>(0,At._)`{allowedValue: ${e}}`},Da={keyword:"const",$data:!0,error:Aa,code(e){const{gen:t,data:r,$data:n,schemaCode:a,schema:o}=e;n||o&&typeof o=="object"?e.fail$data((0,At._)`!${(0,Ia.useFunc)(t,Ma.default)}(${r}, ${a})`):e.fail((0,At._)`${o} !== ${r}`)}};sr.default=Da;var ar={};Object.defineProperty(ar,"__esModule",{value:!0});const Me=F,Va=q,Fa=Je,Ka={message:"must be equal to one of the allowed values",params:({schemaCode:e})=>(0,Me._)`{allowedValues: ${e}}`},qa={keyword:"enum",schemaType:"array",$data:!0,error:Ka,code(e){const{gen:t,data:r,$data:n,schema:a,schemaCode:o,it:l}=e;if(!n&&a.length===0)throw new Error("enum must have non-empty array");const d=a.length>=l.opts.loopEnum;let h;const u=()=>h??(h=(0,Va.useFunc)(t,Fa.default));let f;if(d||n)f=t.let("valid"),e.block$data(f,y);else{if(!Array.isArray(a))throw new Error("ajv implementation error");const N=t.const("vSchema",o);f=(0,Me.or)(...a.map((w,E)=>j(N,E)))}e.pass(f);function y(){t.assign(f,!1),t.forOf("v",o,N=>t.if((0,Me._)`${u()}(${r}, ${N})`,()=>t.assign(f,!0).break()))}function j(N,w){const E=a[w];return typeof E=="object"&&E!==null?(0,Me._)`${u()}(${r}, ${N}[${w}])`:(0,Me._)`${r} === ${E}`}}};ar.default=qa;Object.defineProperty(Wt,"__esModule",{value:!0});const Ua=Qt,za=Xt,La=Yt,Ga=xt,Ja=er,Ha=tr,Ba=rr,Wa=nr,Qa=sr,Xa=ar,Ya=[Ua.default,za.default,La.default,Ga.default,Ja.default,Ha.default,Ba.default,Wa.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Qa.default,Xa.default];Wt.default=Ya;var or={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.validateAdditionalItems=void 0;const _e=F,Dt=q,Za={message:({params:{len:e}})=>(0,_e.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,_e._)`{limit: ${e}}`},xa={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Za,code(e){const{parentSchema:t,it:r}=e,{items:n}=t;if(!Array.isArray(n)){(0,Dt.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}_n(e,n)}};function _n(e,t){const{gen:r,schema:n,data:a,keyword:o,it:l}=e;l.items=!0;const d=r.const("len",(0,_e._)`${a}.length`);if(n===!1)e.setParams({len:t.length}),e.pass((0,_e._)`${d} <= ${t.length}`);else if(typeof n=="object"&&!(0,Dt.alwaysValidSchema)(l,n)){const u=r.var("valid",(0,_e._)`${d} <= ${t.length}`);r.if((0,_e.not)(u),()=>h(u)),e.ok(u)}function h(u){r.forRange("i",t.length,d,f=>{e.subschema({keyword:o,dataProp:f,dataPropType:Dt.Type.Num},u),l.allErrors||r.if((0,_e.not)(u),()=>r.break())})}}je.validateAdditionalItems=_n;je.default=xa;var ir={},Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.validateTuple=void 0;const Ir=F,et=q,eo=V,to={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(e){const{schema:t,it:r}=e;if(Array.isArray(t))return vn(e,"additionalItems",t);r.items=!0,!(0,et.alwaysValidSchema)(r,t)&&e.ok((0,eo.validateArray)(e))}};function vn(e,t,r=e.schema){const{gen:n,parentSchema:a,data:o,keyword:l,it:d}=e;f(a),d.opts.unevaluated&&r.length&&d.items!==!0&&(d.items=et.mergeEvaluated.items(n,r.length,d.items));const h=n.name("valid"),u=n.const("len",(0,Ir._)`${o}.length`);r.forEach((y,j)=>{(0,et.alwaysValidSchema)(d,y)||(n.if((0,Ir._)`${u} > ${j}`,()=>e.subschema({keyword:l,schemaProp:j,dataProp:j},h)),e.ok(h))});function f(y){const{opts:j,errSchemaPath:N}=d,w=r.length,E=w===y.minItems&&(w===y.maxItems||y[t]===!1);if(j.strictTuples&&!E){const p=`"${l}" is ${w}-tuple, but minItems or maxItems/${t} are not specified or different at path "${N}"`;(0,et.checkStrictMode)(d,p,j.strictTuples)}}}Oe.validateTuple=vn;Oe.default=to;Object.defineProperty(ir,"__esModule",{value:!0});const ro=Oe,no={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:e=>(0,ro.validateTuple)(e,"items")};ir.default=no;var cr={};Object.defineProperty(cr,"__esModule",{value:!0});const Mr=F,so=q,ao=V,oo=je,io={message:({params:{len:e}})=>(0,Mr.str)`must NOT have more than ${e} items`,params:({params:{len:e}})=>(0,Mr._)`{limit: ${e}}`},co={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:io,code(e){const{schema:t,parentSchema:r,it:n}=e,{prefixItems:a}=r;n.items=!0,!(0,so.alwaysValidSchema)(n,t)&&(a?(0,oo.validateAdditionalItems)(e,a):e.ok((0,ao.validateArray)(e)))}};cr.default=co;var lr={};Object.defineProperty(lr,"__esModule",{value:!0});const te=F,Qe=q,lo={message:({params:{min:e,max:t}})=>t===void 0?(0,te.str)`must contain at least ${e} valid item(s)`:(0,te.str)`must contain at least ${e} and no more than ${t} valid item(s)`,params:({params:{min:e,max:t}})=>t===void 0?(0,te._)`{minContains: ${e}}`:(0,te._)`{minContains: ${e}, maxContains: ${t}}`},uo={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:lo,code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;let l,d;const{minContains:h,maxContains:u}=n;o.opts.next?(l=h===void 0?1:h,d=u):l=1;const f=t.const("len",(0,te._)`${a}.length`);if(e.setParams({min:l,max:d}),d===void 0&&l===0){(0,Qe.checkStrictMode)(o,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&l>d){(0,Qe.checkStrictMode)(o,'"minContains" > "maxContains" is always invalid'),e.fail();return}if((0,Qe.alwaysValidSchema)(o,r)){let E=(0,te._)`${f} >= ${l}`;d!==void 0&&(E=(0,te._)`${E} && ${f} <= ${d}`),e.pass(E);return}o.items=!0;const y=t.name("valid");d===void 0&&l===1?N(y,()=>t.if(y,()=>t.break())):l===0?(t.let(y,!0),d!==void 0&&t.if((0,te._)`${a}.length > 0`,j)):(t.let(y,!1),j()),e.result(y,()=>e.reset());function j(){const E=t.name("_valid"),p=t.let("count",0);N(E,()=>t.if(E,()=>w(p)))}function N(E,p){t.forRange("i",0,f,c=>{e.subschema({keyword:"contains",dataProp:c,dataPropType:Qe.Type.Num,compositeRule:!0},E),p()})}function w(E){t.code((0,te._)`${E}++`),d===void 0?t.if((0,te._)`${E} >= ${l}`,()=>t.assign(y,!0).break()):(t.if((0,te._)`${E} > ${d}`,()=>t.assign(y,!1).break()),l===1?t.assign(y,!0):t.if((0,te._)`${E} >= ${l}`,()=>t.assign(y,!0)))}}};lr.default=uo;var gn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=F,r=q,n=V;e.error={message:({params:{property:h,depsCount:u,deps:f}})=>{const y=u===1?"property":"properties";return(0,t.str)`must have ${y} ${f} when property ${h} is present`},params:({params:{property:h,depsCount:u,deps:f,missingProperty:y}})=>(0,t._)`{property: ${h},
    missingProperty: ${y},
    depsCount: ${u},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(h){const[u,f]=o(h);l(h,u),d(h,f)}};function o({schema:h}){const u={},f={};for(const y in h){if(y==="__proto__")continue;const j=Array.isArray(h[y])?u:f;j[y]=h[y]}return[u,f]}function l(h,u=h.schema){const{gen:f,data:y,it:j}=h;if(Object.keys(u).length===0)return;const N=f.let("missing");for(const w in u){const E=u[w];if(E.length===0)continue;const p=(0,n.propertyInData)(f,y,w,j.opts.ownProperties);h.setParams({property:w,depsCount:E.length,deps:E.join(", ")}),j.allErrors?f.if(p,()=>{for(const c of E)(0,n.checkReportMissingProp)(h,c)}):(f.if((0,t._)`${p} && (${(0,n.checkMissingProp)(h,E,N)})`),(0,n.reportMissingProp)(h,N),f.else())}}e.validatePropertyDeps=l;function d(h,u=h.schema){const{gen:f,data:y,keyword:j,it:N}=h,w=f.name("valid");for(const E in u)(0,r.alwaysValidSchema)(N,u[E])||(f.if((0,n.propertyInData)(f,y,E,N.opts.ownProperties),()=>{const p=h.subschema({keyword:j,schemaProp:E},w);h.mergeValidEvaluated(p,w)},()=>f.var(w,!0)),h.ok(w))}e.validateSchemaDeps=d,e.default=a})(gn);var ur={};Object.defineProperty(ur,"__esModule",{value:!0});const wn=F,fo=q,ho={message:"property name must be valid",params:({params:e})=>(0,wn._)`{propertyName: ${e.propertyName}}`},mo={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:ho,code(e){const{gen:t,schema:r,data:n,it:a}=e;if((0,fo.alwaysValidSchema)(a,r))return;const o=t.name("valid");t.forIn("key",n,l=>{e.setParams({propertyName:l}),e.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},o),t.if((0,wn.not)(o),()=>{e.error(!0),a.allErrors||t.break()})}),e.ok(o)}};ur.default=mo;var ut={};Object.defineProperty(ut,"__esModule",{value:!0});const Xe=V,ne=F,po=ce,Ye=q,yo={message:"must NOT have additional properties",params:({params:e})=>(0,ne._)`{additionalProperty: ${e.additionalProperty}}`},$o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:yo,code(e){const{gen:t,schema:r,parentSchema:n,data:a,errsCount:o,it:l}=e;if(!o)throw new Error("ajv implementation error");const{allErrors:d,opts:h}=l;if(l.props=!0,h.removeAdditional!=="all"&&(0,Ye.alwaysValidSchema)(l,r))return;const u=(0,Xe.allSchemaProperties)(n.properties),f=(0,Xe.allSchemaProperties)(n.patternProperties);y(),e.ok((0,ne._)`${o} === ${po.default.errors}`);function y(){t.forIn("key",a,p=>{!u.length&&!f.length?w(p):t.if(j(p),()=>w(p))})}function j(p){let c;if(u.length>8){const v=(0,Ye.schemaRefOrVal)(l,n.properties,"properties");c=(0,Xe.isOwnProperty)(t,v,p)}else u.length?c=(0,ne.or)(...u.map(v=>(0,ne._)`${p} === ${v}`)):c=ne.nil;return f.length&&(c=(0,ne.or)(c,...f.map(v=>(0,ne._)`${(0,Xe.usePattern)(e,v)}.test(${p})`))),(0,ne.not)(c)}function N(p){t.code((0,ne._)`delete ${a}[${p}]`)}function w(p){if(h.removeAdditional==="all"||h.removeAdditional&&r===!1){N(p);return}if(r===!1){e.setParams({additionalProperty:p}),e.error(),d||t.break();return}if(typeof r=="object"&&!(0,Ye.alwaysValidSchema)(l,r)){const c=t.name("valid");h.removeAdditional==="failing"?(E(p,c,!1),t.if((0,ne.not)(c),()=>{e.reset(),N(p)})):(E(p,c),d||t.if((0,ne.not)(c),()=>t.break()))}}function E(p,c,v){const g={keyword:"additionalProperties",dataProp:p,dataPropType:Ye.Type.Str};v===!1&&Object.assign(g,{compositeRule:!0,createErrors:!1,allErrors:!1}),e.subschema(g,c)}}};ut.default=$o;var dr={};Object.defineProperty(dr,"__esModule",{value:!0});const _o=ae,Ar=V,Rt=q,Dr=ut,vo={keyword:"properties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,parentSchema:n,data:a,it:o}=e;o.opts.removeAdditional==="all"&&n.additionalProperties===void 0&&Dr.default.code(new _o.KeywordCxt(o,Dr.default,"additionalProperties"));const l=(0,Ar.allSchemaProperties)(r);for(const y of l)o.definedProperties.add(y);o.opts.unevaluated&&l.length&&o.props!==!0&&(o.props=Rt.mergeEvaluated.props(t,(0,Rt.toHash)(l),o.props));const d=l.filter(y=>!(0,Rt.alwaysValidSchema)(o,r[y]));if(d.length===0)return;const h=t.name("valid");for(const y of d)u(y)?f(y):(t.if((0,Ar.propertyInData)(t,a,y,o.opts.ownProperties)),f(y),o.allErrors||t.else().var(h,!0),t.endIf()),e.it.definedProperties.add(y),e.ok(h);function u(y){return o.opts.useDefaults&&!o.compositeRule&&r[y].default!==void 0}function f(y){e.subschema({keyword:"properties",schemaProp:y,dataProp:y},h)}}};dr.default=vo;var fr={};Object.defineProperty(fr,"__esModule",{value:!0});const Vr=V,Ze=F,Fr=q,Kr=q,go={keyword:"patternProperties",type:"object",schemaType:"object",code(e){const{gen:t,schema:r,data:n,parentSchema:a,it:o}=e,{opts:l}=o,d=(0,Vr.allSchemaProperties)(r),h=d.filter(E=>(0,Fr.alwaysValidSchema)(o,r[E]));if(d.length===0||h.length===d.length&&(!o.opts.unevaluated||o.props===!0))return;const u=l.strictSchema&&!l.allowMatchingProperties&&a.properties,f=t.name("valid");o.props!==!0&&!(o.props instanceof Ze.Name)&&(o.props=(0,Kr.evaluatedPropsToName)(t,o.props));const{props:y}=o;j();function j(){for(const E of d)u&&N(E),o.allErrors?w(E):(t.var(f,!0),w(E),t.if(f))}function N(E){for(const p in u)new RegExp(E).test(p)&&(0,Fr.checkStrictMode)(o,`property ${p} matches pattern ${E} (use allowMatchingProperties)`)}function w(E){t.forIn("key",n,p=>{t.if((0,Ze._)`${(0,Vr.usePattern)(e,E)}.test(${p})`,()=>{const c=h.includes(E);c||e.subschema({keyword:"patternProperties",schemaProp:E,dataProp:p,dataPropType:Kr.Type.Str},f),o.opts.unevaluated&&y!==!0?t.assign((0,Ze._)`${y}[${p}]`,!0):!c&&!o.allErrors&&t.if((0,Ze.not)(f),()=>t.break())})})}}};fr.default=go;var hr={};Object.defineProperty(hr,"__esModule",{value:!0});const wo=q,bo={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(e){const{gen:t,schema:r,it:n}=e;if((0,wo.alwaysValidSchema)(n,r)){e.fail();return}const a=t.name("valid");e.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),e.failResult(a,()=>e.reset(),()=>e.error())},error:{message:"must NOT be valid"}};hr.default=bo;var mr={};Object.defineProperty(mr,"__esModule",{value:!0});const Eo=V,Po={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Eo.validateUnion,error:{message:"must match a schema in anyOf"}};mr.default=Po;var pr={};Object.defineProperty(pr,"__esModule",{value:!0});const tt=F,So=q,No={message:"must match exactly one schema in oneOf",params:({params:e})=>(0,tt._)`{passingSchemas: ${e.passing}}`},ko={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:No,code(e){const{gen:t,schema:r,parentSchema:n,it:a}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");if(a.opts.discriminator&&n.discriminator)return;const o=r,l=t.let("valid",!1),d=t.let("passing",null),h=t.name("_valid");e.setParams({passing:d}),t.block(u),e.result(l,()=>e.reset(),()=>e.error(!0));function u(){o.forEach((f,y)=>{let j;(0,So.alwaysValidSchema)(a,f)?t.var(h,!0):j=e.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},h),y>0&&t.if((0,tt._)`${h} && ${l}`).assign(l,!1).assign(d,(0,tt._)`[${d}, ${y}]`).else(),t.if(h,()=>{t.assign(l,!0),t.assign(d,y),j&&e.mergeEvaluated(j,tt.Name)})})}}};pr.default=ko;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});const jo=q,Oo={keyword:"allOf",schemaType:"array",code(e){const{gen:t,schema:r,it:n}=e;if(!Array.isArray(r))throw new Error("ajv implementation error");const a=t.name("valid");r.forEach((o,l)=>{if((0,jo.alwaysValidSchema)(n,o))return;const d=e.subschema({keyword:"allOf",schemaProp:l},a);e.ok(a),e.mergeEvaluated(d)})}};yr.default=Oo;var $r={};Object.defineProperty($r,"__esModule",{value:!0});const ot=F,bn=q,To={message:({params:e})=>(0,ot.str)`must match "${e.ifClause}" schema`,params:({params:e})=>(0,ot._)`{failingKeyword: ${e.ifClause}}`},Ro={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:To,code(e){const{gen:t,parentSchema:r,it:n}=e;r.then===void 0&&r.else===void 0&&(0,bn.checkStrictMode)(n,'"if" without "then" and "else" is ignored');const a=qr(n,"then"),o=qr(n,"else");if(!a&&!o)return;const l=t.let("valid",!0),d=t.name("_valid");if(h(),e.reset(),a&&o){const f=t.let("ifClause");e.setParams({ifClause:f}),t.if(d,u("then",f),u("else",f))}else a?t.if(d,u("then")):t.if((0,ot.not)(d),u("else"));e.pass(l,()=>e.error(!0));function h(){const f=e.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);e.mergeEvaluated(f)}function u(f,y){return()=>{const j=e.subschema({keyword:f},d);t.assign(l,d),e.mergeValidEvaluated(j,l),y?t.assign(y,(0,ot._)`${f}`):e.setParams({ifClause:f})}}}};function qr(e,t){const r=e.schema[t];return r!==void 0&&!(0,bn.alwaysValidSchema)(e,r)}$r.default=Ro;var _r={};Object.defineProperty(_r,"__esModule",{value:!0});const Co=q,Io={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:e,parentSchema:t,it:r}){t.if===void 0&&(0,Co.checkStrictMode)(r,`"${e}" without "if" is ignored`)}};_r.default=Io;Object.defineProperty(or,"__esModule",{value:!0});const Mo=je,Ao=ir,Do=Oe,Vo=cr,Fo=lr,Ko=gn,qo=ur,Uo=ut,zo=dr,Lo=fr,Go=hr,Jo=mr,Ho=pr,Bo=yr,Wo=$r,Qo=_r;function Xo(e=!1){const t=[Go.default,Jo.default,Ho.default,Bo.default,Wo.default,Qo.default,qo.default,Uo.default,Ko.default,zo.default,Lo.default];return e?t.push(Ao.default,Vo.default):t.push(Mo.default,Do.default),t.push(Fo.default),t}or.default=Xo;var vr={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});const J=F,Yo={message:({schemaCode:e})=>(0,J.str)`must match format "${e}"`,params:({schemaCode:e})=>(0,J._)`{format: ${e}}`},Zo={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Yo,code(e,t){const{gen:r,data:n,$data:a,schema:o,schemaCode:l,it:d}=e,{opts:h,errSchemaPath:u,schemaEnv:f,self:y}=d;if(!h.validateFormats)return;a?j():N();function j(){const w=r.scopeValue("formats",{ref:y.formats,code:h.code.formats}),E=r.const("fDef",(0,J._)`${w}[${l}]`),p=r.let("fType"),c=r.let("format");r.if((0,J._)`typeof ${E} == "object" && !(${E} instanceof RegExp)`,()=>r.assign(p,(0,J._)`${E}.type || "string"`).assign(c,(0,J._)`${E}.validate`),()=>r.assign(p,(0,J._)`"string"`).assign(c,E)),e.fail$data((0,J.or)(v(),g()));function v(){return h.strictSchema===!1?J.nil:(0,J._)`${l} && !${c}`}function g(){const S=f.$async?(0,J._)`(${E}.async ? await ${c}(${n}) : ${c}(${n}))`:(0,J._)`${c}(${n})`,T=(0,J._)`(typeof ${c} == "function" ? ${S} : ${c}.test(${n}))`;return(0,J._)`${c} && ${c} !== true && ${p} === ${t} && !${T}`}}function N(){const w=y.formats[o];if(!w){v();return}if(w===!0)return;const[E,p,c]=g(w);E===t&&e.pass(S());function v(){if(h.strictSchema===!1){y.logger.warn(T());return}throw new Error(T());function T(){return`unknown format "${o}" ignored in schema at path "${u}"`}}function g(T){const $=T instanceof RegExp?(0,J.regexpCode)(T):h.code.formats?(0,J._)`${h.code.formats}${(0,J.getProperty)(o)}`:void 0,b=r.scopeValue("formats",{key:o,ref:T,code:$});return typeof T=="object"&&!(T instanceof RegExp)?[T.type||"string",T.validate,(0,J._)`${b}.validate`]:["string",T,b]}function S(){if(typeof w=="object"&&!(w instanceof RegExp)&&w.async){if(!f.$async)throw new Error("async format in sync schema");return(0,J._)`await ${c}(${n})`}return typeof p=="function"?(0,J._)`${c}(${n})`:(0,J._)`${c}.test(${n})`}}}};gr.default=Zo;Object.defineProperty(vr,"__esModule",{value:!0});const xo=gr,ei=[xo.default];vr.default=ei;var ke={};Object.defineProperty(ke,"__esModule",{value:!0});ke.contentVocabulary=ke.metadataVocabulary=void 0;ke.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];ke.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Jt,"__esModule",{value:!0});const ti=Ht,ri=Wt,ni=or,si=vr,Ur=ke,ai=[ti.default,ri.default,(0,ni.default)(),si.default,Ur.metadataVocabulary,Ur.contentVocabulary];Jt.default=ai;var wr={},En={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiscrError=void 0,function(t){t.Tag="tag",t.Mapping="mapping"}(e.DiscrError||(e.DiscrError={}))})(En);Object.defineProperty(wr,"__esModule",{value:!0});const Pe=F,Vt=En,zr=x,oi=q,ii={message:({params:{discrError:e,tagName:t}})=>e===Vt.DiscrError.Tag?`tag "${t}" must be string`:`value of tag "${t}" must be in oneOf`,params:({params:{discrError:e,tag:t,tagName:r}})=>(0,Pe._)`{error: ${e}, tag: ${r}, tagValue: ${t}}`},ci={keyword:"discriminator",type:"object",schemaType:"object",error:ii,code(e){const{gen:t,data:r,schema:n,parentSchema:a,it:o}=e,{oneOf:l}=a;if(!o.opts.discriminator)throw new Error("discriminator: requires discriminator option");const d=n.propertyName;if(typeof d!="string")throw new Error("discriminator: requires propertyName");if(n.mapping)throw new Error("discriminator: mapping is not supported");if(!l)throw new Error("discriminator: requires oneOf keyword");const h=t.let("valid",!1),u=t.const("tag",(0,Pe._)`${r}${(0,Pe.getProperty)(d)}`);t.if((0,Pe._)`typeof ${u} == "string"`,()=>f(),()=>e.error(!1,{discrError:Vt.DiscrError.Tag,tag:u,tagName:d})),e.ok(h);function f(){const N=j();t.if(!1);for(const w in N)t.elseIf((0,Pe._)`${u} === ${w}`),t.assign(h,y(N[w]));t.else(),e.error(!1,{discrError:Vt.DiscrError.Mapping,tag:u,tagName:d}),t.endIf()}function y(N){const w=t.name("valid"),E=e.subschema({keyword:"oneOf",schemaProp:N},w);return e.mergeEvaluated(E,Pe.Name),w}function j(){var N;const w={},E=c(a);let p=!0;for(let S=0;S<l.length;S++){let T=l[S];T!=null&&T.$ref&&!(0,oi.schemaHasRulesButRef)(T,o.self.RULES)&&(T=zr.resolveRef.call(o.self,o.schemaEnv.root,o.baseId,T==null?void 0:T.$ref),T instanceof zr.SchemaEnv&&(T=T.schema));const $=(N=T==null?void 0:T.properties)===null||N===void 0?void 0:N[d];if(typeof $!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${d}"`);p=p&&(E||c(T)),v($,S)}if(!p)throw new Error(`discriminator: "${d}" must be required`);return w;function c({required:S}){return Array.isArray(S)&&S.includes(d)}function v(S,T){if(S.const)g(S.const,T);else if(S.enum)for(const $ of S.enum)g($,T);else throw new Error(`discriminator: "properties/${d}" must have "const" or "enum"`)}function g(S,T){if(typeof S!="string"||S in w)throw new Error(`discriminator: "${d}" values must be unique strings`);w[S]=T}}}};wr.default=ci;const li="http://json-schema.org/draft-07/schema#",ui="http://json-schema.org/draft-07/schema#",di="Core schema meta-schema",fi={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},hi=["object","boolean"],mi={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},pi={$schema:li,$id:ui,title:di,definitions:fi,type:hi,properties:mi,default:!0};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;const r=Gr,n=Jt,a=wr,o=pi,l=["/properties"],d="http://json-schema.org/draft-07/schema";class h extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(w=>this.addVocabulary(w)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const w=this.opts.$data?this.$dataMetaSchema(o,l):o;this.addMetaSchema(w,d,!1),this.refs["http://json-schema.org/schema"]=d}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(d)?d:void 0)}}e.exports=t=h,Object.defineProperty(t,"__esModule",{value:!0}),t.default=h;var u=ae;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=F;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var y=Le;Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return y.default}});var j=Ge;Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return j.default}})})(Ct,Ct.exports);var yi=Ct.exports;const $i=Sn(yi),gi=Object.freeze(Object.defineProperty({__proto__:null,default:$i},Symbol.toStringTag,{value:"Module"}));export{gi as a};
