import{e as lf,c as ge,l as Bn,B as xt,m as df,q as Nr,G as yf,H as pf,p as zr,I as gf,J as Nn,K as mf,L as vf,g as xf}from"./@1inch-8aFH8gck.js";var yi={},pi={},pr={},qr={},Gr={},Xr={},gi={},Sr={},Jr={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.output=Ne.exists=Ne.hash=Ne.bytes=Ne.bool=Ne.number=void 0;function Vr(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Ne.number=Vr;function mi(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Ne.bool=mi;function Cn(t,...r){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(t.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${t.length}`)}Ne.bytes=Cn;function vi(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Vr(t.outputLen),Vr(t.blockLen)}Ne.hash=vi;function xi(t,r=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(r&&t.finished)throw new Error("Hash#digest() has already been called")}Ne.exists=xi;function bi(t,r){Cn(t);const f=r.outputLen;if(t.length<f)throw new Error(`digestInto() expects output buffer of length at least ${f}`)}Ne.output=bi;const bf={number:Vr,bool:mi,bytes:Cn,hash:vi,exists:xi,output:bi};Ne.default=bf;var or={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.crypto=void 0;Qr.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const r=Qr,f=O=>O instanceof Uint8Array,s=O=>new Uint8Array(O.buffer,O.byteOffset,O.byteLength);t.u8=s;const v=O=>new Uint32Array(O.buffer,O.byteOffset,Math.floor(O.byteLength/4));t.u32=v;const a=O=>new DataView(O.buffer,O.byteOffset,O.byteLength);t.createView=a;const b=(O,E)=>O<<32-E|O>>>E;if(t.rotr=b,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const M=Array.from({length:256},(O,E)=>E.toString(16).padStart(2,"0"));function S(O){if(!f(O))throw new Error("Uint8Array expected");let E="";for(let U=0;U<O.length;U++)E+=M[O[U]];return E}t.bytesToHex=S;function L(O){if(typeof O!="string")throw new Error("hex string expected, got "+typeof O);const E=O.length;if(E%2)throw new Error("padded hex string expected, got unpadded hex of length "+E);const U=new Uint8Array(E/2);for(let K=0;K<U.length;K++){const z=K*2,m=O.slice(z,z+2),e=Number.parseInt(m,16);if(Number.isNaN(e)||e<0)throw new Error("Invalid byte sequence");U[K]=e}return U}t.hexToBytes=L;const Y=async()=>{};t.nextTick=Y;async function J(O,E,U){let K=Date.now();for(let z=0;z<O;z++){U(z);const m=Date.now()-K;m>=0&&m<E||(await(0,t.nextTick)(),K+=m)}}t.asyncLoop=J;function Q(O){if(typeof O!="string")throw new Error(`utf8ToBytes expected string, got ${typeof O}`);return new Uint8Array(new TextEncoder().encode(O))}t.utf8ToBytes=Q;function V(O){if(typeof O=="string"&&(O=Q(O)),!f(O))throw new Error(`expected Uint8Array, got ${typeof O}`);return O}t.toBytes=V;function ft(...O){const E=new Uint8Array(O.reduce((K,z)=>K+z.length,0));let U=0;return O.forEach(K=>{if(!f(K))throw new Error("Uint8Array expected");E.set(K,U),U+=K.length}),E}t.concatBytes=ft;class tt{clone(){return this._cloneInto()}}t.Hash=tt;const P=O=>Object.prototype.toString.call(O)==="[object Object]"&&O.constructor===Object;function X(O,E){if(E!==void 0&&(typeof E!="object"||!P(E)))throw new Error("Options should be object or undefined");return Object.assign(O,E)}t.checkOpts=X;function T(O){const E=K=>O().update(V(K)).digest(),U=O();return E.outputLen=U.outputLen,E.blockLen=U.blockLen,E.create=()=>O(),E}t.wrapConstructor=T;function C(O){const E=(K,z)=>O(z).update(V(K)).digest(),U=O({});return E.outputLen=U.outputLen,E.blockLen=U.blockLen,E.create=K=>O(K),E}t.wrapConstructorWithOpts=C;function B(O){const E=(K,z)=>O(z).update(V(K)).digest(),U=O({});return E.outputLen=U.outputLen,E.blockLen=U.blockLen,E.create=K=>O(K),E}t.wrapXOFConstructorWithOpts=B;function _(O=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(O));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=_})(or);Object.defineProperty(Jr,"__esModule",{value:!0});Jr.SHA2=void 0;const ln=Ne,Ir=or;function wf(t,r,f,s){if(typeof t.setBigUint64=="function")return t.setBigUint64(r,f,s);const v=BigInt(32),a=BigInt(4294967295),b=Number(f>>v&a),M=Number(f&a),S=s?4:0,L=s?0:4;t.setUint32(r+S,b,s),t.setUint32(r+L,M,s)}class _f extends Ir.Hash{constructor(r,f,s,v){super(),this.blockLen=r,this.outputLen=f,this.padOffset=s,this.isLE=v,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(r),this.view=(0,Ir.createView)(this.buffer)}update(r){ln.default.exists(this);const{view:f,buffer:s,blockLen:v}=this;r=(0,Ir.toBytes)(r);const a=r.length;for(let b=0;b<a;){const M=Math.min(v-this.pos,a-b);if(M===v){const S=(0,Ir.createView)(r);for(;v<=a-b;b+=v)this.process(S,b);continue}s.set(r.subarray(b,b+M),this.pos),this.pos+=M,b+=M,this.pos===v&&(this.process(f,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){ln.default.exists(this),ln.default.output(r,this),this.finished=!0;const{buffer:f,view:s,blockLen:v,isLE:a}=this;let{pos:b}=this;f[b++]=128,this.buffer.subarray(b).fill(0),this.padOffset>v-b&&(this.process(s,0),b=0);for(let J=b;J<v;J++)f[J]=0;wf(s,v-8,BigInt(this.length*8),a),this.process(s,0);const M=(0,Ir.createView)(r),S=this.outputLen;if(S%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const L=S/4,Y=this.get();if(L>Y.length)throw new Error("_sha2: outputLen bigger than state");for(let J=0;J<L;J++)M.setUint32(4*J,Y[J],a)}digest(){const{buffer:r,outputLen:f}=this;this.digestInto(r);const s=r.slice(0,f);return this.destroy(),s}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:f,buffer:s,length:v,finished:a,destroyed:b,pos:M}=this;return r.length=v,r.pos=M,r.finished=a,r.destroyed=b,v%f&&r.buffer.set(s),r}}Jr.SHA2=_f;Object.defineProperty(Sr,"__esModule",{value:!0});Sr.sha224=Sr.sha256=void 0;const Ef=Jr,ze=or,Bf=(t,r,f)=>t&r^~t&f,Mf=(t,r,f)=>t&r^t&f^r&f,Sf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ar=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ur=new Uint32Array(64);class wi extends Ef.SHA2{constructor(){super(64,32,8,!1),this.A=ar[0]|0,this.B=ar[1]|0,this.C=ar[2]|0,this.D=ar[3]|0,this.E=ar[4]|0,this.F=ar[5]|0,this.G=ar[6]|0,this.H=ar[7]|0}get(){const{A:r,B:f,C:s,D:v,E:a,F:b,G:M,H:S}=this;return[r,f,s,v,a,b,M,S]}set(r,f,s,v,a,b,M,S){this.A=r|0,this.B=f|0,this.C=s|0,this.D=v|0,this.E=a|0,this.F=b|0,this.G=M|0,this.H=S|0}process(r,f){for(let J=0;J<16;J++,f+=4)ur[J]=r.getUint32(f,!1);for(let J=16;J<64;J++){const Q=ur[J-15],V=ur[J-2],ft=(0,ze.rotr)(Q,7)^(0,ze.rotr)(Q,18)^Q>>>3,tt=(0,ze.rotr)(V,17)^(0,ze.rotr)(V,19)^V>>>10;ur[J]=tt+ur[J-7]+ft+ur[J-16]|0}let{A:s,B:v,C:a,D:b,E:M,F:S,G:L,H:Y}=this;for(let J=0;J<64;J++){const Q=(0,ze.rotr)(M,6)^(0,ze.rotr)(M,11)^(0,ze.rotr)(M,25),V=Y+Q+Bf(M,S,L)+Sf[J]+ur[J]|0,tt=((0,ze.rotr)(s,2)^(0,ze.rotr)(s,13)^(0,ze.rotr)(s,22))+Mf(s,v,a)|0;Y=L,L=S,S=M,M=b+V|0,b=a,a=v,v=s,s=V+tt|0}s=s+this.A|0,v=v+this.B|0,a=a+this.C|0,b=b+this.D|0,M=M+this.E|0,S=S+this.F|0,L=L+this.G|0,Y=Y+this.H|0,this.set(s,v,a,b,M,S,L,Y)}roundClean(){ur.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Af extends wi{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Sr.sha256=(0,ze.wrapConstructor)(()=>new wi);Sr.sha224=(0,ze.wrapConstructor)(()=>new Af);var Jt={},qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.validateObject=qt.createHmacDrbg=qt.bitMask=qt.bitSet=qt.bitGet=qt.bitLen=qt.utf8ToBytes=qt.equalBytes=qt.concatBytes=qt.ensureBytes=qt.numberToVarBytesBE=qt.numberToBytesLE=qt.numberToBytesBE=qt.bytesToNumberLE=qt.bytesToNumberBE=qt.hexToBytes=qt.hexToNumber=qt.numberToHexUnpadded=qt.bytesToHex=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _i=BigInt(0),tn=BigInt(1),Tf=BigInt(2),en=t=>t instanceof Uint8Array,Of=Array.from({length:256},(t,r)=>r.toString(16).padStart(2,"0"));function Un(t){if(!en(t))throw new Error("Uint8Array expected");let r="";for(let f=0;f<t.length;f++)r+=Of[t[f]];return r}qt.bytesToHex=Un;function Ei(t){const r=t.toString(16);return r.length&1?`0${r}`:r}qt.numberToHexUnpadded=Ei;function Hn(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}qt.hexToNumber=Hn;function rn(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const r=t.length;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const f=new Uint8Array(r/2);for(let s=0;s<f.length;s++){const v=s*2,a=t.slice(v,v+2),b=Number.parseInt(a,16);if(Number.isNaN(b)||b<0)throw new Error("Invalid byte sequence");f[s]=b}return f}qt.hexToBytes=rn;function If(t){return Hn(Un(t))}qt.bytesToNumberBE=If;function Pf(t){if(!en(t))throw new Error("Uint8Array expected");return Hn(Un(Uint8Array.from(t).reverse()))}qt.bytesToNumberLE=Pf;function Bi(t,r){return rn(t.toString(16).padStart(r*2,"0"))}qt.numberToBytesBE=Bi;function Lf(t,r){return Bi(t,r).reverse()}qt.numberToBytesLE=Lf;function Rf(t){return rn(Ei(t))}qt.numberToVarBytesBE=Rf;function Nf(t,r,f){let s;if(typeof r=="string")try{s=rn(r)}catch(a){throw new Error(`${t} must be valid hex string, got "${r}". Cause: ${a}`)}else if(en(r))s=Uint8Array.from(r);else throw new Error(`${t} must be hex string or Uint8Array`);const v=s.length;if(typeof f=="number"&&v!==f)throw new Error(`${t} expected ${f} bytes, got ${v}`);return s}qt.ensureBytes=Nf;function Mi(...t){const r=new Uint8Array(t.reduce((s,v)=>s+v.length,0));let f=0;return t.forEach(s=>{if(!en(s))throw new Error("Uint8Array expected");r.set(s,f),f+=s.length}),r}qt.concatBytes=Mi;function Cf(t,r){if(t.length!==r.length)return!1;for(let f=0;f<t.length;f++)if(t[f]!==r[f])return!1;return!0}qt.equalBytes=Cf;function Uf(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}qt.utf8ToBytes=Uf;function Hf(t){let r;for(r=0;t>_i;t>>=tn,r+=1);return r}qt.bitLen=Hf;function $f(t,r){return t>>BigInt(r)&tn}qt.bitGet=$f;const kf=(t,r,f)=>t|(f?tn:_i)<<BigInt(r);qt.bitSet=kf;const qf=t=>(Tf<<BigInt(t-1))-tn;qt.bitMask=qf;const dn=t=>new Uint8Array(t),Zn=t=>Uint8Array.from(t);function jf(t,r,f){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");if(typeof f!="function")throw new Error("hmacFn must be a function");let s=dn(t),v=dn(t),a=0;const b=()=>{s.fill(1),v.fill(0),a=0},M=(...J)=>f(v,s,...J),S=(J=dn())=>{v=M(Zn([0]),J),s=M(),J.length!==0&&(v=M(Zn([1]),J),s=M())},L=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let J=0;const Q=[];for(;J<r;){s=M();const V=s.slice();Q.push(V),J+=s.length}return Mi(...Q)};return(J,Q)=>{b(),S(J);let V;for(;!(V=Q(L()));)S();return b(),V}}qt.createHmacDrbg=jf;const Df={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,r)=>r.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function zf(t,r,f={}){const s=(v,a,b)=>{const M=Df[a];if(typeof M!="function")throw new Error(`Invalid validator "${a}", expected function`);const S=t[v];if(!(b&&S===void 0)&&!M(S,t))throw new Error(`Invalid param ${String(v)}=${S} (${typeof S}), expected ${a}`)};for(const[v,a]of Object.entries(r))s(v,a,!1);for(const[v,a]of Object.entries(f))s(v,a,!0);return t}qt.validateObject=zf;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.hashToPrivateScalar=Jt.FpSqrtEven=Jt.FpSqrtOdd=Jt.Field=Jt.nLength=Jt.FpIsSquare=Jt.FpDiv=Jt.FpInvertBatch=Jt.FpPow=Jt.validateField=Jt.isNegativeLE=Jt.FpSqrt=Jt.tonelliShanks=Jt.invert=Jt.pow2=Jt.pow=Jt.mod=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fr=qt,Ce=BigInt(0),Ee=BigInt(1),hr=BigInt(2),Kf=BigInt(3),Mn=BigInt(4),Yn=BigInt(5),Fn=BigInt(8);BigInt(9);BigInt(16);function Ke(t,r){const f=t%r;return f>=Ce?f:r+f}Jt.mod=Ke;function Si(t,r,f){if(f<=Ce||r<Ce)throw new Error("Expected power/modulo > 0");if(f===Ee)return Ce;let s=Ee;for(;r>Ce;)r&Ee&&(s=s*t%f),t=t*t%f,r>>=Ee;return s}Jt.pow=Si;function Vf(t,r,f){let s=t;for(;r-- >Ce;)s*=s,s%=f;return s}Jt.pow2=Vf;function Wr(t,r){if(t===Ce||r<=Ce)throw new Error(`invert: expected positive integers, got n=${t} mod=${r}`);let f=Ke(t,r),s=r,v=Ce,a=Ee;for(;f!==Ce;){const M=s/f,S=s%f,L=v-a*M;s=f,f=S,v=a,a=L}if(s!==Ee)throw new Error("invert: does not exist");return Ke(v,r)}Jt.invert=Wr;function Ai(t){const r=(t-Ee)/hr;let f,s,v;for(f=t-Ee,s=0;f%hr===Ce;f/=hr,s++);for(v=hr;v<t&&Si(v,r,t)!==t-Ee;v++);if(s===1){const b=(t+Ee)/Mn;return function(S,L){const Y=S.pow(L,b);if(!S.eql(S.sqr(Y),L))throw new Error("Cannot find square root");return Y}}const a=(f+Ee)/hr;return function(M,S){if(M.pow(S,r)===M.neg(M.ONE))throw new Error("Cannot find square root");let L=s,Y=M.pow(M.mul(M.ONE,v),f),J=M.pow(S,a),Q=M.pow(S,f);for(;!M.eql(Q,M.ONE);){if(M.eql(Q,M.ZERO))return M.ZERO;let V=1;for(let tt=M.sqr(Q);V<L&&!M.eql(tt,M.ONE);V++)tt=M.sqr(tt);const ft=M.pow(Y,Ee<<BigInt(L-V-1));Y=M.sqr(ft),J=M.mul(J,ft),Q=M.mul(Q,Y),L=V}return J}}Jt.tonelliShanks=Ai;function Ti(t){if(t%Mn===Kf){const r=(t+Ee)/Mn;return function(s,v){const a=s.pow(v,r);if(!s.eql(s.sqr(a),v))throw new Error("Cannot find square root");return a}}if(t%Fn===Yn){const r=(t-Yn)/Fn;return function(s,v){const a=s.mul(v,hr),b=s.pow(a,r),M=s.mul(v,b),S=s.mul(s.mul(M,hr),b),L=s.mul(M,s.sub(S,s.ONE));if(!s.eql(s.sqr(L),v))throw new Error("Cannot find square root");return L}}return Ai(t)}Jt.FpSqrt=Ti;const Wf=(t,r)=>(Ke(t,r)&Ee)===Ee;Jt.isNegativeLE=Wf;const Zf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yf(t){const r={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},f=Zf.reduce((s,v)=>(s[v]="function",s),r);return(0,fr.validateObject)(t,f)}Jt.validateField=Yf;function Oi(t,r,f){if(f<Ce)throw new Error("Expected power > 0");if(f===Ce)return t.ONE;if(f===Ee)return r;let s=t.ONE,v=r;for(;f>Ce;)f&Ee&&(s=t.mul(s,v)),v=t.sqr(v),f>>=Ee;return s}Jt.FpPow=Oi;function Ii(t,r){const f=new Array(r.length),s=r.reduce((a,b,M)=>t.is0(b)?a:(f[M]=a,t.mul(a,b)),t.ONE),v=t.inv(s);return r.reduceRight((a,b,M)=>t.is0(b)?a:(f[M]=t.mul(a,f[M]),t.mul(a,b)),v),f}Jt.FpInvertBatch=Ii;function Ff(t,r,f){return t.mul(r,typeof f=="bigint"?Wr(f,t.ORDER):t.inv(f))}Jt.FpDiv=Ff;function Gf(t){const r=(t.ORDER-Ee)/hr;return f=>{const s=t.pow(f,r);return t.eql(s,t.ZERO)||t.eql(s,t.ONE)}}Jt.FpIsSquare=Gf;function $n(t,r){const f=r!==void 0?r:t.toString(2).length,s=Math.ceil(f/8);return{nBitLength:f,nByteLength:s}}Jt.nLength=$n;function Xf(t,r,f=!1,s={}){if(t<=Ce)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:v,nByteLength:a}=$n(t,r);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");const b=Ti(t),M=Object.freeze({ORDER:t,BITS:v,BYTES:a,MASK:(0,fr.bitMask)(v),ZERO:Ce,ONE:Ee,create:S=>Ke(S,t),isValid:S=>{if(typeof S!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof S}`);return Ce<=S&&S<t},is0:S=>S===Ce,isOdd:S=>(S&Ee)===Ee,neg:S=>Ke(-S,t),eql:(S,L)=>S===L,sqr:S=>Ke(S*S,t),add:(S,L)=>Ke(S+L,t),sub:(S,L)=>Ke(S-L,t),mul:(S,L)=>Ke(S*L,t),pow:(S,L)=>Oi(M,S,L),div:(S,L)=>Ke(S*Wr(L,t),t),sqrN:S=>S*S,addN:(S,L)=>S+L,subN:(S,L)=>S-L,mulN:(S,L)=>S*L,inv:S=>Wr(S,t),sqrt:s.sqrt||(S=>b(M,S)),invertBatch:S=>Ii(M,S),cmov:(S,L,Y)=>Y?L:S,toBytes:S=>f?(0,fr.numberToBytesLE)(S,a):(0,fr.numberToBytesBE)(S,a),fromBytes:S=>{if(S.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${S.length}`);return f?(0,fr.bytesToNumberLE)(S):(0,fr.bytesToNumberBE)(S)}});return Object.freeze(M)}Jt.Field=Xf;function Jf(t,r){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const f=t.sqrt(r);return t.isOdd(f)?f:t.neg(f)}Jt.FpSqrtOdd=Jf;function Qf(t,r){if(!t.isOdd)throw new Error("Field doesn't have isOdd");const f=t.sqrt(r);return t.isOdd(f)?t.neg(f):f}Jt.FpSqrtEven=Qf;function to(t,r,f=!1){t=(0,fr.ensureBytes)("privateHash",t);const s=t.length,v=$n(r).nByteLength+8;if(v<24||s<v||s>1024)throw new Error(`hashToPrivateScalar: expected ${v}-1024 bytes of input, got ${s}`);const a=f?(0,fr.bytesToNumberLE)(t):(0,fr.bytesToNumberBE)(t);return Ke(a,r-Ee)+Ee}Jt.hashToPrivateScalar=to;var kn={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.validateBasic=Ar.wNAF=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gn=Jt,eo=qt,ro=BigInt(0),yn=BigInt(1);function no(t,r){const f=(v,a)=>{const b=a.negate();return v?b:a},s=v=>{const a=Math.ceil(r/v)+1,b=2**(v-1);return{windows:a,windowSize:b}};return{constTimeNegate:f,unsafeLadder(v,a){let b=t.ZERO,M=v;for(;a>ro;)a&yn&&(b=b.add(M)),M=M.double(),a>>=yn;return b},precomputeWindow(v,a){const{windows:b,windowSize:M}=s(a),S=[];let L=v,Y=L;for(let J=0;J<b;J++){Y=L,S.push(Y);for(let Q=1;Q<M;Q++)Y=Y.add(L),S.push(Y);L=Y.double()}return S},wNAF(v,a,b){const{windows:M,windowSize:S}=s(v);let L=t.ZERO,Y=t.BASE;const J=BigInt(2**v-1),Q=2**v,V=BigInt(v);for(let ft=0;ft<M;ft++){const tt=ft*S;let P=Number(b&J);b>>=V,P>S&&(P-=Q,b+=yn);const X=tt,T=tt+Math.abs(P)-1,C=ft%2!==0,B=P<0;P===0?Y=Y.add(f(C,a[X])):L=L.add(f(B,a[T]))}return{p:L,f:Y}},wNAFCached(v,a,b,M){const S=v._WINDOW_SIZE||1;let L=a.get(v);return L||(L=this.precomputeWindow(v,S),S!==1&&a.set(v,M(L))),this.wNAF(S,L,b)}}}Ar.wNAF=no;function io(t){return(0,Gn.validateField)(t.Fp),(0,eo.validateObject)(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,Gn.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}Ar.validateBasic=io;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.mapToCurveSimpleSWU=t.SWUFpSqrtRatio=t.weierstrass=t.weierstrassPoints=t.DER=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r=Jt,f=qt,s=qt,v=Ar;function a(T){const C=(0,v.validateBasic)(T);f.validateObject(C,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:B,Fp:_,a:O}=C;if(B){if(!_.eql(O,_.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof B!="object"||typeof B.beta!="bigint"||typeof B.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...C})}const{bytesToNumberBE:b,hexToBytes:M}=f;t.DER={Err:class extends Error{constructor(C=""){super(C)}},_parseInt(T){const{Err:C}=t.DER;if(T.length<2||T[0]!==2)throw new C("Invalid signature integer tag");const B=T[1],_=T.subarray(2,B+2);if(!B||_.length!==B)throw new C("Invalid signature integer: wrong length");if(_[0]&128)throw new C("Invalid signature integer: negative");if(_[0]===0&&!(_[1]&128))throw new C("Invalid signature integer: unnecessary leading zero");return{d:b(_),l:T.subarray(B+2)}},toSig(T){const{Err:C}=t.DER,B=typeof T=="string"?M(T):T;if(!(B instanceof Uint8Array))throw new Error("ui8a expected");let _=B.length;if(_<2||B[0]!=48)throw new C("Invalid signature tag");if(B[1]!==_-2)throw new C("Invalid signature: incorrect length");const{d:O,l:E}=t.DER._parseInt(B.subarray(2)),{d:U,l:K}=t.DER._parseInt(E);if(K.length)throw new C("Invalid signature: left bytes after parsing");return{r:O,s:U}},hexFromSig(T){const C=m=>Number.parseInt(m[0],16)&8?"00"+m:m,B=m=>{const e=m.toString(16);return e.length&1?`0${e}`:e},_=C(B(T.s)),O=C(B(T.r)),E=_.length/2,U=O.length/2,K=B(E),z=B(U);return`30${B(U+E+4)}02${z}${O}02${K}${_}`}};const S=BigInt(0),L=BigInt(1),Y=BigInt(2),J=BigInt(3),Q=BigInt(4);function V(T){const C=a(T),{Fp:B}=C,_=C.toBytes||((p,w,A)=>{const h=w.toAffine();return f.concatBytes(Uint8Array.from([4]),B.toBytes(h.x),B.toBytes(h.y))}),O=C.fromBytes||(p=>{const w=p.subarray(1),A=B.fromBytes(w.subarray(0,B.BYTES)),h=B.fromBytes(w.subarray(B.BYTES,2*B.BYTES));return{x:A,y:h}});function E(p){const{a:w,b:A}=C,h=B.sqr(p),n=B.mul(h,p);return B.add(B.add(n,B.mul(p,w)),A)}if(!B.eql(B.sqr(C.Gy),E(C.Gx)))throw new Error("bad generator point: equation left != right");function U(p){return typeof p=="bigint"&&S<p&&p<C.n}function K(p){if(!U(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function z(p){const{allowedPrivateKeyLengths:w,nByteLength:A,wrapPrivateKey:h,n}=C;if(w&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=f.bytesToHex(p)),typeof p!="string"||!w.includes(p.length))throw new Error("Invalid key");p=p.padStart(A*2,"0")}let d;try{d=typeof p=="bigint"?p:f.bytesToNumberBE((0,s.ensureBytes)("private key",p,A))}catch{throw new Error(`private key must be ${A} bytes, hex or bigint, not ${typeof p}`)}return h&&(d=r.mod(d,n)),K(d),d}const m=new Map;function e(p){if(!(p instanceof o))throw new Error("ProjectivePoint expected")}class o{constructor(w,A,h){if(this.px=w,this.py=A,this.pz=h,w==null||!B.isValid(w))throw new Error("x required");if(A==null||!B.isValid(A))throw new Error("y required");if(h==null||!B.isValid(h))throw new Error("z required")}static fromAffine(w){const{x:A,y:h}=w||{};if(!w||!B.isValid(A)||!B.isValid(h))throw new Error("invalid affine point");if(w instanceof o)throw new Error("projective point not allowed");const n=d=>B.eql(d,B.ZERO);return n(A)&&n(h)?o.ZERO:new o(A,h,B.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const A=B.invertBatch(w.map(h=>h.pz));return w.map((h,n)=>h.toAffine(A[n])).map(o.fromAffine)}static fromHex(w){const A=o.fromAffine(O((0,s.ensureBytes)("pointHex",w)));return A.assertValidity(),A}static fromPrivateKey(w){return o.BASE.multiply(z(w))}_setWindowSize(w){this._WINDOW_SIZE=w,m.delete(this)}assertValidity(){if(this.is0()){if(C.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:w,y:A}=this.toAffine();if(!B.isValid(w)||!B.isValid(A))throw new Error("bad point: x or y not FE");const h=B.sqr(A),n=E(w);if(!B.eql(h,n))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:w}=this.toAffine();if(B.isOdd)return!B.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){e(w);const{px:A,py:h,pz:n}=this,{px:d,py:q,pz:N}=w,$=B.eql(B.mul(A,N),B.mul(d,n)),k=B.eql(B.mul(h,N),B.mul(q,n));return $&&k}negate(){return new o(this.px,B.neg(this.py),this.pz)}double(){const{a:w,b:A}=C,h=B.mul(A,J),{px:n,py:d,pz:q}=this;let N=B.ZERO,$=B.ZERO,k=B.ZERO,F=B.mul(n,n),ct=B.mul(d,d),mt=B.mul(q,q),ot=B.mul(n,d);return ot=B.add(ot,ot),k=B.mul(n,q),k=B.add(k,k),N=B.mul(w,k),$=B.mul(h,mt),$=B.add(N,$),N=B.sub(ct,$),$=B.add(ct,$),$=B.mul(N,$),N=B.mul(ot,N),k=B.mul(h,k),mt=B.mul(w,mt),ot=B.sub(F,mt),ot=B.mul(w,ot),ot=B.add(ot,k),k=B.add(F,F),F=B.add(k,F),F=B.add(F,mt),F=B.mul(F,ot),$=B.add($,F),mt=B.mul(d,q),mt=B.add(mt,mt),F=B.mul(mt,ot),N=B.sub(N,F),k=B.mul(mt,ct),k=B.add(k,k),k=B.add(k,k),new o(N,$,k)}add(w){e(w);const{px:A,py:h,pz:n}=this,{px:d,py:q,pz:N}=w;let $=B.ZERO,k=B.ZERO,F=B.ZERO;const ct=C.a,mt=B.mul(C.b,J);let ot=B.mul(A,d),yt=B.mul(h,q),St=B.mul(n,N),Et=B.add(A,h),et=B.add(d,q);Et=B.mul(Et,et),et=B.add(ot,yt),Et=B.sub(Et,et),et=B.add(A,n);let at=B.add(d,N);return et=B.mul(et,at),at=B.add(ot,St),et=B.sub(et,at),at=B.add(h,n),$=B.add(q,N),at=B.mul(at,$),$=B.add(yt,St),at=B.sub(at,$),F=B.mul(ct,et),$=B.mul(mt,St),F=B.add($,F),$=B.sub(yt,F),F=B.add(yt,F),k=B.mul($,F),yt=B.add(ot,ot),yt=B.add(yt,ot),St=B.mul(ct,St),et=B.mul(mt,et),yt=B.add(yt,St),St=B.sub(ot,St),St=B.mul(ct,St),et=B.add(et,St),ot=B.mul(yt,et),k=B.add(k,ot),ot=B.mul(at,et),$=B.mul(Et,$),$=B.sub($,ot),ot=B.mul(Et,yt),F=B.mul(at,F),F=B.add(F,ot),new o($,k,F)}subtract(w){return this.add(w.negate())}is0(){return this.equals(o.ZERO)}wNAF(w){return l.wNAFCached(this,m,w,A=>{const h=B.invertBatch(A.map(n=>n.pz));return A.map((n,d)=>n.toAffine(h[d])).map(o.fromAffine)})}multiplyUnsafe(w){const A=o.ZERO;if(w===S)return A;if(K(w),w===L)return this;const{endo:h}=C;if(!h)return l.unsafeLadder(this,w);let{k1neg:n,k1:d,k2neg:q,k2:N}=h.splitScalar(w),$=A,k=A,F=this;for(;d>S||N>S;)d&L&&($=$.add(F)),N&L&&(k=k.add(F)),F=F.double(),d>>=L,N>>=L;return n&&($=$.negate()),q&&(k=k.negate()),k=new o(B.mul(k.px,h.beta),k.py,k.pz),$.add(k)}multiply(w){K(w);let A=w,h,n;const{endo:d}=C;if(d){const{k1neg:q,k1:N,k2neg:$,k2:k}=d.splitScalar(A);let{p:F,f:ct}=this.wNAF(N),{p:mt,f:ot}=this.wNAF(k);F=l.constTimeNegate(q,F),mt=l.constTimeNegate($,mt),mt=new o(B.mul(mt.px,d.beta),mt.py,mt.pz),h=F.add(mt),n=ct.add(ot)}else{const{p:q,f:N}=this.wNAF(A);h=q,n=N}return o.normalizeZ([h,n])[0]}multiplyAndAddUnsafe(w,A,h){const n=o.BASE,d=(N,$)=>$===S||$===L||!N.equals(n)?N.multiplyUnsafe($):N.multiply($),q=d(this,A).add(d(w,h));return q.is0()?void 0:q}toAffine(w){const{px:A,py:h,pz:n}=this,d=this.is0();w==null&&(w=d?B.ONE:B.inv(n));const q=B.mul(A,w),N=B.mul(h,w),$=B.mul(n,w);if(d)return{x:B.ZERO,y:B.ZERO};if(!B.eql($,B.ONE))throw new Error("invZ was invalid");return{x:q,y:N}}isTorsionFree(){const{h:w,isTorsionFree:A}=C;if(w===L)return!0;if(A)return A(o,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:A}=C;return w===L?this:A?A(o,this):this.multiplyUnsafe(C.h)}toRawBytes(w=!0){return this.assertValidity(),_(o,this,w)}toHex(w=!0){return f.bytesToHex(this.toRawBytes(w))}}o.BASE=new o(C.Gx,C.Gy,B.ONE),o.ZERO=new o(B.ZERO,B.ONE,B.ZERO);const u=C.nBitLength,l=(0,v.wNAF)(o,C.endo?Math.ceil(u/2):u);return{CURVE:C,ProjectivePoint:o,normPrivateKeyToScalar:z,weierstrassEquation:E,isWithinCurveOrder:U}}t.weierstrassPoints=V;function ft(T){const C=(0,v.validateBasic)(T);return f.validateObject(C,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...C})}function tt(T){const C=ft(T),{Fp:B,n:_}=C,O=B.BYTES+1,E=2*B.BYTES+1;function U(et){return S<et&&et<B.ORDER}function K(et){return r.mod(et,_)}function z(et){return r.invert(et,_)}const{ProjectivePoint:m,normPrivateKeyToScalar:e,weierstrassEquation:o,isWithinCurveOrder:u}=V({...C,toBytes(et,at,ht){const Mt=at.toAffine(),jt=B.toBytes(Mt.x),Nt=f.concatBytes;return ht?Nt(Uint8Array.from([at.hasEvenY()?2:3]),jt):Nt(Uint8Array.from([4]),jt,B.toBytes(Mt.y))},fromBytes(et){const at=et.length,ht=et[0],Mt=et.subarray(1);if(at===O&&(ht===2||ht===3)){const jt=f.bytesToNumberBE(Mt);if(!U(jt))throw new Error("Point is not on curve");const Nt=o(jt);let $t=B.sqrt(Nt);const _e=($t&L)===L;return(ht&1)===1!==_e&&($t=B.neg($t)),{x:jt,y:$t}}else if(at===E&&ht===4){const jt=B.fromBytes(Mt.subarray(0,B.BYTES)),Nt=B.fromBytes(Mt.subarray(B.BYTES,2*B.BYTES));return{x:jt,y:Nt}}else throw new Error(`Point of length ${at} was invalid. Expected ${O} compressed bytes or ${E} uncompressed bytes`)}}),l=et=>f.bytesToHex(f.numberToBytesBE(et,C.nByteLength));function p(et){const at=_>>L;return et>at}function w(et){return p(et)?K(-et):et}const A=(et,at,ht)=>f.bytesToNumberBE(et.slice(at,ht));class h{constructor(at,ht,Mt){this.r=at,this.s=ht,this.recovery=Mt,this.assertValidity()}static fromCompact(at){const ht=C.nByteLength;return at=(0,s.ensureBytes)("compactSignature",at,ht*2),new h(A(at,0,ht),A(at,ht,2*ht))}static fromDER(at){const{r:ht,s:Mt}=t.DER.toSig((0,s.ensureBytes)("DER",at));return new h(ht,Mt)}assertValidity(){if(!u(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(at){return new h(this.r,this.s,at)}recoverPublicKey(at){const{r:ht,s:Mt,recovery:jt}=this,Nt=k((0,s.ensureBytes)("msgHash",at));if(jt==null||![0,1,2,3].includes(jt))throw new Error("recovery id invalid");const $t=jt===2||jt===3?ht+C.n:ht;if($t>=B.ORDER)throw new Error("recovery id 2 or 3 invalid");const _e=jt&1?"03":"02",Qt=m.fromHex(_e+l($t)),ee=z($t),je=K(-Nt*ee),ie=K(Mt*ee),re=m.BASE.multiplyAndAddUnsafe(Qt,je,ie);if(!re)throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,K(-this.s),this.recovery):this}toDERRawBytes(){return f.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return f.hexToBytes(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const n={isValidPrivateKey(et){try{return e(et),!0}catch{return!1}},normPrivateKeyToScalar:e,randomPrivateKey:()=>{const et=C.randomBytes(B.BYTES+8),at=r.hashToPrivateScalar(et,_);return f.numberToBytesBE(at,C.nByteLength)},precompute(et=8,at=m.BASE){return at._setWindowSize(et),at.multiply(BigInt(3)),at}};function d(et,at=!0){return m.fromPrivateKey(et).toRawBytes(at)}function q(et){const at=et instanceof Uint8Array,ht=typeof et=="string",Mt=(at||ht)&&et.length;return at?Mt===O||Mt===E:ht?Mt===2*O||Mt===2*E:et instanceof m}function N(et,at,ht=!0){if(q(et))throw new Error("first arg must be private key");if(!q(at))throw new Error("second arg must be public key");return m.fromHex(at).multiply(e(et)).toRawBytes(ht)}const $=C.bits2int||function(et){const at=f.bytesToNumberBE(et),ht=et.length*8-C.nBitLength;return ht>0?at>>BigInt(ht):at},k=C.bits2int_modN||function(et){return K($(et))},F=f.bitMask(C.nBitLength);function ct(et){if(typeof et!="bigint")throw new Error("bigint expected");if(!(S<=et&&et<F))throw new Error(`bigint expected < 2^${C.nBitLength}`);return f.numberToBytesBE(et,C.nByteLength)}function mt(et,at,ht=ot){if(["recovered","canonical"].some(te=>te in ht))throw new Error("sign() legacy options not supported");const{hash:Mt,randomBytes:jt}=C;let{lowS:Nt,prehash:$t,extraEntropy:_e}=ht;Nt==null&&(Nt=!0),et=(0,s.ensureBytes)("msgHash",et),$t&&(et=(0,s.ensureBytes)("prehashed msgHash",Mt(et)));const Qt=k(et),ee=e(at),je=[ct(ee),ct(Qt)];if(_e!=null){const te=_e===!0?jt(B.BYTES):_e;je.push((0,s.ensureBytes)("extraEntropy",te,B.BYTES))}const ie=f.concatBytes(...je),re=Qt;function Ue(te){const fe=$(te);if(!u(fe))return;const Je=z(fe),he=m.BASE.multiply(fe).toAffine(),Wt=K(he.x);if(Wt===S)return;const Re=K(Je*K(re+Wt*ee));if(Re===S)return;let H=(he.x===Wt?0:2)|Number(he.y&L),j=Re;return Nt&&p(Re)&&(j=w(Re),H^=1),new h(Wt,j,H)}return{seed:ie,k2sig:Ue}}const ot={lowS:C.lowS,prehash:!1},yt={lowS:C.lowS,prehash:!1};function St(et,at,ht=ot){const{seed:Mt,k2sig:jt}=mt(et,at,ht),Nt=C;return f.createHmacDrbg(Nt.hash.outputLen,Nt.nByteLength,Nt.hmac)(Mt,jt)}m.BASE._setWindowSize(8);function Et(et,at,ht,Mt=yt){var he;const jt=et;if(at=(0,s.ensureBytes)("msgHash",at),ht=(0,s.ensureBytes)("publicKey",ht),"strict"in Mt)throw new Error("options.strict was renamed to lowS");const{lowS:Nt,prehash:$t}=Mt;let _e,Qt;try{if(typeof jt=="string"||jt instanceof Uint8Array)try{_e=h.fromDER(jt)}catch(Wt){if(!(Wt instanceof t.DER.Err))throw Wt;_e=h.fromCompact(jt)}else if(typeof jt=="object"&&typeof jt.r=="bigint"&&typeof jt.s=="bigint"){const{r:Wt,s:Re}=jt;_e=new h(Wt,Re)}else throw new Error("PARSE");Qt=m.fromHex(ht)}catch(Wt){if(Wt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Nt&&_e.hasHighS())return!1;$t&&(at=C.hash(at));const{r:ee,s:je}=_e,ie=k(at),re=z(je),Ue=K(ie*re),te=K(ee*re),fe=(he=m.BASE.multiplyAndAddUnsafe(Qt,Ue,te))==null?void 0:he.toAffine();return fe?K(fe.x)===ee:!1}return{CURVE:C,getPublicKey:d,getSharedSecret:N,sign:St,verify:Et,ProjectivePoint:m,Signature:h,utils:n}}t.weierstrass=tt;function P(T,C){const B=T.ORDER;let _=S;for(let p=B-L;p%Y===S;p/=Y)_+=L;const O=_,E=Y<<O-L-L,U=E*Y,K=(B-L)/U,z=(K-L)/Y,m=U-L,e=E,o=T.pow(C,K),u=T.pow(C,(K+L)/Y);let l=(p,w)=>{let A=o,h=T.pow(w,m),n=T.sqr(h);n=T.mul(n,w);let d=T.mul(p,n);d=T.pow(d,z),d=T.mul(d,h),h=T.mul(d,w),n=T.mul(d,p);let q=T.mul(n,h);d=T.pow(q,e);let N=T.eql(d,T.ONE);h=T.mul(n,u),d=T.mul(q,A),n=T.cmov(h,n,N),q=T.cmov(d,q,N);for(let $=O;$>L;$--){let k=$-Y;k=Y<<k-L;let F=T.pow(q,k);const ct=T.eql(F,T.ONE);h=T.mul(n,A),A=T.mul(A,A),F=T.mul(q,A),n=T.cmov(h,n,ct),q=T.cmov(F,q,ct)}return{isValid:N,value:n}};if(T.ORDER%Q===J){const p=(T.ORDER-J)/Q,w=T.sqrt(T.neg(C));l=(A,h)=>{let n=T.sqr(h);const d=T.mul(A,h);n=T.mul(n,d);let q=T.pow(n,p);q=T.mul(q,d);const N=T.mul(q,w),$=T.mul(T.sqr(q),h),k=T.eql($,A);let F=T.cmov(N,q,k);return{isValid:k,value:F}}}return l}t.SWUFpSqrtRatio=P;function X(T,C){if(r.validateField(T),!T.isValid(C.A)||!T.isValid(C.B)||!T.isValid(C.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const B=P(T,C.Z);if(!T.isOdd)throw new Error("Fp.isOdd is not implemented!");return _=>{let O,E,U,K,z,m,e,o;O=T.sqr(_),O=T.mul(O,C.Z),E=T.sqr(O),E=T.add(E,O),U=T.add(E,T.ONE),U=T.mul(U,C.B),K=T.cmov(C.Z,T.neg(E),!T.eql(E,T.ZERO)),K=T.mul(K,C.A),E=T.sqr(U),m=T.sqr(K),z=T.mul(m,C.A),E=T.add(E,z),E=T.mul(E,U),m=T.mul(m,K),z=T.mul(m,C.B),E=T.add(E,z),e=T.mul(O,U);const{isValid:u,value:l}=B(E,m);o=T.mul(O,_),o=T.mul(o,l),e=T.cmov(e,U,u),o=T.cmov(o,l,u);const p=T.isOdd(_)===T.isOdd(o);return o=T.cmov(T.neg(o),o,p),e=T.div(e,K),{x:e,y:o}}}t.mapToCurveSimpleSWU=X})(kn);var We={};Object.defineProperty(We,"__esModule",{value:!0});We.createHasher=We.isogenyMap=We.hash_to_field=We.expand_message_xof=We.expand_message_xmd=void 0;const fo=Jt,Ge=qt;function oo(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return(0,Ge.utf8ToBytes)(t);throw new Error("DST must be Uint8Array or string")}const so=Ge.bytesToNumberBE;function cr(t,r){if(t<0||t>=1<<8*r)throw new Error(`bad I2OSP call: value=${t} length=${r}`);const f=Array.from({length:r}).fill(0);for(let s=r-1;s>=0;s--)f[s]=t&255,t>>>=8;return new Uint8Array(f)}function ao(t,r){const f=new Uint8Array(t.length);for(let s=0;s<t.length;s++)f[s]=t[s]^r[s];return f}function Hr(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function qn(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function Pi(t,r,f,s){Hr(t),Hr(r),qn(f),r.length>255&&(r=s((0,Ge.concatBytes)((0,Ge.utf8ToBytes)("H2C-OVERSIZE-DST-"),r)));const{outputLen:v,blockLen:a}=s,b=Math.ceil(f/v);if(b>255)throw new Error("Invalid xmd length");const M=(0,Ge.concatBytes)(r,cr(r.length,1)),S=cr(0,a),L=cr(f,2),Y=new Array(b),J=s((0,Ge.concatBytes)(S,t,L,cr(0,1),M));Y[0]=s((0,Ge.concatBytes)(J,cr(1,1),M));for(let V=1;V<=b;V++){const ft=[ao(J,Y[V-1]),cr(V+1,1),M];Y[V]=s((0,Ge.concatBytes)(...ft))}return(0,Ge.concatBytes)(...Y).slice(0,f)}We.expand_message_xmd=Pi;function Li(t,r,f,s,v){if(Hr(t),Hr(r),qn(f),r.length>255){const a=Math.ceil(2*s/8);r=v.create({dkLen:a}).update((0,Ge.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(r).digest()}if(f>65535||r.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return v.create({dkLen:f}).update(t).update(cr(f,2)).update(r).update(cr(r.length,1)).digest()}We.expand_message_xof=Li;function Sn(t,r,f){(0,Ge.validateObject)(f,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:s,k:v,m:a,hash:b,expand:M,DST:S}=f;Hr(t),qn(r);const L=oo(S),Y=s.toString(2).length,J=Math.ceil((Y+v)/8),Q=r*a*J;let V;if(M==="xmd")V=Pi(t,L,Q,b);else if(M==="xof")V=Li(t,L,Q,v,b);else if(M==="_internal_pass")V=t;else throw new Error('expand must be "xmd" or "xof"');const ft=new Array(r);for(let tt=0;tt<r;tt++){const P=new Array(a);for(let X=0;X<a;X++){const T=J*(X+tt*a),C=V.subarray(T,T+J);P[X]=(0,fo.mod)(so(C),s)}ft[tt]=P}return ft}We.hash_to_field=Sn;function uo(t,r){const f=r.map(s=>Array.from(s).reverse());return(s,v)=>{const[a,b,M,S]=f.map(L=>L.reduce((Y,J)=>t.add(t.mul(Y,s),J)));return s=t.div(a,b),v=t.mul(v,t.div(M,S)),{x:s,y:v}}}We.isogenyMap=uo;function co(t,r,f){if(typeof r!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(s,v){const a=Sn(s,2,{...f,DST:f.DST,...v}),b=t.fromAffine(r(a[0])),M=t.fromAffine(r(a[1])),S=b.add(M).clearCofactor();return S.assertValidity(),S},encodeToCurve(s,v){const a=Sn(s,1,{...f,DST:f.encodeDST,...v}),b=t.fromAffine(r(a[0])).clearCofactor();return b.assertValidity(),b}}}We.createHasher=co;var Tr={},Ri={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const r=Ne,f=or;class s extends f.Hash{constructor(b,M){super(),this.finished=!1,this.destroyed=!1,r.default.hash(b);const S=(0,f.toBytes)(M);if(this.iHash=b.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const L=this.blockLen,Y=new Uint8Array(L);Y.set(S.length>L?b.create().update(S).digest():S);for(let J=0;J<Y.length;J++)Y[J]^=54;this.iHash.update(Y),this.oHash=b.create();for(let J=0;J<Y.length;J++)Y[J]^=106;this.oHash.update(Y),Y.fill(0)}update(b){return r.default.exists(this),this.iHash.update(b),this}digestInto(b){r.default.exists(this),r.default.bytes(b,this.outputLen),this.finished=!0,this.iHash.digestInto(b),this.oHash.update(b),this.oHash.digestInto(b),this.destroy()}digest(){const b=new Uint8Array(this.oHash.outputLen);return this.digestInto(b),b}_cloneInto(b){b||(b=Object.create(Object.getPrototypeOf(this),{}));const{oHash:M,iHash:S,finished:L,destroyed:Y,blockLen:J,outputLen:Q}=this;return b=b,b.finished=L,b.destroyed=Y,b.blockLen=J,b.outputLen=Q,b.oHash=M._cloneInto(b.oHash),b.iHash=S._cloneInto(b.iHash),b}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=s;const v=(a,b,M)=>new s(a,b).update(M).digest();t.hmac=v,t.hmac.create=(a,b)=>new s(a,b)})(Ri);Object.defineProperty(Tr,"__esModule",{value:!0});Tr.createCurve=Tr.getHash=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ho=Ri,Xn=or,lo=kn;function Ni(t){return{hash:t,hmac:(r,...f)=>(0,ho.hmac)(t,r,(0,Xn.concatBytes)(...f)),randomBytes:Xn.randomBytes}}Tr.getHash=Ni;function yo(t,r){const f=s=>(0,lo.weierstrass)({...t,...Ni(s)});return Object.freeze({...f(r),create:f})}Tr.createCurve=yo;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const r=Sr,f=or,s=Jt,v=kn,a=qt,b=We,M=Tr,S=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),L=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Y=BigInt(1),J=BigInt(2),Q=(h,n)=>(h+n/J)/n;function V(h){const n=S,d=BigInt(3),q=BigInt(6),N=BigInt(11),$=BigInt(22),k=BigInt(23),F=BigInt(44),ct=BigInt(88),mt=h*h*h%n,ot=mt*mt*h%n,yt=(0,s.pow2)(ot,d,n)*ot%n,St=(0,s.pow2)(yt,d,n)*ot%n,Et=(0,s.pow2)(St,J,n)*mt%n,et=(0,s.pow2)(Et,N,n)*Et%n,at=(0,s.pow2)(et,$,n)*et%n,ht=(0,s.pow2)(at,F,n)*at%n,Mt=(0,s.pow2)(ht,ct,n)*ht%n,jt=(0,s.pow2)(Mt,F,n)*at%n,Nt=(0,s.pow2)(jt,d,n)*ot%n,$t=(0,s.pow2)(Nt,k,n)*et%n,_e=(0,s.pow2)($t,q,n)*mt%n,Qt=(0,s.pow2)(_e,J,n);if(!ft.eql(ft.sqr(Qt),h))throw new Error("Cannot find square root");return Qt}const ft=(0,s.Field)(S,void 0,void 0,{sqrt:V});t.secp256k1=(0,M.createCurve)({a:BigInt(0),b:BigInt(7),Fp:ft,n:L,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:h=>{const n=L,d=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),q=-Y*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),N=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),$=d,k=BigInt("0x100000000000000000000000000000000"),F=Q($*h,n),ct=Q(-q*h,n);let mt=(0,s.mod)(h-F*d-ct*N,n),ot=(0,s.mod)(-F*q-ct*$,n);const yt=mt>k,St=ot>k;if(yt&&(mt=n-mt),St&&(ot=n-ot),mt>k||ot>k)throw new Error("splitScalar: Endomorphism failed, k="+h);return{k1neg:yt,k1:mt,k2neg:St,k2:ot}}}},r.sha256);const tt=BigInt(0),P=h=>typeof h=="bigint"&&tt<h&&h<S,X=h=>typeof h=="bigint"&&tt<h&&h<L,T={};function C(h,...n){let d=T[h];if(d===void 0){const q=(0,r.sha256)(Uint8Array.from(h,N=>N.charCodeAt(0)));d=(0,a.concatBytes)(q,q),T[h]=d}return(0,r.sha256)((0,a.concatBytes)(d,...n))}const B=h=>h.toRawBytes(!0).slice(1),_=h=>(0,a.numberToBytesBE)(h,32),O=h=>(0,s.mod)(h,S),E=h=>(0,s.mod)(h,L),U=t.secp256k1.ProjectivePoint,K=(h,n,d)=>U.BASE.multiplyAndAddUnsafe(h,n,d);function z(h){let n=t.secp256k1.utils.normPrivateKeyToScalar(h),d=U.fromPrivateKey(n);return{scalar:d.hasEvenY()?n:E(-n),bytes:B(d)}}function m(h){if(!P(h))throw new Error("bad x: need 0 < x < p");const n=O(h*h),d=O(n*h+BigInt(7));let q=V(d);q%J!==tt&&(q=O(-q));const N=new U(h,q,Y);return N.assertValidity(),N}function e(...h){return E((0,a.bytesToNumberBE)(C("BIP0340/challenge",...h)))}function o(h){return z(h).bytes}function u(h,n,d=(0,f.randomBytes)(32)){const q=(0,a.ensureBytes)("message",h),{bytes:N,scalar:$}=z(n),k=(0,a.ensureBytes)("auxRand",d,32),F=_($^(0,a.bytesToNumberBE)(C("BIP0340/aux",k))),ct=C("BIP0340/nonce",F,N,q),mt=E((0,a.bytesToNumberBE)(ct));if(mt===tt)throw new Error("sign failed: k is zero");const{bytes:ot,scalar:yt}=z(mt),St=e(ot,N,q),Et=new Uint8Array(64);if(Et.set(ot,0),Et.set(_(E(yt+St*$)),32),!l(Et,q,N))throw new Error("sign: Invalid signature produced");return Et}function l(h,n,d){const q=(0,a.ensureBytes)("signature",h,64),N=(0,a.ensureBytes)("message",n),$=(0,a.ensureBytes)("publicKey",d,32);try{const k=m((0,a.bytesToNumberBE)($)),F=(0,a.bytesToNumberBE)(q.subarray(0,32));if(!P(F))return!1;const ct=(0,a.bytesToNumberBE)(q.subarray(32,64));if(!X(ct))return!1;const mt=e(_(F),B(k),N),ot=K(k,ct,E(-mt));return!(!ot||!ot.hasEvenY()||ot.toAffine().x!==F)}catch{return!1}}t.schnorr={getPublicKey:o,sign:u,verify:l,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:m,pointToBytes:B,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:C,mod:s.mod}};const p=(0,b.isogenyMap)(ft,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(h=>h.map(n=>BigInt(n)))),w=(0,v.mapToCurveSimpleSWU)(ft,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:ft.create(BigInt("-11"))}),A=(0,b.createHasher)(t.secp256k1.ProjectivePoint,h=>{const{x:n,y:d}=w(ft.create(h[0]));return p(n,d)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:ft.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256});t.hashToCurve=A.hashToCurve,t.encodeToCurve=A.encodeToCurve})(gi);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=void 0;var r=gi;Object.defineProperty(t,"secp256k1",{enumerable:!0,get:function(){return r.secp256k1}})})(Xr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_WITHDRAWALS_PER_PAYLOAD=t.RLP_EMPTY_STRING=t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.SECP256K1_ORDER_DIV_2=t.SECP256K1_ORDER=t.MAX_INTEGER_BIGINT=t.MAX_INTEGER=t.MAX_UINT64=void 0;const r=lf,f=Xr;t.MAX_UINT64=BigInt("0xffffffffffffffff"),t.MAX_INTEGER=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t.MAX_INTEGER_BIGINT=BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),t.SECP256K1_ORDER=f.secp256k1.CURVE.n,t.SECP256K1_ORDER_DIV_2=f.secp256k1.CURVE.n/BigInt(2),t.TWO_POW256=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=r.Buffer.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=r.Buffer.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=r.Buffer.from(t.KECCAK256_RLP_S,"hex"),t.RLP_EMPTY_STRING=r.Buffer.from([128]),t.MAX_WITHDRAWALS_PER_PAYLOAD=16})(Gr);var nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.GWEI_TO_WEI=void 0;nn.GWEI_TO_WEI=BigInt(1e9);var jn={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.RLP=tr.utils=tr.decode=tr.encode=void 0;function Dn(t){if(Array.isArray(t)){const f=[];let s=0;for(let v=0;v<t.length;v++){const a=Dn(t[v]);f.push(a),s+=a.length}return Tn(Qn(s,192),...f)}const r=qi(t);return r.length===1&&r[0]<128?r:Tn(Qn(r.length,128),r)}tr.encode=Dn;function _r(t,r,f){if(f>t.length)throw new Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return t.slice(r,f)}function Jn(t){if(t[0]===0)throw new Error("invalid RLP: extra zeros");return Hi(Ui(t))}function Qn(t,r){if(t<56)return Uint8Array.from([t+r]);const f=On(t),s=f.length/2,v=On(r+55+s);return Uint8Array.from(Zr(v+f))}function Ci(t,r=!1){if(typeof t>"u"||t===null||t.length===0)return Uint8Array.from([]);const f=qi(t),s=An(f);if(r)return s;if(s.remainder.length!==0)throw new Error("invalid RLP: remainder must be zero");return s.data}tr.decode=Ci;function An(t){let r,f,s,v,a;const b=[],M=t[0];if(M<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(M<=183){if(r=M-127,M===128?s=Uint8Array.from([]):s=_r(t,1,r),r===2&&s[0]<128)throw new Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:s,remainder:t.slice(r)}}else if(M<=191){if(f=M-182,t.length-1<f)throw new Error("invalid RLP: not enough bytes for string length");if(r=Jn(_r(t,1,f)),r<=55)throw new Error("invalid RLP: expected string length to be greater than 55");return s=_r(t,f,r+f),{data:s,remainder:t.slice(r+f)}}else if(M<=247){for(r=M-191,v=_r(t,1,r);v.length;)a=An(v),b.push(a.data),v=a.remainder;return{data:b,remainder:t.slice(r)}}else{if(f=M-246,r=Jn(_r(t,1,f)),r<56)throw new Error("invalid RLP: encoded list too short");const S=f+r;if(S>t.length)throw new Error("invalid RLP: total length is larger than the data");for(v=_r(t,f,S);v.length;)a=An(v),b.push(a.data),v=a.remainder;return{data:b,remainder:t.slice(S)}}}const po=Array.from({length:256},(t,r)=>r.toString(16).padStart(2,"0"));function Ui(t){let r="";for(let f=0;f<t.length;f++)r+=po[t[f]];return r}function Hi(t){const r=Number.parseInt(t,16);if(Number.isNaN(r))throw new Error("Invalid byte sequence");return r}function Zr(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const r=new Uint8Array(t.length/2);for(let f=0;f<r.length;f++){const s=f*2;r[f]=Hi(t.slice(s,s+2))}return r}function Tn(...t){if(t.length===1)return t[0];const r=t.reduce((s,v)=>s+v.length,0),f=new Uint8Array(r);for(let s=0,v=0;s<t.length;s++){const a=t[s];f.set(a,v),v+=a.length}return f}function $i(t){return new TextEncoder().encode(t)}function On(t){if(t<0)throw new Error("Invalid integer as argument, must be unsigned!");const r=t.toString(16);return r.length%2?`0${r}`:r}function go(t){return t.length%2?`0${t}`:t}function ki(t){return t.length>=2&&t[0]==="0"&&t[1]==="x"}function mo(t){return typeof t!="string"?t:ki(t)?t.slice(2):t}function qi(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return ki(t)?Zr(go(mo(t))):$i(t);if(typeof t=="number"||typeof t=="bigint")return t?Zr(On(t)):Uint8Array.from([]);if(t==null)return Uint8Array.from([]);throw new Error("toBytes: received unsupported type "+typeof t)}tr.utils={bytesToHex:Ui,concatBytes:Tn,hexToBytes:Zr,utf8ToBytes:$i};tr.RLP={encode:Dn,decode:Ci};var Ye={},be={},ji={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const r=BigInt(2**32-1),f=BigInt(32);function s(z,m=!1){return m?{h:Number(z&r),l:Number(z>>f&r)}:{h:Number(z>>f&r)|0,l:Number(z&r)|0}}t.fromBig=s;function v(z,m=!1){let e=new Uint32Array(z.length),o=new Uint32Array(z.length);for(let u=0;u<z.length;u++){const{h:l,l:p}=s(z[u],m);[e[u],o[u]]=[l,p]}return[e,o]}t.split=v;const a=(z,m)=>BigInt(z>>>0)<<f|BigInt(m>>>0);t.toBig=a;const b=(z,m,e)=>z>>>e,M=(z,m,e)=>z<<32-e|m>>>e,S=(z,m,e)=>z>>>e|m<<32-e,L=(z,m,e)=>z<<32-e|m>>>e,Y=(z,m,e)=>z<<64-e|m>>>e-32,J=(z,m,e)=>z>>>e-32|m<<64-e,Q=(z,m)=>m,V=(z,m)=>z,ft=(z,m,e)=>z<<e|m>>>32-e,tt=(z,m,e)=>m<<e|z>>>32-e,P=(z,m,e)=>m<<e-32|z>>>64-e,X=(z,m,e)=>z<<e-32|m>>>64-e;function T(z,m,e,o){const u=(m>>>0)+(o>>>0);return{h:z+e+(u/2**32|0)|0,l:u|0}}t.add=T;const C=(z,m,e)=>(z>>>0)+(m>>>0)+(e>>>0),B=(z,m,e,o)=>m+e+o+(z/2**32|0)|0,_=(z,m,e,o)=>(z>>>0)+(m>>>0)+(e>>>0)+(o>>>0),O=(z,m,e,o,u)=>m+e+o+u+(z/2**32|0)|0,E=(z,m,e,o,u)=>(z>>>0)+(m>>>0)+(e>>>0)+(o>>>0)+(u>>>0),U=(z,m,e,o,u,l)=>m+e+o+u+l+(z/2**32|0)|0,K={fromBig:s,split:v,toBig:t.toBig,shrSH:b,shrSL:M,rotrSH:S,rotrSL:L,rotrBH:Y,rotrBL:J,rotr32H:Q,rotr32L:V,rotlSH:ft,rotlSL:tt,rotlBH:P,rotlBL:X,add:T,add3L:C,add3H:B,add4L:_,add4H:O,add5H:U,add5L:E};t.default=K})(ji);Object.defineProperty(be,"__esModule",{value:!0});be.shake256=be.shake128=be.keccak_512=be.keccak_384=be.keccak_256=be.keccak_224=be.sha3_512=be.sha3_384=be.sha3_256=be.sha3_224=be.Keccak=be.keccakP=void 0;const Er=Ne,$r=ji,Cr=or,[Di,zi,Ki]=[[],[],[]],vo=BigInt(0),Pr=BigInt(1),xo=BigInt(2),bo=BigInt(7),wo=BigInt(256),_o=BigInt(113);for(let t=0,r=Pr,f=1,s=0;t<24;t++){[f,s]=[s,(2*f+3*s)%5],Di.push(2*(5*s+f)),zi.push((t+1)*(t+2)/2%64);let v=vo;for(let a=0;a<7;a++)r=(r<<Pr^(r>>bo)*_o)%wo,r&xo&&(v^=Pr<<(Pr<<BigInt(a))-Pr);Ki.push(v)}const[Eo,Bo]=$r.default.split(Ki,!0),ti=(t,r,f)=>f>32?$r.default.rotlBH(t,r,f):$r.default.rotlSH(t,r,f),ei=(t,r,f)=>f>32?$r.default.rotlBL(t,r,f):$r.default.rotlSL(t,r,f);function Vi(t,r=24){const f=new Uint32Array(10);for(let s=24-r;s<24;s++){for(let b=0;b<10;b++)f[b]=t[b]^t[b+10]^t[b+20]^t[b+30]^t[b+40];for(let b=0;b<10;b+=2){const M=(b+8)%10,S=(b+2)%10,L=f[S],Y=f[S+1],J=ti(L,Y,1)^f[M],Q=ei(L,Y,1)^f[M+1];for(let V=0;V<50;V+=10)t[b+V]^=J,t[b+V+1]^=Q}let v=t[2],a=t[3];for(let b=0;b<24;b++){const M=zi[b],S=ti(v,a,M),L=ei(v,a,M),Y=Di[b];v=t[Y],a=t[Y+1],t[Y]=S,t[Y+1]=L}for(let b=0;b<50;b+=10){for(let M=0;M<10;M++)f[M]=t[b+M];for(let M=0;M<10;M++)t[b+M]^=~f[(M+2)%10]&f[(M+4)%10]}t[0]^=Eo[s],t[1]^=Bo[s]}f.fill(0)}be.keccakP=Vi;class jr extends Cr.Hash{constructor(r,f,s,v=!1,a=24){if(super(),this.blockLen=r,this.suffix=f,this.outputLen=s,this.enableXOF=v,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Er.default.number(s),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Cr.u32)(this.state)}keccak(){Vi(this.state32,this.rounds),this.posOut=0,this.pos=0}update(r){Er.default.exists(this);const{blockLen:f,state:s}=this;r=(0,Cr.toBytes)(r);const v=r.length;for(let a=0;a<v;){const b=Math.min(f-this.pos,v-a);for(let M=0;M<b;M++)s[this.pos++]^=r[a++];this.pos===f&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:r,suffix:f,pos:s,blockLen:v}=this;r[s]^=f,f&128&&s===v-1&&this.keccak(),r[v-1]^=128,this.keccak()}writeInto(r){Er.default.exists(this,!1),Er.default.bytes(r),this.finish();const f=this.state,{blockLen:s}=this;for(let v=0,a=r.length;v<a;){this.posOut>=s&&this.keccak();const b=Math.min(s-this.posOut,a-v);r.set(f.subarray(this.posOut,this.posOut+b),v),this.posOut+=b,v+=b}return r}xofInto(r){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(r)}xof(r){return Er.default.number(r),this.xofInto(new Uint8Array(r))}digestInto(r){if(Er.default.output(r,this),this.finished)throw new Error("digest() was already called");return this.writeInto(r),this.destroy(),r}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(r){const{blockLen:f,suffix:s,outputLen:v,rounds:a,enableXOF:b}=this;return r||(r=new jr(f,s,v,b,a)),r.state32.set(this.state32),r.pos=this.pos,r.posOut=this.posOut,r.finished=this.finished,r.rounds=a,r.suffix=s,r.outputLen=v,r.enableXOF=b,r.destroyed=this.destroyed,r}}be.Keccak=jr;const mr=(t,r,f)=>(0,Cr.wrapConstructor)(()=>new jr(r,t,f));be.sha3_224=mr(6,144,224/8);be.sha3_256=mr(6,136,256/8);be.sha3_384=mr(6,104,384/8);be.sha3_512=mr(6,72,512/8);be.keccak_224=mr(1,144,224/8);be.keccak_256=mr(1,136,256/8);be.keccak_384=mr(1,104,384/8);be.keccak_512=mr(1,72,512/8);const Wi=(t,r,f)=>(0,Cr.wrapXOFConstructorWithOpts)((s={})=>new jr(r,t,s.dkLen===void 0?f:s.dkLen,!0));be.shake128=Wi(31,168,128/8);be.shake256=Wi(31,136,256/8);var Yr={exports:{}};Yr.exports;(function(t,r){var f=ge&&ge.__importDefault||function(Q){return Q&&Q.__esModule?Q:{default:Q}};Object.defineProperty(r,"__esModule",{value:!0}),r.crypto=r.wrapHash=r.equalsBytes=r.hexToBytes=r.bytesToUtf8=r.utf8ToBytes=r.createView=r.concatBytes=r.toHex=r.bytesToHex=r.assertBytes=r.assertBool=void 0;const s=f(Ne),v=or,a=s.default.bool;r.assertBool=a;const b=s.default.bytes;r.assertBytes=b;var M=or;Object.defineProperty(r,"bytesToHex",{enumerable:!0,get:function(){return M.bytesToHex}}),Object.defineProperty(r,"toHex",{enumerable:!0,get:function(){return M.bytesToHex}}),Object.defineProperty(r,"concatBytes",{enumerable:!0,get:function(){return M.concatBytes}}),Object.defineProperty(r,"createView",{enumerable:!0,get:function(){return M.createView}}),Object.defineProperty(r,"utf8ToBytes",{enumerable:!0,get:function(){return M.utf8ToBytes}});function S(Q){if(!(Q instanceof Uint8Array))throw new TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof Q}`);return new TextDecoder().decode(Q)}r.bytesToUtf8=S;function L(Q){const V=Q.startsWith("0x")?Q.substring(2):Q;return(0,v.hexToBytes)(V)}r.hexToBytes=L;function Y(Q,V){if(Q.length!==V.length)return!1;for(let ft=0;ft<Q.length;ft++)if(Q[ft]!==V[ft])return!1;return!0}r.equalsBytes=Y;function J(Q){return V=>(s.default.bytes(V),Q(V))}r.wrapHash=J,r.crypto=(()=>{const Q=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,V=typeof Bn=="function"&&Bn.bind(t);return{node:V&&!Q?V("crypto"):void 0,web:Q}})()})(Yr,Yr.exports);var Zi=Yr.exports;Object.defineProperty(Ye,"__esModule",{value:!0});Ye.keccak512=Ye.keccak384=Ye.keccak256=Ye.keccak224=void 0;const kr=be,fn=Zi;Ye.keccak224=(0,fn.wrapHash)(kr.keccak_224);Ye.keccak256=(()=>{const t=(0,fn.wrapHash)(kr.keccak_256);return t.create=kr.keccak_256.create,t})();Ye.keccak384=(0,fn.wrapHash)(kr.keccak_384);Ye.keccak512=(0,fn.wrapHash)(kr.keccak_512);var wr={},Fe={},we={};Object.defineProperty(we,"__esModule",{value:!0});we.isHexString=we.getKeys=we.fromAscii=we.fromUtf8=we.toAscii=we.arrayContainsArray=we.getBinarySize=we.padToEven=we.stripHexPrefix=we.isHexPrefixed=void 0;function Yi(t){if(typeof t!="string")throw new Error(`[isHexPrefixed] input must be type 'string', received type ${typeof t}`);return t[0]==="0"&&t[1]==="x"}we.isHexPrefixed=Yi;const Mo=t=>{if(typeof t!="string")throw new Error(`[stripHexPrefix] input must be type 'string', received ${typeof t}`);return Yi(t)?t.slice(2):t};we.stripHexPrefix=Mo;function Fi(t){let r=t;if(typeof r!="string")throw new Error(`[padToEven] value must be type 'string', received ${typeof r}`);return r.length%2&&(r=`0${r}`),r}we.padToEven=Fi;function So(t){if(typeof t!="string")throw new Error(`[getBinarySize] method requires input type 'string', received ${typeof t}`);return xt.byteLength(t,"utf8")}we.getBinarySize=So;function Ao(t,r,f){if(Array.isArray(t)!==!0)throw new Error(`[arrayContainsArray] method requires input 'superset' to be an array, got type '${typeof t}'`);if(Array.isArray(r)!==!0)throw new Error(`[arrayContainsArray] method requires input 'subset' to be an array, got type '${typeof r}'`);return r[f===!0?"some":"every"](s=>t.indexOf(s)>=0)}we.arrayContainsArray=Ao;function To(t){let r="",f=0;const s=t.length;for(t.substring(0,2)==="0x"&&(f=2);f<s;f+=2){const v=parseInt(t.substr(f,2),16);r+=String.fromCharCode(v)}return r}we.toAscii=To;function Oo(t){const r=xt.from(t,"utf8");return`0x${Fi(r.toString("hex")).replace(/^0+|0+$/g,"")}`}we.fromUtf8=Oo;function Io(t){let r="";for(let f=0;f<t.length;f++){const v=t.charCodeAt(f).toString(16);r+=v.length<2?`0${v}`:v}return`0x${r}`}we.fromAscii=Io;function Po(t,r,f){if(!Array.isArray(t))throw new Error(`[getKeys] method expects input 'params' to be an array, got ${typeof t}`);if(typeof r!="string")throw new Error(`[getKeys] method expects input 'key' to be type 'string', got ${typeof t}`);const s=[];for(let v=0;v<t.length;v++){let a=t[v][r];if(f===!0&&!a)a="";else if(typeof a!="string")throw new Error(`invalid abi - expected type 'string', received ${typeof a}`);s.push(a)}return s}we.getKeys=Po;function Lo(t,r){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof r<"u"&&r>0&&t.length!==2+2*r)}we.isHexString=Lo;Object.defineProperty(Fe,"__esModule",{value:!0});Fe.assertIsString=Fe.assertIsArray=Fe.assertIsBuffer=Fe.assertIsHexString=void 0;const Ro=we,No=function(t){if(!(0,Ro.isHexString)(t)){const r=`This method only supports 0x-prefixed hex strings but input was: ${t}`;throw new Error(r)}};Fe.assertIsHexString=No;const Co=function(t){if(!xt.isBuffer(t)){const r=`This method only supports Buffer but input was: ${t}`;throw new Error(r)}};Fe.assertIsBuffer=Co;const Uo=function(t){if(!Array.isArray(t)){const r=`This method only supports number arrays but input was: ${t}`;throw new Error(r)}};Fe.assertIsArray=Uo;const Ho=function(t){if(typeof t!="string"){const r=`This method only supports strings but input was: ${t}`;throw new Error(r)}};Fe.assertIsString=Ho;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.intToUnpaddedBuffer=t.bigIntToUnpaddedBuffer=t.bigIntToHex=t.bufArrToArr=t.arrToBufArr=t.validateNoLeadingZeroes=t.baToJSON=t.toUtf8=t.short=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToInt=t.bigIntToBuffer=t.bufferToBigInt=t.bufferToHex=t.toBuffer=t.unpadHexString=t.unpadArray=t.unpadBuffer=t.setLengthRight=t.setLengthLeft=t.zeros=t.intToBuffer=t.intToHex=void 0;const r=Fe,f=we,s=function(u){if(!Number.isSafeInteger(u)||u<0)throw new Error(`Received an invalid integer type: ${u}`);return`0x${u.toString(16)}`};t.intToHex=s;const v=function(u){const l=(0,t.intToHex)(u);return xt.from((0,f.padToEven)(l.slice(2)),"hex")};t.intToBuffer=v;const a=function(u){return xt.allocUnsafe(u).fill(0)};t.zeros=a;const b=function(u,l,p){const w=(0,t.zeros)(l);return p?u.length<l?(u.copy(w),w):u.slice(0,l):u.length<l?(u.copy(w,l-u.length),w):u.slice(-l)},M=function(u,l){return(0,r.assertIsBuffer)(u),b(u,l,!1)};t.setLengthLeft=M;const S=function(u,l){return(0,r.assertIsBuffer)(u),b(u,l,!0)};t.setLengthRight=S;const L=function(u){let l=u[0];for(;u.length>0&&l.toString()==="0";)u=u.slice(1),l=u[0];return u},Y=function(u){return(0,r.assertIsBuffer)(u),L(u)};t.unpadBuffer=Y;const J=function(u){return(0,r.assertIsArray)(u),L(u)};t.unpadArray=J;const Q=function(u){return(0,r.assertIsHexString)(u),u=(0,f.stripHexPrefix)(u),"0x"+L(u)};t.unpadHexString=Q;const V=function(u){if(u==null)return xt.allocUnsafe(0);if(xt.isBuffer(u))return xt.from(u);if(Array.isArray(u)||u instanceof Uint8Array)return xt.from(u);if(typeof u=="string"){if(!(0,f.isHexString)(u))throw new Error(`Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: ${u}`);return xt.from((0,f.padToEven)((0,f.stripHexPrefix)(u)),"hex")}if(typeof u=="number")return(0,t.intToBuffer)(u);if(typeof u=="bigint"){if(u<BigInt(0))throw new Error(`Cannot convert negative bigint to buffer. Given: ${u}`);let l=u.toString(16);return l.length%2&&(l="0"+l),xt.from(l,"hex")}if(u.toArray)return xt.from(u.toArray());if(u.toBuffer)return xt.from(u.toBuffer());throw new Error("invalid type")};t.toBuffer=V;const ft=function(u){return u=(0,t.toBuffer)(u),"0x"+u.toString("hex")};t.bufferToHex=ft;function tt(u){const l=(0,t.bufferToHex)(u);return BigInt(l==="0x"?0:l)}t.bufferToBigInt=tt;function P(u){return(0,t.toBuffer)("0x"+u.toString(16))}t.bigIntToBuffer=P;const X=function(u){const l=Number(tt(u));if(!Number.isSafeInteger(l))throw new Error("Number exceeds 53 bits");return l};t.bufferToInt=X;const T=function(u){return BigInt.asIntN(256,tt(u))};t.fromSigned=T;const C=function(u){return P(BigInt.asUintN(256,u))};t.toUnsigned=C;const B=function(u){return typeof u!="string"||(0,f.isHexPrefixed)(u)?u:"0x"+u};t.addHexPrefix=B;function _(u,l=50){const p=xt.isBuffer(u)?u.toString("hex"):u;return p.length<=l?p:p.slice(0,l)+""}t.short=_;const O=function(u){const l=/^(00)+|(00)+$/g;if(u=(0,f.stripHexPrefix)(u),u.length%2!==0)throw new Error("Invalid non-even hex string input for toUtf8() provided");return xt.from(u.replace(l,""),"hex").toString("utf8")};t.toUtf8=O;const E=function(u){if(xt.isBuffer(u))return`0x${u.toString("hex")}`;if(u instanceof Array){const l=[];for(let p=0;p<u.length;p++)l.push((0,t.baToJSON)(u[p]));return l}};t.baToJSON=E;const U=function(u){for(const[l,p]of Object.entries(u))if(p!==void 0&&p.length>0&&p[0]===0)throw new Error(`${l} cannot have leading zeroes, received: ${p.toString("hex")}`)};t.validateNoLeadingZeroes=U;function K(u){return Array.isArray(u)?u.map(l=>K(l)):xt.from(u)}t.arrToBufArr=K;function z(u){return Array.isArray(u)?u.map(l=>z(l)):Uint8Array.from(u??[])}t.bufArrToArr=z;const m=u=>"0x"+u.toString(16);t.bigIntToHex=m;function e(u){return(0,t.unpadBuffer)(P(u))}t.bigIntToUnpaddedBuffer=e;function o(u){return(0,t.unpadBuffer)((0,t.intToBuffer)(u))}t.intToUnpaddedBuffer=o})(wr);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.accountBodyToRLP=t.accountBodyToSlim=t.accountBodyFromSlim=t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToAddress=t.privateToPublic=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;const r=tr,f=Ye,s=Xr,v=Zi,a=wr,b=Gr,M=Fe,S=we,L=BigInt(0);class Y{constructor(o=L,u=L,l=b.KECCAK256_RLP,p=b.KECCAK256_NULL){this.nonce=o,this.balance=u,this.storageRoot=l,this.codeHash=p,this._validate()}static fromAccountData(o){const{nonce:u,balance:l,storageRoot:p,codeHash:w}=o;return new Y(u!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(u)):void 0,l!==void 0?(0,a.bufferToBigInt)((0,a.toBuffer)(l)):void 0,p!==void 0?(0,a.toBuffer)(p):void 0,w!==void 0?(0,a.toBuffer)(w):void 0)}static fromRlpSerializedAccount(o){const u=(0,a.arrToBufArr)(r.RLP.decode(Uint8Array.from(o)));if(!Array.isArray(u))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(u)}static fromValuesArray(o){const[u,l,p,w]=o;return new Y((0,a.bufferToBigInt)(u),(0,a.bufferToBigInt)(l),p,w)}_validate(){if(this.nonce<L)throw new Error("nonce must be greater than zero");if(this.balance<L)throw new Error("balance must be greater than zero");if(this.storageRoot.length!==32)throw new Error("storageRoot must have a length of 32");if(this.codeHash.length!==32)throw new Error("codeHash must have a length of 32")}raw(){return[(0,a.bigIntToUnpaddedBuffer)(this.nonce),(0,a.bigIntToUnpaddedBuffer)(this.balance),this.storageRoot,this.codeHash]}serialize(){return xt.from(r.RLP.encode((0,a.bufArrToArr)(this.raw())))}isContract(){return!this.codeHash.equals(b.KECCAK256_NULL)}isEmpty(){return this.balance===L&&this.nonce===L&&this.codeHash.equals(b.KECCAK256_NULL)}}t.Account=Y;const J=function(e){try{(0,M.assertIsString)(e)}catch{return!1}return/^0x[0-9a-fA-F]{40}$/.test(e)};t.isValidAddress=J;const Q=function(e,o){(0,M.assertIsHexString)(e);const u=(0,S.stripHexPrefix)(e).toLowerCase();let l="";o!==void 0&&(l=(0,a.bufferToBigInt)((0,a.toBuffer)(o)).toString()+"0x");const p=xt.from(l+u,"utf8"),w=(0,v.bytesToHex)((0,f.keccak256)(p));let A="0x";for(let h=0;h<u.length;h++)parseInt(w[h],16)>=8?A+=u[h].toUpperCase():A+=u[h];return A};t.toChecksumAddress=Q;const V=function(e,o){return(0,t.isValidAddress)(e)&&(0,t.toChecksumAddress)(e,o)===e};t.isValidChecksumAddress=V;const ft=function(e,o){return(0,M.assertIsBuffer)(e),(0,M.assertIsBuffer)(o),(0,a.bufferToBigInt)(o)===BigInt(0)?xt.from((0,f.keccak256)(r.RLP.encode((0,a.bufArrToArr)([e,null])))).slice(-20):xt.from((0,f.keccak256)(r.RLP.encode((0,a.bufArrToArr)([e,o])))).slice(-20)};t.generateAddress=ft;const tt=function(e,o,u){if((0,M.assertIsBuffer)(e),(0,M.assertIsBuffer)(o),(0,M.assertIsBuffer)(u),e.length!==20)throw new Error("Expected from to be of length 20");if(o.length!==32)throw new Error("Expected salt to be of length 32");const l=(0,f.keccak256)(xt.concat([xt.from("ff","hex"),e,o,(0,f.keccak256)(u)]));return(0,a.toBuffer)(l).slice(-20)};t.generateAddress2=tt;const P=function(e){return s.secp256k1.utils.isValidPrivateKey(e)};t.isValidPrivate=P;const X=function(e,o=!1){if((0,M.assertIsBuffer)(e),e.length===64)try{return s.secp256k1.ProjectivePoint.fromHex(xt.concat([xt.from([4]),e])),!0}catch{return!1}if(!o)return!1;try{return s.secp256k1.ProjectivePoint.fromHex(e),!0}catch{return!1}};t.isValidPublic=X;const T=function(e,o=!1){if((0,M.assertIsBuffer)(e),o&&e.length!==64&&(e=xt.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e.length!==64)throw new Error("Expected pubKey to be of length 64");return xt.from((0,f.keccak256)(e)).slice(-20)};t.pubToAddress=T,t.publicToAddress=t.pubToAddress;const C=function(e){return(0,M.assertIsBuffer)(e),xt.from(s.secp256k1.ProjectivePoint.fromPrivateKey(e).toRawBytes(!1).slice(1))};t.privateToPublic=C;const B=function(e){return(0,t.publicToAddress)((0,t.privateToPublic)(e))};t.privateToAddress=B;const _=function(e){return(0,M.assertIsBuffer)(e),e.length!==64&&(e=xt.from(s.secp256k1.ProjectivePoint.fromHex(e).toRawBytes(!1).slice(1))),e};t.importPublic=_;const O=function(){const o=(0,a.zeros)(20);return(0,a.bufferToHex)(o)};t.zeroAddress=O;const E=function(e){try{(0,M.assertIsString)(e)}catch{return!1}return(0,t.zeroAddress)()===e};t.isZeroAddress=E;function U(e){const[o,u,l,p]=e;return[o,u,(0,a.arrToBufArr)(l).length===0?b.KECCAK256_RLP:l,(0,a.arrToBufArr)(p).length===0?b.KECCAK256_NULL:p]}t.accountBodyFromSlim=U;const K=new Uint8Array(0);function z(e){const[o,u,l,p]=e;return[o,u,(0,a.arrToBufArr)(l).equals(b.KECCAK256_RLP)?K:l,(0,a.arrToBufArr)(p).equals(b.KECCAK256_NULL)?K:p]}t.accountBodyToSlim=z;function m(e,o=!0){const u=o?U(e):e;return(0,a.arrToBufArr)(r.RLP.encode(u))}t.accountBodyToRLP=m})(jn);var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.Address=void 0;const Lr=jn,Kr=wr;class ir{constructor(r){if(r.length!==20)throw new Error("Invalid address length");this.buf=r}static zero(){return new ir((0,Kr.zeros)(20))}static fromString(r){if(!(0,Lr.isValidAddress)(r))throw new Error("Invalid address");return new ir((0,Kr.toBuffer)(r))}static fromPublicKey(r){if(!xt.isBuffer(r))throw new Error("Public key should be Buffer");const f=(0,Lr.pubToAddress)(r);return new ir(f)}static fromPrivateKey(r){if(!xt.isBuffer(r))throw new Error("Private key should be Buffer");const f=(0,Lr.privateToAddress)(r);return new ir(f)}static generate(r,f){if(typeof f!="bigint")throw new Error("Expected nonce to be a bigint");return new ir((0,Lr.generateAddress)(r.buf,(0,Kr.bigIntToBuffer)(f)))}static generate2(r,f,s){if(!xt.isBuffer(f))throw new Error("Expected salt to be a Buffer");if(!xt.isBuffer(s))throw new Error("Expected initCode to be a Buffer");return new ir((0,Lr.generateAddress2)(r.buf,f,s))}equals(r){return this.buf.equals(r.buf)}isZero(){return this.equals(ir.zero())}isPrecompileOrSystemAddress(){const r=(0,Kr.bufferToBigInt)(this.buf),f=BigInt(0),s=BigInt("0xffff");return r>=f&&r<=s}toString(){return"0x"+this.buf.toString("hex")}toBuffer(){return xt.from(this.buf)}}Dr.Address=ir;var on={},zn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.toType=t.TypeOutput=void 0;const r=wr,f=we;var s;(function(a){a[a.Number=0]="Number",a[a.BigInt=1]="BigInt",a[a.Buffer=2]="Buffer",a[a.PrefixedHexString=3]="PrefixedHexString"})(s=t.TypeOutput||(t.TypeOutput={}));function v(a,b){if(a===null)return null;if(a===void 0)return;if(typeof a=="string"&&!(0,f.isHexString)(a))throw new Error(`A string must be provided with a 0x-prefix, given: ${a}`);if(typeof a=="number"&&!Number.isSafeInteger(a))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)");const M=(0,r.toBuffer)(a);switch(b){case s.Buffer:return M;case s.BigInt:return(0,r.bufferToBigInt)(M);case s.Number:{const S=(0,r.bufferToBigInt)(M);if(S>BigInt(Number.MAX_SAFE_INTEGER))throw new Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(S)}case s.PrefixedHexString:return(0,r.bufferToHex)(M);default:throw new Error("unknown outputType")}}t.toType=v})(zn);Object.defineProperty(on,"__esModule",{value:!0});on.Withdrawal=void 0;const ri=Dr,pn=wr,Ae=zn;class Ur{constructor(r,f,s,v){this.index=r,this.validatorIndex=f,this.address=s,this.amount=v}static fromWithdrawalData(r){const{index:f,validatorIndex:s,address:v,amount:a}=r,b=(0,Ae.toType)(f,Ae.TypeOutput.BigInt),M=(0,Ae.toType)(s,Ae.TypeOutput.BigInt),S=new ri.Address((0,Ae.toType)(v,Ae.TypeOutput.Buffer)),L=(0,Ae.toType)(a,Ae.TypeOutput.BigInt);return new Ur(b,M,S,L)}static fromValuesArray(r){if(r.length!==4)throw Error(`Invalid withdrawalArray length expected=4 actual=${r.length}`);const[f,s,v,a]=r;return Ur.fromWithdrawalData({index:f,validatorIndex:s,address:v,amount:a})}static toBufferArray(r){const{index:f,validatorIndex:s,address:v,amount:a}=r,b=(0,Ae.toType)(f,Ae.TypeOutput.BigInt)===BigInt(0)?xt.alloc(0):(0,Ae.toType)(f,Ae.TypeOutput.Buffer),M=(0,Ae.toType)(s,Ae.TypeOutput.BigInt)===BigInt(0)?xt.alloc(0):(0,Ae.toType)(s,Ae.TypeOutput.Buffer);let S;v instanceof ri.Address?S=v.buf:S=(0,Ae.toType)(v,Ae.TypeOutput.Buffer);const L=(0,Ae.toType)(a,Ae.TypeOutput.BigInt)===BigInt(0)?xt.alloc(0):(0,Ae.toType)(a,Ae.TypeOutput.Buffer);return[b,M,S,L]}raw(){return Ur.toBufferArray(this)}toValue(){return{index:this.index,validatorIndex:this.validatorIndex,address:this.address.buf,amount:this.amount}}toJSON(){return{index:(0,pn.bigIntToHex)(this.index),validatorIndex:(0,pn.bigIntToHex)(this.validatorIndex),address:"0x"+this.address.buf.toString("hex"),amount:(0,pn.bigIntToHex)(this.amount)}}}on.Withdrawal=Ur;var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.hashPersonalMessage=qe.isValidSignature=qe.fromRpcSig=qe.toCompactSig=qe.toRpcSig=qe.ecrecover=qe.ecsign=void 0;const $o=Ye,Gi=Xr,De=wr,gn=Gr,ko=Fe;function qo(t,r,f){const s=Gi.secp256k1.sign(t,r),v=s.toCompactRawBytes(),a=xt.from(v.slice(0,32)),b=xt.from(v.slice(32,64)),M=f===void 0?BigInt(s.recovery+27):BigInt(s.recovery+35)+BigInt(f)*BigInt(2);return{r:a,s:b,v:M}}qe.ecsign=qo;function sn(t,r){return t===BigInt(0)||t===BigInt(1)?t:r===void 0?t-BigInt(27):t-(r*BigInt(2)+BigInt(35))}function an(t){return t===BigInt(0)||t===BigInt(1)}const jo=function(t,r,f,s,v){const a=xt.concat([(0,De.setLengthLeft)(f,32),(0,De.setLengthLeft)(s,32)],64),b=sn(r,v);if(!an(b))throw new Error("Invalid signature v value");const S=Gi.secp256k1.Signature.fromCompact(a).addRecoveryBit(Number(b)).recoverPublicKey(t);return xt.from(S.toRawBytes(!1).slice(1))};qe.ecrecover=jo;const Do=function(t,r,f,s){const v=sn(t,s);if(!an(v))throw new Error("Invalid signature v value");return(0,De.bufferToHex)(xt.concat([(0,De.setLengthLeft)(r,32),(0,De.setLengthLeft)(f,32),(0,De.toBuffer)(t)]))};qe.toRpcSig=Do;const zo=function(t,r,f,s){const v=sn(t,s);if(!an(v))throw new Error("Invalid signature v value");let a=f;return(t>BigInt(28)&&t%BigInt(2)===BigInt(1)||t===BigInt(1)||t===BigInt(28))&&(a=xt.from(f),a[0]|=128),(0,De.bufferToHex)(xt.concat([(0,De.setLengthLeft)(r,32),(0,De.setLengthLeft)(a,32)]))};qe.toCompactSig=zo;const Ko=function(t){const r=(0,De.toBuffer)(t);let f,s,v;if(r.length>=65)f=r.slice(0,32),s=r.slice(32,64),v=(0,De.bufferToBigInt)(r.slice(64));else if(r.length===64)f=r.slice(0,32),s=r.slice(32,64),v=BigInt((0,De.bufferToInt)(r.slice(32,33))>>7),s[0]&=127;else throw new Error("Invalid signature length");return v<27&&(v=v+BigInt(27)),{v,r:f,s}};qe.fromRpcSig=Ko;const Vo=function(t,r,f,s=!0,v){if(r.length!==32||f.length!==32||!an(sn(t,v)))return!1;const a=(0,De.bufferToBigInt)(r),b=(0,De.bufferToBigInt)(f);return!(a===BigInt(0)||a>=gn.SECP256K1_ORDER||b===BigInt(0)||b>=gn.SECP256K1_ORDER||s&&b>=gn.SECP256K1_ORDER_DIV_2)};qe.isValidSignature=Vo;const Wo=function(t){(0,ko.assertIsBuffer)(t);const r=xt.from(`Ethereum Signed Message:
${t.length}`,"utf-8");return xt.from((0,$o.keccak256)(xt.concat([r,t])))};qe.hashPersonalMessage=Wo;var Xi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.compactBytesToNibbles=t.bytesToNibbles=t.nibblesToCompactBytes=t.nibblesToBytes=t.hasTerminator=void 0;const r=b=>b.length>0&&b[b.length-1]===16;t.hasTerminator=r;const f=(b,M)=>{for(let S=0,L=0;L<b.length;S+=1,L+=2)M[S]=b[L]<<4|b[L+1]};t.nibblesToBytes=f;const s=b=>{let M=0;(0,t.hasTerminator)(b)&&(M=1,b=b.subarray(0,b.length-1));const S=new Uint8Array(b.length/2+1);return S[0]=M<<5,(b.length&1)===1&&(S[0]|=16,S[0]|=b[0],b=b.subarray(1)),(0,t.nibblesToBytes)(b,S.subarray(1)),S};t.nibblesToCompactBytes=s;const v=b=>{const M=b.length*2+1,S=new Uint8Array(M);for(let L=0;L<b.length;L++){const Y=b[L];S[L*2]=Y/16,S[L*2+1]=Y%16}return S[M-1]=16,S};t.bytesToNibbles=v;const a=b=>{if(b.length===0)return b;let M=(0,t.bytesToNibbles)(b);M[0]<2&&(M=M.subarray(0,M.length-1));const S=2-(M[0]&1);return M.subarray(S)};t.compactBytesToNibbles=a})(Xi);var un={};Object.defineProperty(un,"__esModule",{value:!0});un.AsyncEventEmitter=void 0;const Zo=df;async function Yo(t,r,f){let s;for await(const v of r)try{v.length<2?v.call(t,f):await new Promise((a,b)=>{v.call(t,f,M=>{M?b(M):a()})})}catch(a){s=a}if(s)throw s}class Fo extends Zo.EventEmitter{emit(r,...f){let[s,v]=f;const a=this;let b=a._events[r]??[];return v===void 0&&typeof s=="function"&&(v=s,s=void 0),(r==="newListener"||r==="removeListener")&&(s={event:s,fn:v},v=void 0),b=Array.isArray(b)?b:[b],Yo(a,b.slice(),s).then(v).catch(v),a.listenerCount(r)>0}once(r,f){const s=this;let v;if(typeof f!="function")throw new TypeError("listener must be a function");return f.length>=2?v=function(a,b){s.removeListener(r,v),f(a,b)}:v=function(a){s.removeListener(r,v),f(a,v)},s.on(r,v),s}first(r,f){let s=this._events[r]??[];if(typeof f!="function")throw new TypeError("listener must be a function");return Array.isArray(s)||(this._events[r]=s=[s]),s.unshift(f),this}before(r,f,s){return this.beforeOrAfter(r,f,s)}after(r,f,s){return this.beforeOrAfter(r,f,s,"after")}beforeOrAfter(r,f,s,v){let a=this._events[r]??[],b,M;const S=v==="after"?1:0;if(typeof s!="function")throw new TypeError("listener must be a function");if(typeof f!="function")throw new TypeError("target must be a function");for(Array.isArray(a)||(this._events[r]=a=[a]),M=a.length,b=a.length;b--;)if(a[b]===f){M=b+S;break}return a.splice(M,0,s),this}on(r,f){return super.on(r,f)}addListener(r,f){return super.addListener(r,f)}prependListener(r,f){return super.prependListener(r,f)}prependOnceListener(r,f){return super.prependOnceListener(r,f)}removeAllListeners(r){return super.removeAllListeners(r)}removeListener(r,f){return super.removeListener(r,f)}eventNames(){return super.eventNames()}listeners(r){return super.listeners(r)}listenerCount(r){return super.listenerCount(r)}getMaxListeners(){return super.getMaxListeners()}setMaxListeners(r){return super.setMaxListeners(r)}}un.AsyncEventEmitter=Fo;var cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.Lock=void 0;class Go{constructor(){this.permits=1,this.promiseResolverQueue=[]}async acquire(){return this.permits>0?(this.permits-=1,Promise.resolve(!0)):new Promise(r=>this.promiseResolverQueue.push(r))}release(){if(this.permits+=1,this.permits>1&&this.promiseResolverQueue.length>0)console.warn("Lock.permits should never be > 0 when there is someone waiting.");else if(this.permits===1&&this.promiseResolverQueue.length>0){this.permits-=1;const r=this.promiseResolverQueue.shift();r&&r(!0)}}}cn.Lock=Go;var Or={},br={},vr={},Rr={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Rr.exports;var ni;function Xo(){return ni||(ni=1,function(t,r){(function(f){var s=r&&!r.nodeType&&r,v=t&&!t.nodeType&&t,a=typeof ge=="object"&&ge;(a.global===a||a.window===a||a.self===a)&&(f=a);var b,M=2147483647,S=36,L=1,Y=26,J=38,Q=700,V=72,ft=128,tt="-",P=/^xn--/,X=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,C={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},B=S-L,_=Math.floor,O=String.fromCharCode,E;function U(n){throw new RangeError(C[n])}function K(n,d){for(var q=n.length,N=[];q--;)N[q]=d(n[q]);return N}function z(n,d){var q=n.split("@"),N="";q.length>1&&(N=q[0]+"@",n=q[1]),n=n.replace(T,".");var $=n.split("."),k=K($,d).join(".");return N+k}function m(n){for(var d=[],q=0,N=n.length,$,k;q<N;)$=n.charCodeAt(q++),$>=55296&&$<=56319&&q<N?(k=n.charCodeAt(q++),(k&64512)==56320?d.push((($&1023)<<10)+(k&1023)+65536):(d.push($),q--)):d.push($);return d}function e(n){return K(n,function(d){var q="";return d>65535&&(d-=65536,q+=O(d>>>10&1023|55296),d=56320|d&1023),q+=O(d),q}).join("")}function o(n){return n-48<10?n-22:n-65<26?n-65:n-97<26?n-97:S}function u(n,d){return n+22+75*(n<26)-((d!=0)<<5)}function l(n,d,q){var N=0;for(n=q?_(n/Q):n>>1,n+=_(n/d);n>B*Y>>1;N+=S)n=_(n/B);return _(N+(B+1)*n/(n+J))}function p(n){var d=[],q=n.length,N,$=0,k=ft,F=V,ct,mt,ot,yt,St,Et,et,at,ht;for(ct=n.lastIndexOf(tt),ct<0&&(ct=0),mt=0;mt<ct;++mt)n.charCodeAt(mt)>=128&&U("not-basic"),d.push(n.charCodeAt(mt));for(ot=ct>0?ct+1:0;ot<q;){for(yt=$,St=1,Et=S;ot>=q&&U("invalid-input"),et=o(n.charCodeAt(ot++)),(et>=S||et>_((M-$)/St))&&U("overflow"),$+=et*St,at=Et<=F?L:Et>=F+Y?Y:Et-F,!(et<at);Et+=S)ht=S-at,St>_(M/ht)&&U("overflow"),St*=ht;N=d.length+1,F=l($-yt,N,yt==0),_($/N)>M-k&&U("overflow"),k+=_($/N),$%=N,d.splice($++,0,k)}return e(d)}function w(n){var d,q,N,$,k,F,ct,mt,ot,yt,St,Et=[],et,at,ht,Mt;for(n=m(n),et=n.length,d=ft,q=0,k=V,F=0;F<et;++F)St=n[F],St<128&&Et.push(O(St));for(N=$=Et.length,$&&Et.push(tt);N<et;){for(ct=M,F=0;F<et;++F)St=n[F],St>=d&&St<ct&&(ct=St);for(at=N+1,ct-d>_((M-q)/at)&&U("overflow"),q+=(ct-d)*at,d=ct,F=0;F<et;++F)if(St=n[F],St<d&&++q>M&&U("overflow"),St==d){for(mt=q,ot=S;yt=ot<=k?L:ot>=k+Y?Y:ot-k,!(mt<yt);ot+=S)Mt=mt-yt,ht=S-yt,Et.push(O(u(yt+Mt%ht,0))),mt=_(Mt/ht);Et.push(O(u(mt,0))),k=l(q,at,N==$),q=0,++N}++q,++d}return Et.join("")}function A(n){return z(n,function(d){return P.test(d)?p(d.slice(4).toLowerCase()):d})}function h(n){return z(n,function(d){return X.test(d)?"xn--"+w(d):d})}if(b={version:"1.4.1",ucs2:{decode:m,encode:e},decode:p,encode:w,toASCII:h,toUnicode:A},s&&v)if(t.exports==s)v.exports=b;else for(E in b)b.hasOwnProperty(E)&&(s[E]=b[E]);else f.punycode=b})(ge)}(Rr,Rr.exports)),Rr.exports}var mn,ii;function Jo(){if(ii)return mn;ii=1;var t=typeof Map=="function"&&Map.prototype,r=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,f=t&&r&&typeof r.get=="function"?r.get:null,s=t&&Map.prototype.forEach,v=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&v?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,b=v&&a&&typeof a.get=="function"?a.get:null,M=v&&Set.prototype.forEach,S=typeof WeakMap=="function"&&WeakMap.prototype,L=S?WeakMap.prototype.has:null,Y=typeof WeakSet=="function"&&WeakSet.prototype,J=Y?WeakSet.prototype.has:null,Q=typeof WeakRef=="function"&&WeakRef.prototype,V=Q?WeakRef.prototype.deref:null,ft=Boolean.prototype.valueOf,tt=Object.prototype.toString,P=Function.prototype.toString,X=String.prototype.match,T=String.prototype.slice,C=String.prototype.replace,B=String.prototype.toUpperCase,_=String.prototype.toLowerCase,O=RegExp.prototype.test,E=Array.prototype.concat,U=Array.prototype.join,K=Array.prototype.slice,z=Math.floor,m=typeof BigInt=="function"?BigInt.prototype.valueOf:null,e=Object.getOwnPropertySymbols,o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,u=typeof Symbol=="function"&&typeof Symbol.iterator=="object",l=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===u||!0)?Symbol.toStringTag:null,p=Object.prototype.propertyIsEnumerable,w=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(H){return H.__proto__}:null);function A(H,j){if(H===1/0||H===-1/0||H!==H||H&&H>-1e3&&H<1e3||O.call(/e/,j))return j;var Kt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof H=="number"){var At=H<0?-z(-H):z(H);if(At!==H){var Ct=String(At),Ut=T.call(j,Ct.length+1);return C.call(Ct,Kt,"$&_")+"."+C.call(C.call(Ut,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C.call(j,Kt,"$&_")}var h=Nr,n=h.custom,d=St(n)?n:null;mn=function H(j,Kt,At,Ct){var Ut=Kt||{};if(at(Ut,"quoteStyle")&&Ut.quoteStyle!=="single"&&Ut.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(at(Ut,"maxStringLength")&&(typeof Ut.maxStringLength=="number"?Ut.maxStringLength<0&&Ut.maxStringLength!==1/0:Ut.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ne=at(Ut,"customInspect")?Ut.customInspect:!0;if(typeof ne!="boolean"&&ne!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(at(Ut,"indent")&&Ut.indent!==null&&Ut.indent!=="	"&&!(parseInt(Ut.indent,10)===Ut.indent&&Ut.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(at(Ut,"numericSeparator")&&typeof Ut.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ce=Ut.numericSeparator;if(typeof j>"u")return"undefined";if(j===null)return"null";if(typeof j=="boolean")return j?"true":"false";if(typeof j=="string")return ie(j,Ut);if(typeof j=="number"){if(j===0)return 1/0/j>0?"0":"-0";var Ie=String(j);return ce?A(j,Ie):Ie}if(typeof j=="bigint"){var le=String(j)+"n";return ce?A(j,le):le}var xe=typeof Ut.depth>"u"?5:Ut.depth;if(typeof At>"u"&&(At=0),At>=xe&&xe>0&&typeof j=="object")return $(j)?"[Array]":"[Object]";var Pe=he(Ut,At);if(typeof Ct>"u")Ct=[];else if(jt(Ct,j)>=0)return"[Circular]";function Zt(vt,lt,Gt){if(lt&&(Ct=K.call(Ct),Ct.push(lt)),Gt){var pt={depth:Ut.depth};return at(Ut,"quoteStyle")&&(pt.quoteStyle=Ut.quoteStyle),H(vt,pt,At+1,Ct)}return H(vt,Ut,At+1,Ct)}if(typeof j=="function"&&!F(j)){var de=Mt(j),nr=Re(j,Zt);return"[Function"+(de?": "+de:" (anonymous)")+"]"+(nr.length>0?" { "+U.call(nr,", ")+" }":"")}if(St(j)){var me=u?C.call(String(j),/^(Symbol\(.*\))_[^)]*$/,"$1"):o.call(j);return typeof j=="object"&&!u?Ue(me):me}if(je(j)){for(var ye="<"+_.call(String(j.nodeName)),sr=j.attributes||[],Ft=0;Ft<sr.length;Ft++)ye+=" "+sr[Ft].name+"="+q(N(sr[Ft].value),"double",Ut);return ye+=">",j.childNodes&&j.childNodes.length&&(ye+="..."),ye+="</"+_.call(String(j.nodeName))+">",ye}if($(j)){if(j.length===0)return"[]";var ve=Re(j,Zt);return Pe&&!Je(ve)?"["+Wt(ve,Pe)+"]":"[ "+U.call(ve,", ")+" ]"}if(ct(j)){var c=Re(j,Zt);return!("cause"in Error.prototype)&&"cause"in j&&!p.call(j,"cause")?"{ ["+String(j)+"] "+U.call(E.call("[cause]: "+Zt(j.cause),c),", ")+" }":c.length===0?"["+String(j)+"]":"{ ["+String(j)+"] "+U.call(c,", ")+" }"}if(typeof j=="object"&&ne){if(d&&typeof j[d]=="function"&&h)return h(j,{depth:xe-At});if(ne!=="symbol"&&typeof j.inspect=="function")return j.inspect()}if(Nt(j)){var g=[];return s&&s.call(j,function(vt,lt){g.push(Zt(lt,j,!0)+" => "+Zt(vt,j))}),fe("Map",f.call(j),g,Pe)}if(Qt(j)){var y=[];return M&&M.call(j,function(vt){y.push(Zt(vt,j))}),fe("Set",b.call(j),y,Pe)}if($t(j))return te("WeakMap");if(ee(j))return te("WeakSet");if(_e(j))return te("WeakRef");if(ot(j))return Ue(Zt(Number(j)));if(Et(j))return Ue(Zt(m.call(j)));if(yt(j))return Ue(ft.call(j));if(mt(j))return Ue(Zt(String(j)));if(!k(j)&&!F(j)){var i=Re(j,Zt),x=w?w(j)===Object.prototype:j instanceof Object||j.constructor===Object,R=j instanceof Object?"":"null prototype",D=!x&&l&&Object(j)===j&&l in j?T.call(ht(j),8,-1):R?"Object":"",G=x||typeof j.constructor!="function"?"":j.constructor.name?j.constructor.name+" ":"",rt=G+(D||R?"["+U.call(E.call([],D||[],R||[]),": ")+"] ":"");return i.length===0?rt+"{}":Pe?rt+"{"+Wt(i,Pe)+"}":rt+"{ "+U.call(i,", ")+" }"}return String(j)};function q(H,j,Kt){var At=(Kt.quoteStyle||j)==="double"?'"':"'";return At+H+At}function N(H){return C.call(String(H),/"/g,"&quot;")}function $(H){return ht(H)==="[object Array]"&&(!l||!(typeof H=="object"&&l in H))}function k(H){return ht(H)==="[object Date]"&&(!l||!(typeof H=="object"&&l in H))}function F(H){return ht(H)==="[object RegExp]"&&(!l||!(typeof H=="object"&&l in H))}function ct(H){return ht(H)==="[object Error]"&&(!l||!(typeof H=="object"&&l in H))}function mt(H){return ht(H)==="[object String]"&&(!l||!(typeof H=="object"&&l in H))}function ot(H){return ht(H)==="[object Number]"&&(!l||!(typeof H=="object"&&l in H))}function yt(H){return ht(H)==="[object Boolean]"&&(!l||!(typeof H=="object"&&l in H))}function St(H){if(u)return H&&typeof H=="object"&&H instanceof Symbol;if(typeof H=="symbol")return!0;if(!H||typeof H!="object"||!o)return!1;try{return o.call(H),!0}catch{}return!1}function Et(H){if(!H||typeof H!="object"||!m)return!1;try{return m.call(H),!0}catch{}return!1}var et=Object.prototype.hasOwnProperty||function(H){return H in this};function at(H,j){return et.call(H,j)}function ht(H){return tt.call(H)}function Mt(H){if(H.name)return H.name;var j=X.call(P.call(H),/^function\s*([\w$]+)/);return j?j[1]:null}function jt(H,j){if(H.indexOf)return H.indexOf(j);for(var Kt=0,At=H.length;Kt<At;Kt++)if(H[Kt]===j)return Kt;return-1}function Nt(H){if(!f||!H||typeof H!="object")return!1;try{f.call(H);try{b.call(H)}catch{return!0}return H instanceof Map}catch{}return!1}function $t(H){if(!L||!H||typeof H!="object")return!1;try{L.call(H,L);try{J.call(H,J)}catch{return!0}return H instanceof WeakMap}catch{}return!1}function _e(H){if(!V||!H||typeof H!="object")return!1;try{return V.call(H),!0}catch{}return!1}function Qt(H){if(!b||!H||typeof H!="object")return!1;try{b.call(H);try{f.call(H)}catch{return!0}return H instanceof Set}catch{}return!1}function ee(H){if(!J||!H||typeof H!="object")return!1;try{J.call(H,J);try{L.call(H,L)}catch{return!0}return H instanceof WeakSet}catch{}return!1}function je(H){return!H||typeof H!="object"?!1:typeof HTMLElement<"u"&&H instanceof HTMLElement?!0:typeof H.nodeName=="string"&&typeof H.getAttribute=="function"}function ie(H,j){if(H.length>j.maxStringLength){var Kt=H.length-j.maxStringLength,At="... "+Kt+" more character"+(Kt>1?"s":"");return ie(T.call(H,0,j.maxStringLength),j)+At}var Ct=C.call(C.call(H,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,re);return q(Ct,"single",j)}function re(H){var j=H.charCodeAt(0),Kt={8:"b",9:"t",10:"n",12:"f",13:"r"}[j];return Kt?"\\"+Kt:"\\x"+(j<16?"0":"")+B.call(j.toString(16))}function Ue(H){return"Object("+H+")"}function te(H){return H+" { ? }"}function fe(H,j,Kt,At){var Ct=At?Wt(Kt,At):U.call(Kt,", ");return H+" ("+j+") {"+Ct+"}"}function Je(H){for(var j=0;j<H.length;j++)if(jt(H[j],`
`)>=0)return!1;return!0}function he(H,j){var Kt;if(H.indent==="	")Kt="	";else if(typeof H.indent=="number"&&H.indent>0)Kt=U.call(Array(H.indent+1)," ");else return null;return{base:Kt,prev:U.call(Array(j+1),Kt)}}function Wt(H,j){if(H.length===0)return"";var Kt=`
`+j.prev+j.base;return Kt+U.call(H,","+Kt)+`
`+j.prev}function Re(H,j){var Kt=$(H),At=[];if(Kt){At.length=H.length;for(var Ct=0;Ct<H.length;Ct++)At[Ct]=at(H,Ct)?j(H[Ct],H):""}var Ut=typeof e=="function"?e(H):[],ne;if(u){ne={};for(var ce=0;ce<Ut.length;ce++)ne["$"+Ut[ce]]=Ut[ce]}for(var Ie in H)at(H,Ie)&&(Kt&&String(Number(Ie))===Ie&&Ie<H.length||u&&ne["$"+Ie]instanceof Symbol||(O.call(/[^\w$]/,Ie)?At.push(j(Ie,H)+": "+j(H[Ie],H)):At.push(Ie+": "+j(H[Ie],H))));if(typeof e=="function")for(var le=0;le<Ut.length;le++)p.call(H,Ut[le])&&At.push("["+j(Ut[le])+"]: "+j(H[Ut[le]],H));return At}return mn}var vn,fi;function Qo(){if(fi)return vn;fi=1;var t=yf(),r=pf,f=Jo(),s=t("%TypeError%"),v=t("%WeakMap%",!0),a=t("%Map%",!0),b=r("WeakMap.prototype.get",!0),M=r("WeakMap.prototype.set",!0),S=r("WeakMap.prototype.has",!0),L=r("Map.prototype.get",!0),Y=r("Map.prototype.set",!0),J=r("Map.prototype.has",!0),Q=function(P,X){for(var T=P,C;(C=T.next)!==null;T=C)if(C.key===X)return T.next=C.next,C.next=P.next,P.next=C,C},V=function(P,X){var T=Q(P,X);return T&&T.value},ft=function(P,X,T){var C=Q(P,X);C?C.value=T:P.next={key:X,next:P.next,value:T}},tt=function(P,X){return!!Q(P,X)};return vn=function(){var X,T,C,B={assert:function(_){if(!B.has(_))throw new s("Side channel does not contain "+f(_))},get:function(_){if(v&&_&&(typeof _=="object"||typeof _=="function")){if(X)return b(X,_)}else if(a){if(T)return L(T,_)}else if(C)return V(C,_)},has:function(_){if(v&&_&&(typeof _=="object"||typeof _=="function")){if(X)return S(X,_)}else if(a){if(T)return J(T,_)}else if(C)return tt(C,_);return!1},set:function(_,O){v&&_&&(typeof _=="object"||typeof _=="function")?(X||(X=new v),M(X,_,O)):a?(T||(T=new a),Y(T,_,O)):(C||(C={key:{},next:null}),ft(C,_,O))}};return B},vn}var xn,oi;function Kn(){if(oi)return xn;oi=1;var t=String.prototype.replace,r=/%20/g,f={RFC1738:"RFC1738",RFC3986:"RFC3986"};return xn={default:f.RFC3986,formatters:{RFC1738:function(s){return t.call(s,r,"+")},RFC3986:function(s){return String(s)}},RFC1738:f.RFC1738,RFC3986:f.RFC3986},xn}var bn,si;function Ji(){if(si)return bn;si=1;var t=Kn(),r=Object.prototype.hasOwnProperty,f=Array.isArray,s=function(){for(var tt=[],P=0;P<256;++P)tt.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return tt}(),v=function(P){for(;P.length>1;){var X=P.pop(),T=X.obj[X.prop];if(f(T)){for(var C=[],B=0;B<T.length;++B)typeof T[B]<"u"&&C.push(T[B]);X.obj[X.prop]=C}}},a=function(P,X){for(var T=X&&X.plainObjects?Object.create(null):{},C=0;C<P.length;++C)typeof P[C]<"u"&&(T[C]=P[C]);return T},b=function tt(P,X,T){if(!X)return P;if(typeof X!="object"){if(f(P))P.push(X);else if(P&&typeof P=="object")(T&&(T.plainObjects||T.allowPrototypes)||!r.call(Object.prototype,X))&&(P[X]=!0);else return[P,X];return P}if(!P||typeof P!="object")return[P].concat(X);var C=P;return f(P)&&!f(X)&&(C=a(P,T)),f(P)&&f(X)?(X.forEach(function(B,_){if(r.call(P,_)){var O=P[_];O&&typeof O=="object"&&B&&typeof B=="object"?P[_]=tt(O,B,T):P.push(B)}else P[_]=B}),P):Object.keys(X).reduce(function(B,_){var O=X[_];return r.call(B,_)?B[_]=tt(B[_],O,T):B[_]=O,B},C)},M=function(P,X){return Object.keys(X).reduce(function(T,C){return T[C]=X[C],T},P)},S=function(tt,P,X){var T=tt.replace(/\+/g," ");if(X==="iso-8859-1")return T.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(T)}catch{return T}},L=function(P,X,T,C,B){if(P.length===0)return P;var _=P;if(typeof P=="symbol"?_=Symbol.prototype.toString.call(P):typeof P!="string"&&(_=String(P)),T==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(K){return"%26%23"+parseInt(K.slice(2),16)+"%3B"});for(var O="",E=0;E<_.length;++E){var U=_.charCodeAt(E);if(U===45||U===46||U===95||U===126||U>=48&&U<=57||U>=65&&U<=90||U>=97&&U<=122||B===t.RFC1738&&(U===40||U===41)){O+=_.charAt(E);continue}if(U<128){O=O+s[U];continue}if(U<2048){O=O+(s[192|U>>6]+s[128|U&63]);continue}if(U<55296||U>=57344){O=O+(s[224|U>>12]+s[128|U>>6&63]+s[128|U&63]);continue}E+=1,U=65536+((U&1023)<<10|_.charCodeAt(E)&1023),O+=s[240|U>>18]+s[128|U>>12&63]+s[128|U>>6&63]+s[128|U&63]}return O},Y=function(P){for(var X=[{obj:{o:P},prop:"o"}],T=[],C=0;C<X.length;++C)for(var B=X[C],_=B.obj[B.prop],O=Object.keys(_),E=0;E<O.length;++E){var U=O[E],K=_[U];typeof K=="object"&&K!==null&&T.indexOf(K)===-1&&(X.push({obj:_,prop:U}),T.push(K))}return v(X),P},J=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},Q=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},V=function(P,X){return[].concat(P,X)},ft=function(P,X){if(f(P)){for(var T=[],C=0;C<P.length;C+=1)T.push(X(P[C]));return T}return X(P)};return bn={arrayToObject:a,assign:M,combine:V,compact:Y,decode:S,encode:L,isBuffer:Q,isRegExp:J,maybeMap:ft,merge:b},bn}var wn,ai;function ts(){if(ai)return wn;ai=1;var t=Qo(),r=Ji(),f=Kn(),s=Object.prototype.hasOwnProperty,v={brackets:function(P){return P+"[]"},comma:"comma",indices:function(P,X){return P+"["+X+"]"},repeat:function(P){return P}},a=Array.isArray,b=Array.prototype.push,M=function(tt,P){b.apply(tt,a(P)?P:[P])},S=Date.prototype.toISOString,L=f.default,Y={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:L,formatter:f.formatters[L],indices:!1,serializeDate:function(P){return S.call(P)},skipNulls:!1,strictNullHandling:!1},J=function(P){return typeof P=="string"||typeof P=="number"||typeof P=="boolean"||typeof P=="symbol"||typeof P=="bigint"},Q={},V=function tt(P,X,T,C,B,_,O,E,U,K,z,m,e,o,u,l){for(var p=P,w=l,A=0,h=!1;(w=w.get(Q))!==void 0&&!h;){var n=w.get(P);if(A+=1,typeof n<"u"){if(n===A)throw new RangeError("Cyclic object value");h=!0}typeof w.get(Q)>"u"&&(A=0)}if(typeof E=="function"?p=E(X,p):p instanceof Date?p=z(p):T==="comma"&&a(p)&&(p=r.maybeMap(p,function(St){return St instanceof Date?z(St):St})),p===null){if(B)return O&&!o?O(X,Y.encoder,u,"key",m):X;p=""}if(J(p)||r.isBuffer(p)){if(O){var d=o?X:O(X,Y.encoder,u,"key",m);return[e(d)+"="+e(O(p,Y.encoder,u,"value",m))]}return[e(X)+"="+e(String(p))]}var q=[];if(typeof p>"u")return q;var N;if(T==="comma"&&a(p))o&&O&&(p=r.maybeMap(p,O)),N=[{value:p.length>0?p.join(",")||null:void 0}];else if(a(E))N=E;else{var $=Object.keys(p);N=U?$.sort(U):$}for(var k=C&&a(p)&&p.length===1?X+"[]":X,F=0;F<N.length;++F){var ct=N[F],mt=typeof ct=="object"&&typeof ct.value<"u"?ct.value:p[ct];if(!(_&&mt===null)){var ot=a(p)?typeof T=="function"?T(k,ct):k:k+(K?"."+ct:"["+ct+"]");l.set(P,A);var yt=t();yt.set(Q,l),M(q,tt(mt,ot,T,C,B,_,T==="comma"&&o&&a(p)?null:O,E,U,K,z,m,e,o,u,yt))}}return q},ft=function(P){if(!P)return Y;if(P.encoder!==null&&typeof P.encoder<"u"&&typeof P.encoder!="function")throw new TypeError("Encoder has to be a function.");var X=P.charset||Y.charset;if(typeof P.charset<"u"&&P.charset!=="utf-8"&&P.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var T=f.default;if(typeof P.format<"u"){if(!s.call(f.formatters,P.format))throw new TypeError("Unknown format option provided.");T=P.format}var C=f.formatters[T],B=Y.filter;return(typeof P.filter=="function"||a(P.filter))&&(B=P.filter),{addQueryPrefix:typeof P.addQueryPrefix=="boolean"?P.addQueryPrefix:Y.addQueryPrefix,allowDots:typeof P.allowDots>"u"?Y.allowDots:!!P.allowDots,charset:X,charsetSentinel:typeof P.charsetSentinel=="boolean"?P.charsetSentinel:Y.charsetSentinel,delimiter:typeof P.delimiter>"u"?Y.delimiter:P.delimiter,encode:typeof P.encode=="boolean"?P.encode:Y.encode,encoder:typeof P.encoder=="function"?P.encoder:Y.encoder,encodeValuesOnly:typeof P.encodeValuesOnly=="boolean"?P.encodeValuesOnly:Y.encodeValuesOnly,filter:B,format:T,formatter:C,serializeDate:typeof P.serializeDate=="function"?P.serializeDate:Y.serializeDate,skipNulls:typeof P.skipNulls=="boolean"?P.skipNulls:Y.skipNulls,sort:typeof P.sort=="function"?P.sort:null,strictNullHandling:typeof P.strictNullHandling=="boolean"?P.strictNullHandling:Y.strictNullHandling}};return wn=function(tt,P){var X=tt,T=ft(P),C,B;typeof T.filter=="function"?(B=T.filter,X=B("",X)):a(T.filter)&&(B=T.filter,C=B);var _=[];if(typeof X!="object"||X===null)return"";var O;P&&P.arrayFormat in v?O=P.arrayFormat:P&&"indices"in P?O=P.indices?"indices":"repeat":O="indices";var E=v[O];if(P&&"commaRoundTrip"in P&&typeof P.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var U=E==="comma"&&P&&P.commaRoundTrip;C||(C=Object.keys(X)),T.sort&&C.sort(T.sort);for(var K=t(),z=0;z<C.length;++z){var m=C[z];T.skipNulls&&X[m]===null||M(_,V(X[m],m,E,U,T.strictNullHandling,T.skipNulls,T.encode?T.encoder:null,T.filter,T.sort,T.allowDots,T.serializeDate,T.format,T.formatter,T.encodeValuesOnly,T.charset,K))}var e=_.join(T.delimiter),o=T.addQueryPrefix===!0?"?":"";return T.charsetSentinel&&(T.charset==="iso-8859-1"?o+="utf8=%26%2310003%3B&":o+="utf8=%E2%9C%93&"),e.length>0?o+e:""},wn}var _n,ui;function es(){if(ui)return _n;ui=1;var t=Ji(),r=Object.prototype.hasOwnProperty,f=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:t.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v=function(Q){return Q.replace(/&#(\d+);/g,function(V,ft){return String.fromCharCode(parseInt(ft,10))})},a=function(Q,V){return Q&&typeof Q=="string"&&V.comma&&Q.indexOf(",")>-1?Q.split(","):Q},b="utf8=%26%2310003%3B",M="utf8=%E2%9C%93",S=function(V,ft){var tt={__proto__:null},P=ft.ignoreQueryPrefix?V.replace(/^\?/,""):V,X=ft.parameterLimit===1/0?void 0:ft.parameterLimit,T=P.split(ft.delimiter,X),C=-1,B,_=ft.charset;if(ft.charsetSentinel)for(B=0;B<T.length;++B)T[B].indexOf("utf8=")===0&&(T[B]===M?_="utf-8":T[B]===b&&(_="iso-8859-1"),C=B,B=T.length);for(B=0;B<T.length;++B)if(B!==C){var O=T[B],E=O.indexOf("]="),U=E===-1?O.indexOf("="):E+1,K,z;U===-1?(K=ft.decoder(O,s.decoder,_,"key"),z=ft.strictNullHandling?null:""):(K=ft.decoder(O.slice(0,U),s.decoder,_,"key"),z=t.maybeMap(a(O.slice(U+1),ft),function(m){return ft.decoder(m,s.decoder,_,"value")})),z&&ft.interpretNumericEntities&&_==="iso-8859-1"&&(z=v(z)),O.indexOf("[]=")>-1&&(z=f(z)?[z]:z),r.call(tt,K)?tt[K]=t.combine(tt[K],z):tt[K]=z}return tt},L=function(Q,V,ft,tt){for(var P=tt?V:a(V,ft),X=Q.length-1;X>=0;--X){var T,C=Q[X];if(C==="[]"&&ft.parseArrays)T=[].concat(P);else{T=ft.plainObjects?Object.create(null):{};var B=C.charAt(0)==="["&&C.charAt(C.length-1)==="]"?C.slice(1,-1):C,_=parseInt(B,10);!ft.parseArrays&&B===""?T={0:P}:!isNaN(_)&&C!==B&&String(_)===B&&_>=0&&ft.parseArrays&&_<=ft.arrayLimit?(T=[],T[_]=P):B!=="__proto__"&&(T[B]=P)}P=T}return P},Y=function(V,ft,tt,P){if(V){var X=tt.allowDots?V.replace(/\.([^.[]+)/g,"[$1]"):V,T=/(\[[^[\]]*])/,C=/(\[[^[\]]*])/g,B=tt.depth>0&&T.exec(X),_=B?X.slice(0,B.index):X,O=[];if(_){if(!tt.plainObjects&&r.call(Object.prototype,_)&&!tt.allowPrototypes)return;O.push(_)}for(var E=0;tt.depth>0&&(B=C.exec(X))!==null&&E<tt.depth;){if(E+=1,!tt.plainObjects&&r.call(Object.prototype,B[1].slice(1,-1))&&!tt.allowPrototypes)return;O.push(B[1])}return B&&O.push("["+X.slice(B.index)+"]"),L(O,ft,tt,P)}},J=function(V){if(!V)return s;if(V.decoder!==null&&V.decoder!==void 0&&typeof V.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof V.charset<"u"&&V.charset!=="utf-8"&&V.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var ft=typeof V.charset>"u"?s.charset:V.charset;return{allowDots:typeof V.allowDots>"u"?s.allowDots:!!V.allowDots,allowPrototypes:typeof V.allowPrototypes=="boolean"?V.allowPrototypes:s.allowPrototypes,allowSparse:typeof V.allowSparse=="boolean"?V.allowSparse:s.allowSparse,arrayLimit:typeof V.arrayLimit=="number"?V.arrayLimit:s.arrayLimit,charset:ft,charsetSentinel:typeof V.charsetSentinel=="boolean"?V.charsetSentinel:s.charsetSentinel,comma:typeof V.comma=="boolean"?V.comma:s.comma,decoder:typeof V.decoder=="function"?V.decoder:s.decoder,delimiter:typeof V.delimiter=="string"||t.isRegExp(V.delimiter)?V.delimiter:s.delimiter,depth:typeof V.depth=="number"||V.depth===!1?+V.depth:s.depth,ignoreQueryPrefix:V.ignoreQueryPrefix===!0,interpretNumericEntities:typeof V.interpretNumericEntities=="boolean"?V.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:typeof V.parameterLimit=="number"?V.parameterLimit:s.parameterLimit,parseArrays:V.parseArrays!==!1,plainObjects:typeof V.plainObjects=="boolean"?V.plainObjects:s.plainObjects,strictNullHandling:typeof V.strictNullHandling=="boolean"?V.strictNullHandling:s.strictNullHandling}};return _n=function(Q,V){var ft=J(V);if(Q===""||Q===null||typeof Q>"u")return ft.plainObjects?Object.create(null):{};for(var tt=typeof Q=="string"?S(Q,ft):Q,P=ft.plainObjects?Object.create(null):{},X=Object.keys(tt),T=0;T<X.length;++T){var C=X[T],B=Y(C,tt[C],ft,typeof Q=="string");P=t.merge(P,B,ft)}return ft.allowSparse===!0?P:t.compact(P)},_n}var En,ci;function rs(){if(ci)return En;ci=1;var t=ts(),r=es(),f=Kn();return En={formats:f,parse:r,stringify:t},En}var hi;function ns(){if(hi)return vr;hi=1;var t=Xo();function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var f=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,v=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],b=["{","}","|","\\","^","`"].concat(a),M=["'"].concat(b),S=["%","/","?",";","#"].concat(M),L=["/","?","#"],Y=255,J=/^[+a-z0-9A-Z_-]{0,63}$/,Q=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,V={javascript:!0,"javascript:":!0},ft={javascript:!0,"javascript:":!0},tt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},P=rs();function X(_,O,E){if(_&&typeof _=="object"&&_ instanceof r)return _;var U=new r;return U.parse(_,O,E),U}r.prototype.parse=function(_,O,E){if(typeof _!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof _);var U=_.indexOf("?"),K=U!==-1&&U<_.indexOf("#")?"?":"#",z=_.split(K),m=/\\/g;z[0]=z[0].replace(m,"/"),_=z.join(K);var e=_;if(e=e.trim(),!E&&_.split("#").length===1){var o=v.exec(e);if(o)return this.path=e,this.href=e,this.pathname=o[1],o[2]?(this.search=o[2],O?this.query=P.parse(this.search.substr(1)):this.query=this.search.substr(1)):O&&(this.search="",this.query={}),this}var u=f.exec(e);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l,e=e.substr(u.length)}if(E||u||e.match(/^\/\/[^@/]+@[^@/]+/)){var p=e.substr(0,2)==="//";p&&!(u&&ft[u])&&(e=e.substr(2),this.slashes=!0)}if(!ft[u]&&(p||u&&!tt[u])){for(var w=-1,A=0;A<L.length;A++){var h=e.indexOf(L[A]);h!==-1&&(w===-1||h<w)&&(w=h)}var n,d;w===-1?d=e.lastIndexOf("@"):d=e.lastIndexOf("@",w),d!==-1&&(n=e.slice(0,d),e=e.slice(d+1),this.auth=decodeURIComponent(n)),w=-1;for(var A=0;A<S.length;A++){var h=e.indexOf(S[A]);h!==-1&&(w===-1||h<w)&&(w=h)}w===-1&&(w=e.length),this.host=e.slice(0,w),e=e.slice(w),this.parseHost(),this.hostname=this.hostname||"";var q=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!q)for(var N=this.hostname.split(/\./),A=0,$=N.length;A<$;A++){var k=N[A];if(k&&!k.match(J)){for(var F="",ct=0,mt=k.length;ct<mt;ct++)k.charCodeAt(ct)>127?F+="x":F+=k[ct];if(!F.match(J)){var ot=N.slice(0,A),yt=N.slice(A+1),St=k.match(Q);St&&(ot.push(St[1]),yt.unshift(St[2])),yt.length&&(e="/"+yt.join(".")+e),this.hostname=ot.join(".");break}}}this.hostname.length>Y?this.hostname="":this.hostname=this.hostname.toLowerCase(),q||(this.hostname=t.toASCII(this.hostname));var Et=this.port?":"+this.port:"",et=this.hostname||"";this.host=et+Et,this.href+=this.host,q&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),e[0]!=="/"&&(e="/"+e))}if(!V[l])for(var A=0,$=M.length;A<$;A++){var at=M[A];if(e.indexOf(at)!==-1){var ht=encodeURIComponent(at);ht===at&&(ht=escape(at)),e=e.split(at).join(ht)}}var Mt=e.indexOf("#");Mt!==-1&&(this.hash=e.substr(Mt),e=e.slice(0,Mt));var jt=e.indexOf("?");if(jt!==-1?(this.search=e.substr(jt),this.query=e.substr(jt+1),O&&(this.query=P.parse(this.query)),e=e.slice(0,jt)):O&&(this.search="",this.query={}),e&&(this.pathname=e),tt[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Et=this.pathname||"",Nt=this.search||"";this.path=Et+Nt}return this.href=this.format(),this};function T(_){return typeof _=="string"&&(_=X(_)),_ instanceof r?_.format():r.prototype.format.call(_)}r.prototype.format=function(){var _=this.auth||"";_&&(_=encodeURIComponent(_),_=_.replace(/%3A/i,":"),_+="@");var O=this.protocol||"",E=this.pathname||"",U=this.hash||"",K=!1,z="";this.host?K=_+this.host:this.hostname&&(K=_+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(K+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(z=P.stringify(this.query));var m=this.search||z&&"?"+z||"";return O&&O.substr(-1)!==":"&&(O+=":"),this.slashes||(!O||tt[O])&&K!==!1?(K="//"+(K||""),E&&E.charAt(0)!=="/"&&(E="/"+E)):K||(K=""),U&&U.charAt(0)!=="#"&&(U="#"+U),m&&m.charAt(0)!=="?"&&(m="?"+m),E=E.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),m=m.replace("#","%23"),O+K+E+m+U};function C(_,O){return X(_,!1,!0).resolve(O)}r.prototype.resolve=function(_){return this.resolveObject(X(_,!1,!0)).format()};function B(_,O){return _?X(_,!1,!0).resolveObject(O):O}return r.prototype.resolveObject=function(_){if(typeof _=="string"){var O=new r;O.parse(_,!1,!0),_=O}for(var E=new r,U=Object.keys(this),K=0;K<U.length;K++){var z=U[K];E[z]=this[z]}if(E.hash=_.hash,_.href==="")return E.href=E.format(),E;if(_.slashes&&!_.protocol){for(var m=Object.keys(_),e=0;e<m.length;e++){var o=m[e];o!=="protocol"&&(E[o]=_[o])}return tt[E.protocol]&&E.hostname&&!E.pathname&&(E.pathname="/",E.path=E.pathname),E.href=E.format(),E}if(_.protocol&&_.protocol!==E.protocol){if(!tt[_.protocol]){for(var u=Object.keys(_),l=0;l<u.length;l++){var p=u[l];E[p]=_[p]}return E.href=E.format(),E}if(E.protocol=_.protocol,!_.host&&!ft[_.protocol]){for(var $=(_.pathname||"").split("/");$.length&&!(_.host=$.shift()););_.host||(_.host=""),_.hostname||(_.hostname=""),$[0]!==""&&$.unshift(""),$.length<2&&$.unshift(""),E.pathname=$.join("/")}else E.pathname=_.pathname;if(E.search=_.search,E.query=_.query,E.host=_.host||"",E.auth=_.auth,E.hostname=_.hostname||_.host,E.port=_.port,E.pathname||E.search){var w=E.pathname||"",A=E.search||"";E.path=w+A}return E.slashes=E.slashes||_.slashes,E.href=E.format(),E}var h=E.pathname&&E.pathname.charAt(0)==="/",n=_.host||_.pathname&&_.pathname.charAt(0)==="/",d=n||h||E.host&&_.pathname,q=d,N=E.pathname&&E.pathname.split("/")||[],$=_.pathname&&_.pathname.split("/")||[],k=E.protocol&&!tt[E.protocol];if(k&&(E.hostname="",E.port=null,E.host&&(N[0]===""?N[0]=E.host:N.unshift(E.host)),E.host="",_.protocol&&(_.hostname=null,_.port=null,_.host&&($[0]===""?$[0]=_.host:$.unshift(_.host)),_.host=null),d=d&&($[0]===""||N[0]==="")),n)E.host=_.host||_.host===""?_.host:E.host,E.hostname=_.hostname||_.hostname===""?_.hostname:E.hostname,E.search=_.search,E.query=_.query,N=$;else if($.length)N||(N=[]),N.pop(),N=N.concat($),E.search=_.search,E.query=_.query;else if(_.search!=null){if(k){E.host=N.shift(),E.hostname=E.host;var F=E.host&&E.host.indexOf("@")>0?E.host.split("@"):!1;F&&(E.auth=F.shift(),E.hostname=F.shift(),E.host=E.hostname)}return E.search=_.search,E.query=_.query,(E.pathname!==null||E.search!==null)&&(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.href=E.format(),E}if(!N.length)return E.pathname=null,E.search?E.path="/"+E.search:E.path=null,E.href=E.format(),E;for(var ct=N.slice(-1)[0],mt=(E.host||_.host||N.length>1)&&(ct==="."||ct==="..")||ct==="",ot=0,yt=N.length;yt>=0;yt--)ct=N[yt],ct==="."?N.splice(yt,1):ct===".."?(N.splice(yt,1),ot++):ot&&(N.splice(yt,1),ot--);if(!d&&!q)for(;ot--;ot)N.unshift("..");d&&N[0]!==""&&(!N[0]||N[0].charAt(0)!=="/")&&N.unshift(""),mt&&N.join("/").substr(-1)!=="/"&&N.push("");var St=N[0]===""||N[0]&&N[0].charAt(0)==="/";if(k){E.hostname=St?"":N.length?N.shift():"",E.host=E.hostname;var F=E.host&&E.host.indexOf("@")>0?E.host.split("@"):!1;F&&(E.auth=F.shift(),E.hostname=F.shift(),E.host=E.hostname)}return d=d||E.host&&N.length,d&&!St&&N.unshift(""),N.length>0?E.pathname=N.join("/"):(E.pathname=null,E.path=null),(E.pathname!==null||E.search!==null)&&(E.path=(E.pathname?E.pathname:"")+(E.search?E.search:"")),E.auth=_.auth||E.auth,E.slashes=E.slashes||_.slashes,E.href=E.format(),E},r.prototype.parseHost=function(){var _=this.host,O=s.exec(_);O&&(O=O[0],O!==":"&&(this.port=O.substr(1)),_=_.substr(0,_.length-O.length)),_&&(this.hostname=_)},vr.parse=X,vr.resolve=C,vr.resolveObject=B,vr.format=T,vr.Url=r,vr}Object.defineProperty(br,"__esModule",{value:!0});br.InvalidStatusCodeError=br.InvalidCertError=void 0;const Qi=Object.freeze({redirect:!0,expectStatusCode:200,headers:{},full:!1,keepAlive:!0,cors:!1,referrer:!1,sslAllowSelfSigned:!1,_redirectCount:0});class In extends Error{constructor(r,f){super(r),this.fingerprint256=f}}br.InvalidCertError=In;class Vn extends Error{constructor(r){super(`Request Failed. Status Code: ${r}`),this.statusCode=r}}br.InvalidStatusCodeError=Vn;function tf(t,r){if(!r||r==="text"||r==="json")try{let f=new TextDecoder("utf8",{fatal:!0}).decode(t);if(r==="text")return f;try{return JSON.parse(f)}catch(s){if(r==="json")throw s;return f}}catch(f){if(r==="text"||r==="json")throw f}return t}let li={};function Pn(t,r){var Q;let f={...Qi,...r};const s=Nr,v=Nr,a=Nr,{promisify:b}=gf,{resolve:M}=ns(),S=!!/^https/.test(t);let L={method:f.method||"GET",headers:{"Accept-Encoding":"gzip, deflate, br"}};const Y=V=>V.replace(/:| /g,"").toLowerCase();if(f.keepAlive){const V={keepAlive:!0,keepAliveMsecs:3e4,maxFreeSockets:1024,maxCachedSessions:1024},ft=[S,S&&((Q=f.sslPinnedCertificates)==null?void 0:Q.map(tt=>Y(tt)).sort())].join();L.agent=li[ft]||(li[ft]=new(S?v:s).Agent(V))}f.type==="json"&&(L.headers["Content-Type"]="application/json"),f.data&&(f.method||(L.method="POST"),L.body=f.type==="json"?JSON.stringify(f.data):f.data),L.headers={...L.headers,...f.headers},f.sslAllowSelfSigned&&(L.rejectUnauthorized=!1);const J=async V=>{const ft=V.statusCode;if(f.redirect&&300<=ft&&ft<400&&V.headers.location){if(f._redirectCount==10)throw new Error("Request failed. Too much redirects.");return f._redirectCount+=1,await Pn(M(t,V.headers.location),f)}if(f.expectStatusCode&&ft!==f.expectStatusCode)throw V.resume(),new Vn(ft);let tt=[];for await(const C of V)tt.push(C);let P=xt.concat(tt);const X=V.headers["content-encoding"];X==="br"&&(P=await b(a.brotliDecompress)(P)),(X==="gzip"||X==="deflate")&&(P=await b(a.unzip)(P));const T=tf(P,f.type);return f.full?{headers:V.headers,status:ft,body:T}:T};return new Promise((V,ft)=>{var C;const tt=async B=>{if(B&&B.code==="DEPTH_ZERO_SELF_SIGNED_CERT")try{await Pn(t,{...f,sslAllowSelfSigned:!0,sslPinnedCertificates:[]})}catch(_){_&&_.fingerprint256&&(B=new In(`Self-signed SSL certificate: ${_.fingerprint256}`,_.fingerprint256))}ft(B)},P=(S?v:s).request(t,L,B=>{B.on("error",tt),(async()=>{try{V(await J(B))}catch(_){ft(_)}})()});P.on("error",tt);const X=(C=f.sslPinnedCertificates)==null?void 0:C.map(B=>Y(B)),T=B=>{var O;const _=Y(((O=B.getPeerCertificate())==null?void 0:O.fingerprint256)||"");if(!(!_&&B.isSessionReused())&&!X.includes(_))return P.emit("error",new In(`Invalid SSL certificate: ${_} Expected: ${X}`,_)),P.abort()};f.sslPinnedCertificates&&P.on("socket",B=>{B.listeners("secureConnect").map(O=>(O.name||"").replace("bound ","")).includes("mfetchSecureConnect")||B.on("secureConnect",T.bind(null,B))}),f.keepAlive&&P.setNoDelay(!0),L.body&&P.write(L.body),P.end()})}const is=new Set(["Accept","Accept-Language","Content-Language","Content-Type"].map(t=>t.toLowerCase())),fs=new Set(["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(t=>t.toLowerCase()));async function os(t,r){let f={...Qi,...r};const s=new Headers;f.type==="json"&&s.set("Content-Type","application/json");let v=new URL(t);if(v.username){const S=btoa(`${v.username}:${v.password}`);s.set("Authorization",`Basic ${S}`),v.username="",v.password=""}t=""+v;for(let S in f.headers){const L=S.toLowerCase();(is.has(L)||f.cors&&!fs.has(L))&&s.set(S,f.headers[S])}let a={headers:s,redirect:f.redirect?"follow":"manual"};f.referrer||(a.referrerPolicy="no-referrer"),f.cors&&(a.mode="cors"),f.data&&(f.method||(a.method="POST"),a.body=f.type==="json"?JSON.stringify(f.data):f.data);const b=await fetch(t,a);if(f.expectStatusCode&&b.status!==f.expectStatusCode)throw new Vn(b.status);const M=tf(new Uint8Array(await b.arrayBuffer()),f.type);return f.full?{headers:Object.fromEntries(b.headers.entries()),status:b.status,body:M}:M}const ss=!!(typeof zr=="object"&&zr.versions&&zr.versions.node&&zr.versions.v8);function as(t,r){return(ss?Pn:os)(t,r)}br.default=as;Object.defineProperty(Or,"__esModule",{value:!0});Or.getProvider=Or.fetchFromProvider=void 0;const us=br,cs=async(t,r)=>(await(0,us.default)(t,{headers:{"content-type":"application/json"},type:"json",data:{method:r.method,params:r.params,jsonrpc:"2.0",id:1}})).result;Or.fetchFromProvider=cs;const hs=t=>{var r;if(typeof t=="string")return t;if(((r=t==null?void 0:t.connection)==null?void 0:r.url)!==void 0)return t.connection.url;throw new Error("Must provide valid provider URL or Web3Provider")};Or.getProvider=hs;(function(t){var r=ge&&ge.__createBinding||(Object.create?function(v,a,b,M){M===void 0&&(M=b);var S=Object.getOwnPropertyDescriptor(a,b);(!S||("get"in S?!a.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return a[b]}}),Object.defineProperty(v,M,S)}:function(v,a,b,M){M===void 0&&(M=b),v[M]=a[b]}),f=ge&&ge.__exportStar||function(v,a){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(a,b)&&r(a,v,b)};Object.defineProperty(t,"__esModule",{value:!0}),t.toAscii=t.stripHexPrefix=t.padToEven=t.isHexString=t.isHexPrefixed=t.getKeys=t.getBinarySize=t.fromUtf8=t.fromAscii=t.arrayContainsArray=void 0,f(Gr,t),f(nn,t),f(jn,t),f(Dr,t),f(on,t),f(qe,t),f(wr,t),f(zn,t),f(Xi,t),f(un,t);var s=we;Object.defineProperty(t,"arrayContainsArray",{enumerable:!0,get:function(){return s.arrayContainsArray}}),Object.defineProperty(t,"fromAscii",{enumerable:!0,get:function(){return s.fromAscii}}),Object.defineProperty(t,"fromUtf8",{enumerable:!0,get:function(){return s.fromUtf8}}),Object.defineProperty(t,"getBinarySize",{enumerable:!0,get:function(){return s.getBinarySize}}),Object.defineProperty(t,"getKeys",{enumerable:!0,get:function(){return s.getKeys}}),Object.defineProperty(t,"isHexPrefixed",{enumerable:!0,get:function(){return s.isHexPrefixed}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return s.isHexString}}),Object.defineProperty(t,"padToEven",{enumerable:!0,get:function(){return s.padToEven}}),Object.defineProperty(t,"stripHexPrefix",{enumerable:!0,get:function(){return s.stripHexPrefix}}),Object.defineProperty(t,"toAscii",{enumerable:!0,get:function(){return s.toAscii}}),f(cn,t),f(Or,t)})(qr);var Oe={};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.numberToBuffer=Oe.normalize=Oe.recoverPublicKey=Oe.concatSig=Oe.legacyToBuffer=Oe.isNullish=Oe.padWithZeroes=void 0;const Ve=qr,Ln=Nn;function Rn(t,r){if(t!==""&&!/^[a-f0-9]+$/iu.test(t))throw new Error(`Expected an unprefixed hex string. Received: ${t}`);if(r<0)throw new Error(`Expected a non-negative integer target length. Received: ${r}`);return String.prototype.padStart.call(t,r,"0")}Oe.padWithZeroes=Rn;function ls(t){return t==null}Oe.isNullish=ls;function ds(t){return typeof t=="string"&&!(0,Ln.isHexString)(t)?xt.from(t):(0,Ve.toBuffer)(t)}Oe.legacyToBuffer=ds;function ys(t,r,f){const s=(0,Ve.fromSigned)(r),v=(0,Ve.fromSigned)(f),a=(0,Ve.bufferToInt)(t),b=Rn((0,Ve.toUnsigned)(s).toString("hex"),64),M=Rn((0,Ve.toUnsigned)(v).toString("hex"),64),S=(0,Ln.stripHexPrefix)((0,Ln.intToHex)(a));return(0,Ve.addHexPrefix)(b.concat(M,S))}Oe.concatSig=ys;function ps(t,r){const f=(0,Ve.fromRpcSig)(r);return(0,Ve.ecrecover)(t,f.v,f.r,f.s)}Oe.recoverPublicKey=ps;function gs(t){if(t){if(typeof t=="number"){if(t<0)return"0x";const r=(0,Ve.toBuffer)(t);t=(0,Ve.bufferToHex)(r)}if(typeof t!="string"){let r="eth-sig-util.normalize() requires hex string or integer input.";throw r+=` received ${typeof t}: ${t}`,new Error(r)}return(0,Ve.addHexPrefix)(t.toLowerCase())}}Oe.normalize=gs;function ms(t){const r=t.toString(16),f=r.length%2?"0":"";return xt.from(f+r,"hex")}Oe.numberToBuffer=ms;Object.defineProperty(pr,"__esModule",{value:!0});pr.extractPublicKey=pr.recoverPersonalSignature=pr.personalSign=void 0;const Br=qr,er=Oe;function vs({privateKey:t,data:r}){if((0,er.isNullish)(r))throw new Error("Missing data parameter");if((0,er.isNullish)(t))throw new Error("Missing privateKey parameter");const f=(0,er.legacyToBuffer)(r),s=(0,Br.hashPersonalMessage)(f),v=(0,Br.ecsign)(s,t);return(0,er.concatSig)((0,Br.toBuffer)(v.v),v.r,v.s)}pr.personalSign=vs;function xs({data:t,signature:r}){if((0,er.isNullish)(t))throw new Error("Missing data parameter");if((0,er.isNullish)(r))throw new Error("Missing signature parameter");const f=ef(t,r),s=(0,Br.publicToAddress)(f);return(0,Br.bufferToHex)(s)}pr.recoverPersonalSignature=xs;function bs({data:t,signature:r}){if((0,er.isNullish)(t))throw new Error("Missing data parameter");if((0,er.isNullish)(r))throw new Error("Missing signature parameter");return`0x${ef(t,r).toString("hex")}`}pr.extractPublicKey=bs;function ef(t,r){const f=(0,Br.hashPersonalMessage)((0,er.legacyToBuffer)(t));return(0,er.recoverPublicKey)(f,r)}var rf={},gr={},Wn={exports:{}};Wn.exports;(function(t){(function(r,f){function s(m,e){if(!m)throw new Error(e||"Assertion failed")}function v(m,e){m.super_=e;var o=function(){};o.prototype=e.prototype,m.prototype=new o,m.prototype.constructor=m}function a(m,e,o){if(a.isBN(m))return m;this.negative=0,this.words=null,this.length=0,this.red=null,m!==null&&((e==="le"||e==="be")&&(o=e,e=10),this._init(m||0,e||10,o||"be"))}typeof r=="object"?r.exports=a:f.BN=a,a.BN=a,a.wordSize=26;var b;try{typeof window<"u"&&typeof window.Buffer<"u"?b=window.Buffer:b=Nr.Buffer}catch{}a.isBN=function(e){return e instanceof a?!0:e!==null&&typeof e=="object"&&e.constructor.wordSize===a.wordSize&&Array.isArray(e.words)},a.max=function(e,o){return e.cmp(o)>0?e:o},a.min=function(e,o){return e.cmp(o)<0?e:o},a.prototype._init=function(e,o,u){if(typeof e=="number")return this._initNumber(e,o,u);if(typeof e=="object")return this._initArray(e,o,u);o==="hex"&&(o=16),s(o===(o|0)&&o>=2&&o<=36),e=e.toString().replace(/\s+/g,"");var l=0;e[0]==="-"&&(l++,this.negative=1),l<e.length&&(o===16?this._parseHex(e,l,u):(this._parseBase(e,o,l),u==="le"&&this._initArray(this.toArray(),o,u)))},a.prototype._initNumber=function(e,o,u){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[e&67108863],this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(s(e<9007199254740992),this.words=[e&67108863,e/67108864&67108863,1],this.length=3),u==="le"&&this._initArray(this.toArray(),o,u)},a.prototype._initArray=function(e,o,u){if(s(typeof e.length=="number"),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var p,w,A=0;if(u==="be")for(l=e.length-1,p=0;l>=0;l-=3)w=e[l]|e[l-1]<<8|e[l-2]<<16,this.words[p]|=w<<A&67108863,this.words[p+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,p++);else if(u==="le")for(l=0,p=0;l<e.length;l+=3)w=e[l]|e[l+1]<<8|e[l+2]<<16,this.words[p]|=w<<A&67108863,this.words[p+1]=w>>>26-A&67108863,A+=24,A>=26&&(A-=26,p++);return this.strip()};function M(m,e){var o=m.charCodeAt(e);return o>=65&&o<=70?o-55:o>=97&&o<=102?o-87:o-48&15}function S(m,e,o){var u=M(m,o);return o-1>=e&&(u|=M(m,o-1)<<4),u}a.prototype._parseHex=function(e,o,u){this.length=Math.ceil((e.length-o)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var p=0,w=0,A;if(u==="be")for(l=e.length-1;l>=o;l-=2)A=S(e,o,l)<<p,this.words[w]|=A&67108863,p>=18?(p-=18,w+=1,this.words[w]|=A>>>26):p+=8;else{var h=e.length-o;for(l=h%2===0?o+1:o;l<e.length;l+=2)A=S(e,o,l)<<p,this.words[w]|=A&67108863,p>=18?(p-=18,w+=1,this.words[w]|=A>>>26):p+=8}this.strip()};function L(m,e,o,u){for(var l=0,p=Math.min(m.length,o),w=e;w<p;w++){var A=m.charCodeAt(w)-48;l*=u,A>=49?l+=A-49+10:A>=17?l+=A-17+10:l+=A}return l}a.prototype._parseBase=function(e,o,u){this.words=[0],this.length=1;for(var l=0,p=1;p<=67108863;p*=o)l++;l--,p=p/o|0;for(var w=e.length-u,A=w%l,h=Math.min(w,w-A)+u,n=0,d=u;d<h;d+=l)n=L(e,d,d+l,o),this.imuln(p),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n);if(A!==0){var q=1;for(n=L(e,d,e.length,o),d=0;d<A;d++)q*=o;this.imuln(q),this.words[0]+n<67108864?this.words[0]+=n:this._iaddn(n)}this.strip()},a.prototype.copy=function(e){e.words=new Array(this.length);for(var o=0;o<this.length;o++)e.words[o]=this.words[o];e.length=this.length,e.negative=this.negative,e.red=this.red},a.prototype.clone=function(){var e=new a(null);return this.copy(e),e},a.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},a.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},a.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var Y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],J=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],Q=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];a.prototype.toString=function(e,o){e=e||10,o=o|0||1;var u;if(e===16||e==="hex"){u="";for(var l=0,p=0,w=0;w<this.length;w++){var A=this.words[w],h=((A<<l|p)&16777215).toString(16);p=A>>>24-l&16777215,p!==0||w!==this.length-1?u=Y[6-h.length]+h+u:u=h+u,l+=2,l>=26&&(l-=26,w--)}for(p!==0&&(u=p.toString(16)+u);u.length%o!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}if(e===(e|0)&&e>=2&&e<=36){var n=J[e],d=Q[e];u="";var q=this.clone();for(q.negative=0;!q.isZero();){var N=q.modn(d).toString(e);q=q.idivn(d),q.isZero()?u=N+u:u=Y[n-N.length]+N+u}for(this.isZero()&&(u="0"+u);u.length%o!==0;)u="0"+u;return this.negative!==0&&(u="-"+u),u}s(!1,"Base should be between 2 and 36")},a.prototype.toNumber=function(){var e=this.words[0];return this.length===2?e+=this.words[1]*67108864:this.length===3&&this.words[2]===1?e+=4503599627370496+this.words[1]*67108864:this.length>2&&s(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-e:e},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(e,o){return s(typeof b<"u"),this.toArrayLike(b,e,o)},a.prototype.toArray=function(e,o){return this.toArrayLike(Array,e,o)},a.prototype.toArrayLike=function(e,o,u){var l=this.byteLength(),p=u||Math.max(1,l);s(l<=p,"byte array longer than desired length"),s(p>0,"Requested array length <= 0"),this.strip();var w=o==="le",A=new e(p),h,n,d=this.clone();if(w){for(n=0;!d.isZero();n++)h=d.andln(255),d.iushrn(8),A[n]=h;for(;n<p;n++)A[n]=0}else{for(n=0;n<p-l;n++)A[n]=0;for(n=0;!d.isZero();n++)h=d.andln(255),d.iushrn(8),A[p-n-1]=h}return A},Math.clz32?a.prototype._countBits=function(e){return 32-Math.clz32(e)}:a.prototype._countBits=function(e){var o=e,u=0;return o>=4096&&(u+=13,o>>>=13),o>=64&&(u+=7,o>>>=7),o>=8&&(u+=4,o>>>=4),o>=2&&(u+=2,o>>>=2),u+o},a.prototype._zeroBits=function(e){if(e===0)return 26;var o=e,u=0;return o&8191||(u+=13,o>>>=13),o&127||(u+=7,o>>>=7),o&15||(u+=4,o>>>=4),o&3||(u+=2,o>>>=2),o&1||u++,u},a.prototype.bitLength=function(){var e=this.words[this.length-1],o=this._countBits(e);return(this.length-1)*26+o};function V(m){for(var e=new Array(m.bitLength()),o=0;o<e.length;o++){var u=o/26|0,l=o%26;e[o]=(m.words[u]&1<<l)>>>l}return e}a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,o=0;o<this.length;o++){var u=this._zeroBits(this.words[o]);if(e+=u,u!==26)break}return e},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()},a.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return this.negative!==0},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var o=0;o<e.length;o++)this.words[o]=this.words[o]|e.words[o];return this.strip()},a.prototype.ior=function(e){return s((this.negative|e.negative)===0),this.iuor(e)},a.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},a.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},a.prototype.iuand=function(e){var o;this.length>e.length?o=e:o=this;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]&e.words[u];return this.length=o.length,this.strip()},a.prototype.iand=function(e){return s((this.negative|e.negative)===0),this.iuand(e)},a.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},a.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},a.prototype.iuxor=function(e){var o,u;this.length>e.length?(o=this,u=e):(o=e,u=this);for(var l=0;l<u.length;l++)this.words[l]=o.words[l]^u.words[l];if(this!==o)for(;l<o.length;l++)this.words[l]=o.words[l];return this.length=o.length,this.strip()},a.prototype.ixor=function(e){return s((this.negative|e.negative)===0),this.iuxor(e)},a.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},a.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},a.prototype.inotn=function(e){s(typeof e=="number"&&e>=0);var o=Math.ceil(e/26)|0,u=e%26;this._expand(o),u>0&&o--;for(var l=0;l<o;l++)this.words[l]=~this.words[l]&67108863;return u>0&&(this.words[l]=~this.words[l]&67108863>>26-u),this.strip()},a.prototype.notn=function(e){return this.clone().inotn(e)},a.prototype.setn=function(e,o){s(typeof e=="number"&&e>=0);var u=e/26|0,l=e%26;return this._expand(u+1),o?this.words[u]=this.words[u]|1<<l:this.words[u]=this.words[u]&~(1<<l),this.strip()},a.prototype.iadd=function(e){var o;if(this.negative!==0&&e.negative===0)return this.negative=0,o=this.isub(e),this.negative^=1,this._normSign();if(this.negative===0&&e.negative!==0)return e.negative=0,o=this.isub(e),e.negative=1,o._normSign();var u,l;this.length>e.length?(u=this,l=e):(u=e,l=this);for(var p=0,w=0;w<l.length;w++)o=(u.words[w]|0)+(l.words[w]|0)+p,this.words[w]=o&67108863,p=o>>>26;for(;p!==0&&w<u.length;w++)o=(u.words[w]|0)+p,this.words[w]=o&67108863,p=o>>>26;if(this.length=u.length,p!==0)this.words[this.length]=p,this.length++;else if(u!==this)for(;w<u.length;w++)this.words[w]=u.words[w];return this},a.prototype.add=function(e){var o;return e.negative!==0&&this.negative===0?(e.negative=0,o=this.sub(e),e.negative^=1,o):e.negative===0&&this.negative!==0?(this.negative=0,o=e.sub(this),this.negative=1,o):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},a.prototype.isub=function(e){if(e.negative!==0){e.negative=0;var o=this.iadd(e);return e.negative=1,o._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var u=this.cmp(e);if(u===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,p;u>0?(l=this,p=e):(l=e,p=this);for(var w=0,A=0;A<p.length;A++)o=(l.words[A]|0)-(p.words[A]|0)+w,w=o>>26,this.words[A]=o&67108863;for(;w!==0&&A<l.length;A++)o=(l.words[A]|0)+w,w=o>>26,this.words[A]=o&67108863;if(w===0&&A<l.length&&l!==this)for(;A<l.length;A++)this.words[A]=l.words[A];return this.length=Math.max(this.length,A),l!==this&&(this.negative=1),this.strip()},a.prototype.sub=function(e){return this.clone().isub(e)};function ft(m,e,o){o.negative=e.negative^m.negative;var u=m.length+e.length|0;o.length=u,u=u-1|0;var l=m.words[0]|0,p=e.words[0]|0,w=l*p,A=w&67108863,h=w/67108864|0;o.words[0]=A;for(var n=1;n<u;n++){for(var d=h>>>26,q=h&67108863,N=Math.min(n,e.length-1),$=Math.max(0,n-m.length+1);$<=N;$++){var k=n-$|0;l=m.words[k]|0,p=e.words[$]|0,w=l*p+q,d+=w/67108864|0,q=w&67108863}o.words[n]=q|0,h=d|0}return h!==0?o.words[n]=h|0:o.length--,o.strip()}var tt=function(e,o,u){var l=e.words,p=o.words,w=u.words,A=0,h,n,d,q=l[0]|0,N=q&8191,$=q>>>13,k=l[1]|0,F=k&8191,ct=k>>>13,mt=l[2]|0,ot=mt&8191,yt=mt>>>13,St=l[3]|0,Et=St&8191,et=St>>>13,at=l[4]|0,ht=at&8191,Mt=at>>>13,jt=l[5]|0,Nt=jt&8191,$t=jt>>>13,_e=l[6]|0,Qt=_e&8191,ee=_e>>>13,je=l[7]|0,ie=je&8191,re=je>>>13,Ue=l[8]|0,te=Ue&8191,fe=Ue>>>13,Je=l[9]|0,he=Je&8191,Wt=Je>>>13,Re=p[0]|0,H=Re&8191,j=Re>>>13,Kt=p[1]|0,At=Kt&8191,Ct=Kt>>>13,Ut=p[2]|0,ne=Ut&8191,ce=Ut>>>13,Ie=p[3]|0,le=Ie&8191,xe=Ie>>>13,Pe=p[4]|0,Zt=Pe&8191,de=Pe>>>13,nr=p[5]|0,me=nr&8191,ye=nr>>>13,sr=p[6]|0,Ft=sr&8191,ve=sr>>>13,c=p[7]|0,g=c&8191,y=c>>>13,i=p[8]|0,x=i&8191,R=i>>>13,D=p[9]|0,G=D&8191,rt=D>>>13;u.negative=e.negative^o.negative,u.length=19,h=Math.imul(N,H),n=Math.imul(N,j),n=n+Math.imul($,H)|0,d=Math.imul($,j);var vt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,h=Math.imul(F,H),n=Math.imul(F,j),n=n+Math.imul(ct,H)|0,d=Math.imul(ct,j),h=h+Math.imul(N,At)|0,n=n+Math.imul(N,Ct)|0,n=n+Math.imul($,At)|0,d=d+Math.imul($,Ct)|0;var lt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(lt>>>26)|0,lt&=67108863,h=Math.imul(ot,H),n=Math.imul(ot,j),n=n+Math.imul(yt,H)|0,d=Math.imul(yt,j),h=h+Math.imul(F,At)|0,n=n+Math.imul(F,Ct)|0,n=n+Math.imul(ct,At)|0,d=d+Math.imul(ct,Ct)|0,h=h+Math.imul(N,ne)|0,n=n+Math.imul(N,ce)|0,n=n+Math.imul($,ne)|0,d=d+Math.imul($,ce)|0;var Gt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,h=Math.imul(Et,H),n=Math.imul(Et,j),n=n+Math.imul(et,H)|0,d=Math.imul(et,j),h=h+Math.imul(ot,At)|0,n=n+Math.imul(ot,Ct)|0,n=n+Math.imul(yt,At)|0,d=d+Math.imul(yt,Ct)|0,h=h+Math.imul(F,ne)|0,n=n+Math.imul(F,ce)|0,n=n+Math.imul(ct,ne)|0,d=d+Math.imul(ct,ce)|0,h=h+Math.imul(N,le)|0,n=n+Math.imul(N,xe)|0,n=n+Math.imul($,le)|0,d=d+Math.imul($,xe)|0;var pt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(pt>>>26)|0,pt&=67108863,h=Math.imul(ht,H),n=Math.imul(ht,j),n=n+Math.imul(Mt,H)|0,d=Math.imul(Mt,j),h=h+Math.imul(Et,At)|0,n=n+Math.imul(Et,Ct)|0,n=n+Math.imul(et,At)|0,d=d+Math.imul(et,Ct)|0,h=h+Math.imul(ot,ne)|0,n=n+Math.imul(ot,ce)|0,n=n+Math.imul(yt,ne)|0,d=d+Math.imul(yt,ce)|0,h=h+Math.imul(F,le)|0,n=n+Math.imul(F,xe)|0,n=n+Math.imul(ct,le)|0,d=d+Math.imul(ct,xe)|0,h=h+Math.imul(N,Zt)|0,n=n+Math.imul(N,de)|0,n=n+Math.imul($,Zt)|0,d=d+Math.imul($,de)|0;var Ot=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,h=Math.imul(Nt,H),n=Math.imul(Nt,j),n=n+Math.imul($t,H)|0,d=Math.imul($t,j),h=h+Math.imul(ht,At)|0,n=n+Math.imul(ht,Ct)|0,n=n+Math.imul(Mt,At)|0,d=d+Math.imul(Mt,Ct)|0,h=h+Math.imul(Et,ne)|0,n=n+Math.imul(Et,ce)|0,n=n+Math.imul(et,ne)|0,d=d+Math.imul(et,ce)|0,h=h+Math.imul(ot,le)|0,n=n+Math.imul(ot,xe)|0,n=n+Math.imul(yt,le)|0,d=d+Math.imul(yt,xe)|0,h=h+Math.imul(F,Zt)|0,n=n+Math.imul(F,de)|0,n=n+Math.imul(ct,Zt)|0,d=d+Math.imul(ct,de)|0,h=h+Math.imul(N,me)|0,n=n+Math.imul(N,ye)|0,n=n+Math.imul($,me)|0,d=d+Math.imul($,ye)|0;var It=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(It>>>26)|0,It&=67108863,h=Math.imul(Qt,H),n=Math.imul(Qt,j),n=n+Math.imul(ee,H)|0,d=Math.imul(ee,j),h=h+Math.imul(Nt,At)|0,n=n+Math.imul(Nt,Ct)|0,n=n+Math.imul($t,At)|0,d=d+Math.imul($t,Ct)|0,h=h+Math.imul(ht,ne)|0,n=n+Math.imul(ht,ce)|0,n=n+Math.imul(Mt,ne)|0,d=d+Math.imul(Mt,ce)|0,h=h+Math.imul(Et,le)|0,n=n+Math.imul(Et,xe)|0,n=n+Math.imul(et,le)|0,d=d+Math.imul(et,xe)|0,h=h+Math.imul(ot,Zt)|0,n=n+Math.imul(ot,de)|0,n=n+Math.imul(yt,Zt)|0,d=d+Math.imul(yt,de)|0,h=h+Math.imul(F,me)|0,n=n+Math.imul(F,ye)|0,n=n+Math.imul(ct,me)|0,d=d+Math.imul(ct,ye)|0,h=h+Math.imul(N,Ft)|0,n=n+Math.imul(N,ve)|0,n=n+Math.imul($,Ft)|0,d=d+Math.imul($,ve)|0;var kt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,h=Math.imul(ie,H),n=Math.imul(ie,j),n=n+Math.imul(re,H)|0,d=Math.imul(re,j),h=h+Math.imul(Qt,At)|0,n=n+Math.imul(Qt,Ct)|0,n=n+Math.imul(ee,At)|0,d=d+Math.imul(ee,Ct)|0,h=h+Math.imul(Nt,ne)|0,n=n+Math.imul(Nt,ce)|0,n=n+Math.imul($t,ne)|0,d=d+Math.imul($t,ce)|0,h=h+Math.imul(ht,le)|0,n=n+Math.imul(ht,xe)|0,n=n+Math.imul(Mt,le)|0,d=d+Math.imul(Mt,xe)|0,h=h+Math.imul(Et,Zt)|0,n=n+Math.imul(Et,de)|0,n=n+Math.imul(et,Zt)|0,d=d+Math.imul(et,de)|0,h=h+Math.imul(ot,me)|0,n=n+Math.imul(ot,ye)|0,n=n+Math.imul(yt,me)|0,d=d+Math.imul(yt,ye)|0,h=h+Math.imul(F,Ft)|0,n=n+Math.imul(F,ve)|0,n=n+Math.imul(ct,Ft)|0,d=d+Math.imul(ct,ve)|0,h=h+Math.imul(N,g)|0,n=n+Math.imul(N,y)|0,n=n+Math.imul($,g)|0,d=d+Math.imul($,y)|0;var Ht=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,h=Math.imul(te,H),n=Math.imul(te,j),n=n+Math.imul(fe,H)|0,d=Math.imul(fe,j),h=h+Math.imul(ie,At)|0,n=n+Math.imul(ie,Ct)|0,n=n+Math.imul(re,At)|0,d=d+Math.imul(re,Ct)|0,h=h+Math.imul(Qt,ne)|0,n=n+Math.imul(Qt,ce)|0,n=n+Math.imul(ee,ne)|0,d=d+Math.imul(ee,ce)|0,h=h+Math.imul(Nt,le)|0,n=n+Math.imul(Nt,xe)|0,n=n+Math.imul($t,le)|0,d=d+Math.imul($t,xe)|0,h=h+Math.imul(ht,Zt)|0,n=n+Math.imul(ht,de)|0,n=n+Math.imul(Mt,Zt)|0,d=d+Math.imul(Mt,de)|0,h=h+Math.imul(Et,me)|0,n=n+Math.imul(Et,ye)|0,n=n+Math.imul(et,me)|0,d=d+Math.imul(et,ye)|0,h=h+Math.imul(ot,Ft)|0,n=n+Math.imul(ot,ve)|0,n=n+Math.imul(yt,Ft)|0,d=d+Math.imul(yt,ve)|0,h=h+Math.imul(F,g)|0,n=n+Math.imul(F,y)|0,n=n+Math.imul(ct,g)|0,d=d+Math.imul(ct,y)|0,h=h+Math.imul(N,x)|0,n=n+Math.imul(N,R)|0,n=n+Math.imul($,x)|0,d=d+Math.imul($,R)|0;var Pt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,h=Math.imul(he,H),n=Math.imul(he,j),n=n+Math.imul(Wt,H)|0,d=Math.imul(Wt,j),h=h+Math.imul(te,At)|0,n=n+Math.imul(te,Ct)|0,n=n+Math.imul(fe,At)|0,d=d+Math.imul(fe,Ct)|0,h=h+Math.imul(ie,ne)|0,n=n+Math.imul(ie,ce)|0,n=n+Math.imul(re,ne)|0,d=d+Math.imul(re,ce)|0,h=h+Math.imul(Qt,le)|0,n=n+Math.imul(Qt,xe)|0,n=n+Math.imul(ee,le)|0,d=d+Math.imul(ee,xe)|0,h=h+Math.imul(Nt,Zt)|0,n=n+Math.imul(Nt,de)|0,n=n+Math.imul($t,Zt)|0,d=d+Math.imul($t,de)|0,h=h+Math.imul(ht,me)|0,n=n+Math.imul(ht,ye)|0,n=n+Math.imul(Mt,me)|0,d=d+Math.imul(Mt,ye)|0,h=h+Math.imul(Et,Ft)|0,n=n+Math.imul(Et,ve)|0,n=n+Math.imul(et,Ft)|0,d=d+Math.imul(et,ve)|0,h=h+Math.imul(ot,g)|0,n=n+Math.imul(ot,y)|0,n=n+Math.imul(yt,g)|0,d=d+Math.imul(yt,y)|0,h=h+Math.imul(F,x)|0,n=n+Math.imul(F,R)|0,n=n+Math.imul(ct,x)|0,d=d+Math.imul(ct,R)|0,h=h+Math.imul(N,G)|0,n=n+Math.imul(N,rt)|0,n=n+Math.imul($,G)|0,d=d+Math.imul($,rt)|0;var Rt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,h=Math.imul(he,At),n=Math.imul(he,Ct),n=n+Math.imul(Wt,At)|0,d=Math.imul(Wt,Ct),h=h+Math.imul(te,ne)|0,n=n+Math.imul(te,ce)|0,n=n+Math.imul(fe,ne)|0,d=d+Math.imul(fe,ce)|0,h=h+Math.imul(ie,le)|0,n=n+Math.imul(ie,xe)|0,n=n+Math.imul(re,le)|0,d=d+Math.imul(re,xe)|0,h=h+Math.imul(Qt,Zt)|0,n=n+Math.imul(Qt,de)|0,n=n+Math.imul(ee,Zt)|0,d=d+Math.imul(ee,de)|0,h=h+Math.imul(Nt,me)|0,n=n+Math.imul(Nt,ye)|0,n=n+Math.imul($t,me)|0,d=d+Math.imul($t,ye)|0,h=h+Math.imul(ht,Ft)|0,n=n+Math.imul(ht,ve)|0,n=n+Math.imul(Mt,Ft)|0,d=d+Math.imul(Mt,ve)|0,h=h+Math.imul(Et,g)|0,n=n+Math.imul(Et,y)|0,n=n+Math.imul(et,g)|0,d=d+Math.imul(et,y)|0,h=h+Math.imul(ot,x)|0,n=n+Math.imul(ot,R)|0,n=n+Math.imul(yt,x)|0,d=d+Math.imul(yt,R)|0,h=h+Math.imul(F,G)|0,n=n+Math.imul(F,rt)|0,n=n+Math.imul(ct,G)|0,d=d+Math.imul(ct,rt)|0;var Lt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,h=Math.imul(he,ne),n=Math.imul(he,ce),n=n+Math.imul(Wt,ne)|0,d=Math.imul(Wt,ce),h=h+Math.imul(te,le)|0,n=n+Math.imul(te,xe)|0,n=n+Math.imul(fe,le)|0,d=d+Math.imul(fe,xe)|0,h=h+Math.imul(ie,Zt)|0,n=n+Math.imul(ie,de)|0,n=n+Math.imul(re,Zt)|0,d=d+Math.imul(re,de)|0,h=h+Math.imul(Qt,me)|0,n=n+Math.imul(Qt,ye)|0,n=n+Math.imul(ee,me)|0,d=d+Math.imul(ee,ye)|0,h=h+Math.imul(Nt,Ft)|0,n=n+Math.imul(Nt,ve)|0,n=n+Math.imul($t,Ft)|0,d=d+Math.imul($t,ve)|0,h=h+Math.imul(ht,g)|0,n=n+Math.imul(ht,y)|0,n=n+Math.imul(Mt,g)|0,d=d+Math.imul(Mt,y)|0,h=h+Math.imul(Et,x)|0,n=n+Math.imul(Et,R)|0,n=n+Math.imul(et,x)|0,d=d+Math.imul(et,R)|0,h=h+Math.imul(ot,G)|0,n=n+Math.imul(ot,rt)|0,n=n+Math.imul(yt,G)|0,d=d+Math.imul(yt,rt)|0;var bt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,h=Math.imul(he,le),n=Math.imul(he,xe),n=n+Math.imul(Wt,le)|0,d=Math.imul(Wt,xe),h=h+Math.imul(te,Zt)|0,n=n+Math.imul(te,de)|0,n=n+Math.imul(fe,Zt)|0,d=d+Math.imul(fe,de)|0,h=h+Math.imul(ie,me)|0,n=n+Math.imul(ie,ye)|0,n=n+Math.imul(re,me)|0,d=d+Math.imul(re,ye)|0,h=h+Math.imul(Qt,Ft)|0,n=n+Math.imul(Qt,ve)|0,n=n+Math.imul(ee,Ft)|0,d=d+Math.imul(ee,ve)|0,h=h+Math.imul(Nt,g)|0,n=n+Math.imul(Nt,y)|0,n=n+Math.imul($t,g)|0,d=d+Math.imul($t,y)|0,h=h+Math.imul(ht,x)|0,n=n+Math.imul(ht,R)|0,n=n+Math.imul(Mt,x)|0,d=d+Math.imul(Mt,R)|0,h=h+Math.imul(Et,G)|0,n=n+Math.imul(Et,rt)|0,n=n+Math.imul(et,G)|0,d=d+Math.imul(et,rt)|0;var Bt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,h=Math.imul(he,Zt),n=Math.imul(he,de),n=n+Math.imul(Wt,Zt)|0,d=Math.imul(Wt,de),h=h+Math.imul(te,me)|0,n=n+Math.imul(te,ye)|0,n=n+Math.imul(fe,me)|0,d=d+Math.imul(fe,ye)|0,h=h+Math.imul(ie,Ft)|0,n=n+Math.imul(ie,ve)|0,n=n+Math.imul(re,Ft)|0,d=d+Math.imul(re,ve)|0,h=h+Math.imul(Qt,g)|0,n=n+Math.imul(Qt,y)|0,n=n+Math.imul(ee,g)|0,d=d+Math.imul(ee,y)|0,h=h+Math.imul(Nt,x)|0,n=n+Math.imul(Nt,R)|0,n=n+Math.imul($t,x)|0,d=d+Math.imul($t,R)|0,h=h+Math.imul(ht,G)|0,n=n+Math.imul(ht,rt)|0,n=n+Math.imul(Mt,G)|0,d=d+Math.imul(Mt,rt)|0;var gt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(gt>>>26)|0,gt&=67108863,h=Math.imul(he,me),n=Math.imul(he,ye),n=n+Math.imul(Wt,me)|0,d=Math.imul(Wt,ye),h=h+Math.imul(te,Ft)|0,n=n+Math.imul(te,ve)|0,n=n+Math.imul(fe,Ft)|0,d=d+Math.imul(fe,ve)|0,h=h+Math.imul(ie,g)|0,n=n+Math.imul(ie,y)|0,n=n+Math.imul(re,g)|0,d=d+Math.imul(re,y)|0,h=h+Math.imul(Qt,x)|0,n=n+Math.imul(Qt,R)|0,n=n+Math.imul(ee,x)|0,d=d+Math.imul(ee,R)|0,h=h+Math.imul(Nt,G)|0,n=n+Math.imul(Nt,rt)|0,n=n+Math.imul($t,G)|0,d=d+Math.imul($t,rt)|0;var wt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,h=Math.imul(he,Ft),n=Math.imul(he,ve),n=n+Math.imul(Wt,Ft)|0,d=Math.imul(Wt,ve),h=h+Math.imul(te,g)|0,n=n+Math.imul(te,y)|0,n=n+Math.imul(fe,g)|0,d=d+Math.imul(fe,y)|0,h=h+Math.imul(ie,x)|0,n=n+Math.imul(ie,R)|0,n=n+Math.imul(re,x)|0,d=d+Math.imul(re,R)|0,h=h+Math.imul(Qt,G)|0,n=n+Math.imul(Qt,rt)|0,n=n+Math.imul(ee,G)|0,d=d+Math.imul(ee,rt)|0;var _t=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(_t>>>26)|0,_t&=67108863,h=Math.imul(he,g),n=Math.imul(he,y),n=n+Math.imul(Wt,g)|0,d=Math.imul(Wt,y),h=h+Math.imul(te,x)|0,n=n+Math.imul(te,R)|0,n=n+Math.imul(fe,x)|0,d=d+Math.imul(fe,R)|0,h=h+Math.imul(ie,G)|0,n=n+Math.imul(ie,rt)|0,n=n+Math.imul(re,G)|0,d=d+Math.imul(re,rt)|0;var dt=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(dt>>>26)|0,dt&=67108863,h=Math.imul(he,x),n=Math.imul(he,R),n=n+Math.imul(Wt,x)|0,d=Math.imul(Wt,R),h=h+Math.imul(te,G)|0,n=n+Math.imul(te,rt)|0,n=n+Math.imul(fe,G)|0,d=d+Math.imul(fe,rt)|0;var W=(A+h|0)+((n&8191)<<13)|0;A=(d+(n>>>13)|0)+(W>>>26)|0,W&=67108863,h=Math.imul(he,G),n=Math.imul(he,rt),n=n+Math.imul(Wt,G)|0,d=Math.imul(Wt,rt);var Z=(A+h|0)+((n&8191)<<13)|0;return A=(d+(n>>>13)|0)+(Z>>>26)|0,Z&=67108863,w[0]=vt,w[1]=lt,w[2]=Gt,w[3]=pt,w[4]=Ot,w[5]=It,w[6]=kt,w[7]=Ht,w[8]=Pt,w[9]=Rt,w[10]=Lt,w[11]=bt,w[12]=Bt,w[13]=gt,w[14]=wt,w[15]=_t,w[16]=dt,w[17]=W,w[18]=Z,A!==0&&(w[19]=A,u.length++),u};Math.imul||(tt=ft);function P(m,e,o){o.negative=e.negative^m.negative,o.length=m.length+e.length;for(var u=0,l=0,p=0;p<o.length-1;p++){var w=l;l=0;for(var A=u&67108863,h=Math.min(p,e.length-1),n=Math.max(0,p-m.length+1);n<=h;n++){var d=p-n,q=m.words[d]|0,N=e.words[n]|0,$=q*N,k=$&67108863;w=w+($/67108864|0)|0,k=k+A|0,A=k&67108863,w=w+(k>>>26)|0,l+=w>>>26,w&=67108863}o.words[p]=A,u=w,w=l}return u!==0?o.words[p]=u:o.length--,o.strip()}function X(m,e,o){var u=new T;return u.mulp(m,e,o)}a.prototype.mulTo=function(e,o){var u,l=this.length+e.length;return this.length===10&&e.length===10?u=tt(this,e,o):l<63?u=ft(this,e,o):l<1024?u=P(this,e,o):u=X(this,e,o),u};function T(m,e){this.x=m,this.y=e}T.prototype.makeRBT=function(e){for(var o=new Array(e),u=a.prototype._countBits(e)-1,l=0;l<e;l++)o[l]=this.revBin(l,u,e);return o},T.prototype.revBin=function(e,o,u){if(e===0||e===u-1)return e;for(var l=0,p=0;p<o;p++)l|=(e&1)<<o-p-1,e>>=1;return l},T.prototype.permute=function(e,o,u,l,p,w){for(var A=0;A<w;A++)l[A]=o[e[A]],p[A]=u[e[A]]},T.prototype.transform=function(e,o,u,l,p,w){this.permute(w,e,o,u,l,p);for(var A=1;A<p;A<<=1)for(var h=A<<1,n=Math.cos(2*Math.PI/h),d=Math.sin(2*Math.PI/h),q=0;q<p;q+=h)for(var N=n,$=d,k=0;k<A;k++){var F=u[q+k],ct=l[q+k],mt=u[q+k+A],ot=l[q+k+A],yt=N*mt-$*ot;ot=N*ot+$*mt,mt=yt,u[q+k]=F+mt,l[q+k]=ct+ot,u[q+k+A]=F-mt,l[q+k+A]=ct-ot,k!==h&&(yt=n*N-d*$,$=n*$+d*N,N=yt)}},T.prototype.guessLen13b=function(e,o){var u=Math.max(o,e)|1,l=u&1,p=0;for(u=u/2|0;u;u=u>>>1)p++;return 1<<p+1+l},T.prototype.conjugate=function(e,o,u){if(!(u<=1))for(var l=0;l<u/2;l++){var p=e[l];e[l]=e[u-l-1],e[u-l-1]=p,p=o[l],o[l]=-o[u-l-1],o[u-l-1]=-p}},T.prototype.normalize13b=function(e,o){for(var u=0,l=0;l<o/2;l++){var p=Math.round(e[2*l+1]/o)*8192+Math.round(e[2*l]/o)+u;e[l]=p&67108863,p<67108864?u=0:u=p/67108864|0}return e},T.prototype.convert13b=function(e,o,u,l){for(var p=0,w=0;w<o;w++)p=p+(e[w]|0),u[2*w]=p&8191,p=p>>>13,u[2*w+1]=p&8191,p=p>>>13;for(w=2*o;w<l;++w)u[w]=0;s(p===0),s((p&-8192)===0)},T.prototype.stub=function(e){for(var o=new Array(e),u=0;u<e;u++)o[u]=0;return o},T.prototype.mulp=function(e,o,u){var l=2*this.guessLen13b(e.length,o.length),p=this.makeRBT(l),w=this.stub(l),A=new Array(l),h=new Array(l),n=new Array(l),d=new Array(l),q=new Array(l),N=new Array(l),$=u.words;$.length=l,this.convert13b(e.words,e.length,A,l),this.convert13b(o.words,o.length,d,l),this.transform(A,w,h,n,l,p),this.transform(d,w,q,N,l,p);for(var k=0;k<l;k++){var F=h[k]*q[k]-n[k]*N[k];n[k]=h[k]*N[k]+n[k]*q[k],h[k]=F}return this.conjugate(h,n,l),this.transform(h,n,$,w,l,p),this.conjugate($,w,l),this.normalize13b($,l),u.negative=e.negative^o.negative,u.length=e.length+o.length,u.strip()},a.prototype.mul=function(e){var o=new a(null);return o.words=new Array(this.length+e.length),this.mulTo(e,o)},a.prototype.mulf=function(e){var o=new a(null);return o.words=new Array(this.length+e.length),X(this,e,o)},a.prototype.imul=function(e){return this.clone().mulTo(e,this)},a.prototype.imuln=function(e){s(typeof e=="number"),s(e<67108864);for(var o=0,u=0;u<this.length;u++){var l=(this.words[u]|0)*e,p=(l&67108863)+(o&67108863);o>>=26,o+=l/67108864|0,o+=p>>>26,this.words[u]=p&67108863}return o!==0&&(this.words[u]=o,this.length++),this},a.prototype.muln=function(e){return this.clone().imuln(e)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(e){var o=V(e);if(o.length===0)return new a(1);for(var u=this,l=0;l<o.length&&o[l]===0;l++,u=u.sqr());if(++l<o.length)for(var p=u.sqr();l<o.length;l++,p=p.sqr())o[l]!==0&&(u=u.mul(p));return u},a.prototype.iushln=function(e){s(typeof e=="number"&&e>=0);var o=e%26,u=(e-o)/26,l=67108863>>>26-o<<26-o,p;if(o!==0){var w=0;for(p=0;p<this.length;p++){var A=this.words[p]&l,h=(this.words[p]|0)-A<<o;this.words[p]=h|w,w=A>>>26-o}w&&(this.words[p]=w,this.length++)}if(u!==0){for(p=this.length-1;p>=0;p--)this.words[p+u]=this.words[p];for(p=0;p<u;p++)this.words[p]=0;this.length+=u}return this.strip()},a.prototype.ishln=function(e){return s(this.negative===0),this.iushln(e)},a.prototype.iushrn=function(e,o,u){s(typeof e=="number"&&e>=0);var l;o?l=(o-o%26)/26:l=0;var p=e%26,w=Math.min((e-p)/26,this.length),A=67108863^67108863>>>p<<p,h=u;if(l-=w,l=Math.max(0,l),h){for(var n=0;n<w;n++)h.words[n]=this.words[n];h.length=w}if(w!==0)if(this.length>w)for(this.length-=w,n=0;n<this.length;n++)this.words[n]=this.words[n+w];else this.words[0]=0,this.length=1;var d=0;for(n=this.length-1;n>=0&&(d!==0||n>=l);n--){var q=this.words[n]|0;this.words[n]=d<<26-p|q>>>p,d=q&A}return h&&d!==0&&(h.words[h.length++]=d),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(e,o,u){return s(this.negative===0),this.iushrn(e,o,u)},a.prototype.shln=function(e){return this.clone().ishln(e)},a.prototype.ushln=function(e){return this.clone().iushln(e)},a.prototype.shrn=function(e){return this.clone().ishrn(e)},a.prototype.ushrn=function(e){return this.clone().iushrn(e)},a.prototype.testn=function(e){s(typeof e=="number"&&e>=0);var o=e%26,u=(e-o)/26,l=1<<o;if(this.length<=u)return!1;var p=this.words[u];return!!(p&l)},a.prototype.imaskn=function(e){s(typeof e=="number"&&e>=0);var o=e%26,u=(e-o)/26;if(s(this.negative===0,"imaskn works only with positive numbers"),this.length<=u)return this;if(o!==0&&u++,this.length=Math.min(u,this.length),o!==0){var l=67108863^67108863>>>o<<o;this.words[this.length-1]&=l}return this.strip()},a.prototype.maskn=function(e){return this.clone().imaskn(e)},a.prototype.iaddn=function(e){return s(typeof e=="number"),s(e<67108864),e<0?this.isubn(-e):this.negative!==0?this.length===1&&(this.words[0]|0)<e?(this.words[0]=e-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},a.prototype._iaddn=function(e){this.words[0]+=e;for(var o=0;o<this.length&&this.words[o]>=67108864;o++)this.words[o]-=67108864,o===this.length-1?this.words[o+1]=1:this.words[o+1]++;return this.length=Math.max(this.length,o+1),this},a.prototype.isubn=function(e){if(s(typeof e=="number"),s(e<67108864),e<0)return this.iaddn(-e);if(this.negative!==0)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var o=0;o<this.length&&this.words[o]<0;o++)this.words[o]+=67108864,this.words[o+1]-=1;return this.strip()},a.prototype.addn=function(e){return this.clone().iaddn(e)},a.prototype.subn=function(e){return this.clone().isubn(e)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(e,o,u){var l=e.length+u,p;this._expand(l);var w,A=0;for(p=0;p<e.length;p++){w=(this.words[p+u]|0)+A;var h=(e.words[p]|0)*o;w-=h&67108863,A=(w>>26)-(h/67108864|0),this.words[p+u]=w&67108863}for(;p<this.length-u;p++)w=(this.words[p+u]|0)+A,A=w>>26,this.words[p+u]=w&67108863;if(A===0)return this.strip();for(s(A===-1),A=0,p=0;p<this.length;p++)w=-(this.words[p]|0)+A,A=w>>26,this.words[p]=w&67108863;return this.negative=1,this.strip()},a.prototype._wordDiv=function(e,o){var u=this.length-e.length,l=this.clone(),p=e,w=p.words[p.length-1]|0,A=this._countBits(w);u=26-A,u!==0&&(p=p.ushln(u),l.iushln(u),w=p.words[p.length-1]|0);var h=l.length-p.length,n;if(o!=="mod"){n=new a(null),n.length=h+1,n.words=new Array(n.length);for(var d=0;d<n.length;d++)n.words[d]=0}var q=l.clone()._ishlnsubmul(p,1,h);q.negative===0&&(l=q,n&&(n.words[h]=1));for(var N=h-1;N>=0;N--){var $=(l.words[p.length+N]|0)*67108864+(l.words[p.length+N-1]|0);for($=Math.min($/w|0,67108863),l._ishlnsubmul(p,$,N);l.negative!==0;)$--,l.negative=0,l._ishlnsubmul(p,1,N),l.isZero()||(l.negative^=1);n&&(n.words[N]=$)}return n&&n.strip(),l.strip(),o!=="div"&&u!==0&&l.iushrn(u),{div:n||null,mod:l}},a.prototype.divmod=function(e,o,u){if(s(!e.isZero()),this.isZero())return{div:new a(0),mod:new a(0)};var l,p,w;return this.negative!==0&&e.negative===0?(w=this.neg().divmod(e,o),o!=="mod"&&(l=w.div.neg()),o!=="div"&&(p=w.mod.neg(),u&&p.negative!==0&&p.iadd(e)),{div:l,mod:p}):this.negative===0&&e.negative!==0?(w=this.divmod(e.neg(),o),o!=="mod"&&(l=w.div.neg()),{div:l,mod:w.mod}):this.negative&e.negative?(w=this.neg().divmod(e.neg(),o),o!=="div"&&(p=w.mod.neg(),u&&p.negative!==0&&p.isub(e)),{div:w.div,mod:p}):e.length>this.length||this.cmp(e)<0?{div:new a(0),mod:this}:e.length===1?o==="div"?{div:this.divn(e.words[0]),mod:null}:o==="mod"?{div:null,mod:new a(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new a(this.modn(e.words[0]))}:this._wordDiv(e,o)},a.prototype.div=function(e){return this.divmod(e,"div",!1).div},a.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},a.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},a.prototype.divRound=function(e){var o=this.divmod(e);if(o.mod.isZero())return o.div;var u=o.div.negative!==0?o.mod.isub(e):o.mod,l=e.ushrn(1),p=e.andln(1),w=u.cmp(l);return w<0||p===1&&w===0?o.div:o.div.negative!==0?o.div.isubn(1):o.div.iaddn(1)},a.prototype.modn=function(e){s(e<=67108863);for(var o=(1<<26)%e,u=0,l=this.length-1;l>=0;l--)u=(o*u+(this.words[l]|0))%e;return u},a.prototype.idivn=function(e){s(e<=67108863);for(var o=0,u=this.length-1;u>=0;u--){var l=(this.words[u]|0)+o*67108864;this.words[u]=l/e|0,o=l%e}return this.strip()},a.prototype.divn=function(e){return this.clone().idivn(e)},a.prototype.egcd=function(e){s(e.negative===0),s(!e.isZero());var o=this,u=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var l=new a(1),p=new a(0),w=new a(0),A=new a(1),h=0;o.isEven()&&u.isEven();)o.iushrn(1),u.iushrn(1),++h;for(var n=u.clone(),d=o.clone();!o.isZero();){for(var q=0,N=1;!(o.words[0]&N)&&q<26;++q,N<<=1);if(q>0)for(o.iushrn(q);q-- >0;)(l.isOdd()||p.isOdd())&&(l.iadd(n),p.isub(d)),l.iushrn(1),p.iushrn(1);for(var $=0,k=1;!(u.words[0]&k)&&$<26;++$,k<<=1);if($>0)for(u.iushrn($);$-- >0;)(w.isOdd()||A.isOdd())&&(w.iadd(n),A.isub(d)),w.iushrn(1),A.iushrn(1);o.cmp(u)>=0?(o.isub(u),l.isub(w),p.isub(A)):(u.isub(o),w.isub(l),A.isub(p))}return{a:w,b:A,gcd:u.iushln(h)}},a.prototype._invmp=function(e){s(e.negative===0),s(!e.isZero());var o=this,u=e.clone();o.negative!==0?o=o.umod(e):o=o.clone();for(var l=new a(1),p=new a(0),w=u.clone();o.cmpn(1)>0&&u.cmpn(1)>0;){for(var A=0,h=1;!(o.words[0]&h)&&A<26;++A,h<<=1);if(A>0)for(o.iushrn(A);A-- >0;)l.isOdd()&&l.iadd(w),l.iushrn(1);for(var n=0,d=1;!(u.words[0]&d)&&n<26;++n,d<<=1);if(n>0)for(u.iushrn(n);n-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);o.cmp(u)>=0?(o.isub(u),l.isub(p)):(u.isub(o),p.isub(l))}var q;return o.cmpn(1)===0?q=l:q=p,q.cmpn(0)<0&&q.iadd(e),q},a.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),u=e.clone();o.negative=0,u.negative=0;for(var l=0;o.isEven()&&u.isEven();l++)o.iushrn(1),u.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;u.isEven();)u.iushrn(1);var p=o.cmp(u);if(p<0){var w=o;o=u,u=w}else if(p===0||u.cmpn(1)===0)break;o.isub(u)}while(!0);return u.iushln(l)},a.prototype.invm=function(e){return this.egcd(e).a.umod(e)},a.prototype.isEven=function(){return(this.words[0]&1)===0},a.prototype.isOdd=function(){return(this.words[0]&1)===1},a.prototype.andln=function(e){return this.words[0]&e},a.prototype.bincn=function(e){s(typeof e=="number");var o=e%26,u=(e-o)/26,l=1<<o;if(this.length<=u)return this._expand(u+1),this.words[u]|=l,this;for(var p=l,w=u;p!==0&&w<this.length;w++){var A=this.words[w]|0;A+=p,p=A>>>26,A&=67108863,this.words[w]=A}return p!==0&&(this.words[w]=p,this.length++),this},a.prototype.isZero=function(){return this.length===1&&this.words[0]===0},a.prototype.cmpn=function(e){var o=e<0;if(this.negative!==0&&!o)return-1;if(this.negative===0&&o)return 1;this.strip();var u;if(this.length>1)u=1;else{o&&(e=-e),s(e<=67108863,"Number is too big");var l=this.words[0]|0;u=l===e?0:l<e?-1:1}return this.negative!==0?-u|0:u},a.prototype.cmp=function(e){if(this.negative!==0&&e.negative===0)return-1;if(this.negative===0&&e.negative!==0)return 1;var o=this.ucmp(e);return this.negative!==0?-o|0:o},a.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var o=0,u=this.length-1;u>=0;u--){var l=this.words[u]|0,p=e.words[u]|0;if(l!==p){l<p?o=-1:l>p&&(o=1);break}}return o},a.prototype.gtn=function(e){return this.cmpn(e)===1},a.prototype.gt=function(e){return this.cmp(e)===1},a.prototype.gten=function(e){return this.cmpn(e)>=0},a.prototype.gte=function(e){return this.cmp(e)>=0},a.prototype.ltn=function(e){return this.cmpn(e)===-1},a.prototype.lt=function(e){return this.cmp(e)===-1},a.prototype.lten=function(e){return this.cmpn(e)<=0},a.prototype.lte=function(e){return this.cmp(e)<=0},a.prototype.eqn=function(e){return this.cmpn(e)===0},a.prototype.eq=function(e){return this.cmp(e)===0},a.red=function(e){return new K(e)},a.prototype.toRed=function(e){return s(!this.red,"Already a number in reduction context"),s(this.negative===0,"red works only with positives"),e.convertTo(this)._forceRed(e)},a.prototype.fromRed=function(){return s(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},a.prototype._forceRed=function(e){return this.red=e,this},a.prototype.forceRed=function(e){return s(!this.red,"Already a number in reduction context"),this._forceRed(e)},a.prototype.redAdd=function(e){return s(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},a.prototype.redIAdd=function(e){return s(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},a.prototype.redSub=function(e){return s(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},a.prototype.redISub=function(e){return s(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},a.prototype.redShl=function(e){return s(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},a.prototype.redMul=function(e){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},a.prototype.redIMul=function(e){return s(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},a.prototype.redSqr=function(){return s(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return s(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return s(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return s(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return s(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(e){return s(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var C={k256:null,p224:null,p192:null,p25519:null};function B(m,e){this.name=m,this.p=new a(e,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B.prototype._tmp=function(){var e=new a(null);return e.words=new Array(Math.ceil(this.n/13)),e},B.prototype.ireduce=function(e){var o=e,u;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),u=o.bitLength();while(u>this.n);var l=u<this.n?-1:o.ucmp(this.p);return l===0?(o.words[0]=0,o.length=1):l>0?o.isub(this.p):o.strip!==void 0?o.strip():o._strip(),o},B.prototype.split=function(e,o){e.iushrn(this.n,0,o)},B.prototype.imulK=function(e){return e.imul(this.k)};function _(){B.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}v(_,B),_.prototype.split=function(e,o){for(var u=4194303,l=Math.min(e.length,9),p=0;p<l;p++)o.words[p]=e.words[p];if(o.length=l,e.length<=9){e.words[0]=0,e.length=1;return}var w=e.words[9];for(o.words[o.length++]=w&u,p=10;p<e.length;p++){var A=e.words[p]|0;e.words[p-10]=(A&u)<<4|w>>>22,w=A}w>>>=22,e.words[p-10]=w,w===0&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var o=0,u=0;u<e.length;u++){var l=e.words[u]|0;o+=l*977,e.words[u]=o&67108863,o=l*64+(o/67108864|0)}return e.words[e.length-1]===0&&(e.length--,e.words[e.length-1]===0&&e.length--),e};function O(){B.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}v(O,B);function E(){B.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}v(E,B);function U(){B.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}v(U,B),U.prototype.imulK=function(e){for(var o=0,u=0;u<e.length;u++){var l=(e.words[u]|0)*19+o,p=l&67108863;l>>>=26,e.words[u]=p,o=l}return o!==0&&(e.words[e.length++]=o),e},a._prime=function(e){if(C[e])return C[e];var o;if(e==="k256")o=new _;else if(e==="p224")o=new O;else if(e==="p192")o=new E;else if(e==="p25519")o=new U;else throw new Error("Unknown prime "+e);return C[e]=o,o};function K(m){if(typeof m=="string"){var e=a._prime(m);this.m=e.p,this.prime=e}else s(m.gtn(1),"modulus must be greater than 1"),this.m=m,this.prime=null}K.prototype._verify1=function(e){s(e.negative===0,"red works only with positives"),s(e.red,"red works only with red numbers")},K.prototype._verify2=function(e,o){s((e.negative|o.negative)===0,"red works only with positives"),s(e.red&&e.red===o.red,"red works only with red numbers")},K.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},K.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},K.prototype.add=function(e,o){this._verify2(e,o);var u=e.add(o);return u.cmp(this.m)>=0&&u.isub(this.m),u._forceRed(this)},K.prototype.iadd=function(e,o){this._verify2(e,o);var u=e.iadd(o);return u.cmp(this.m)>=0&&u.isub(this.m),u},K.prototype.sub=function(e,o){this._verify2(e,o);var u=e.sub(o);return u.cmpn(0)<0&&u.iadd(this.m),u._forceRed(this)},K.prototype.isub=function(e,o){this._verify2(e,o);var u=e.isub(o);return u.cmpn(0)<0&&u.iadd(this.m),u},K.prototype.shl=function(e,o){return this._verify1(e),this.imod(e.ushln(o))},K.prototype.imul=function(e,o){return this._verify2(e,o),this.imod(e.imul(o))},K.prototype.mul=function(e,o){return this._verify2(e,o),this.imod(e.mul(o))},K.prototype.isqr=function(e){return this.imul(e,e.clone())},K.prototype.sqr=function(e){return this.mul(e,e)},K.prototype.sqrt=function(e){if(e.isZero())return e.clone();var o=this.m.andln(3);if(s(o%2===1),o===3){var u=this.m.add(new a(1)).iushrn(2);return this.pow(e,u)}for(var l=this.m.subn(1),p=0;!l.isZero()&&l.andln(1)===0;)p++,l.iushrn(1);s(!l.isZero());var w=new a(1).toRed(this),A=w.redNeg(),h=this.m.subn(1).iushrn(1),n=this.m.bitLength();for(n=new a(2*n*n).toRed(this);this.pow(n,h).cmp(A)!==0;)n.redIAdd(A);for(var d=this.pow(n,l),q=this.pow(e,l.addn(1).iushrn(1)),N=this.pow(e,l),$=p;N.cmp(w)!==0;){for(var k=N,F=0;k.cmp(w)!==0;F++)k=k.redSqr();s(F<$);var ct=this.pow(d,new a(1).iushln($-F-1));q=q.redMul(ct),d=ct.redSqr(),N=N.redMul(d),$=F}return q},K.prototype.invm=function(e){var o=e._invmp(this.m);return o.negative!==0?(o.negative=0,this.imod(o).redNeg()):this.imod(o)},K.prototype.pow=function(e,o){if(o.isZero())return new a(1).toRed(this);if(o.cmpn(1)===0)return e.clone();var u=4,l=new Array(1<<u);l[0]=new a(1).toRed(this),l[1]=e;for(var p=2;p<l.length;p++)l[p]=this.mul(l[p-1],e);var w=l[0],A=0,h=0,n=o.bitLength()%26;for(n===0&&(n=26),p=o.length-1;p>=0;p--){for(var d=o.words[p],q=n-1;q>=0;q--){var N=d>>q&1;if(w!==l[0]&&(w=this.sqr(w)),N===0&&A===0){h=0;continue}A<<=1,A|=N,h++,!(h!==u&&(p!==0||q!==0))&&(w=this.mul(w,l[A]),h=0,A=0)}n=26}return w},K.prototype.convertTo=function(e){var o=e.umod(this.m);return o===e?o.clone():o},K.prototype.convertFrom=function(e){var o=e.clone();return o.red=null,o},a.mont=function(e){return new z(e)};function z(m){K.call(this,m),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v(z,K),z.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},z.prototype.convertFrom=function(e){var o=this.imod(e.mul(this.rinv));return o.red=null,o},z.prototype.imul=function(e,o){if(e.isZero()||o.isZero())return e.words[0]=0,e.length=1,e;var u=e.imul(o),l=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=u.isub(l).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.mul=function(e,o){if(e.isZero()||o.isZero())return new a(0)._forceRed(this);var u=e.mul(o),l=u.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=u.isub(l).iushrn(this.shift),w=p;return p.cmp(this.m)>=0?w=p.isub(this.m):p.cmpn(0)<0&&(w=p.iadd(this.m)),w._forceRed(this)},z.prototype.invm=function(e){var o=this.imod(e._invmp(this.m).mul(this.r2));return o._forceRed(this)}})(t,ge)})(Wn);var ws=Wn.exports,_s=ge&&ge.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gr,"__esModule",{value:!0});gr.rawEncode=gr.parseNumber=gr.solidityPack=void 0;const dr=qr,yr=_s(ws),Es=Nn,nf=Oe;function Bs(t,r){if(t.length!==r.length)throw new Error("Number of types are not matching the values");const f=[];for(let s=0;s<t.length;s++){const v=of(t[s]),a=r[s];f.push(ff(v,a,null))}return xt.concat(f)}gr.solidityPack=Bs;function Fr(t){return t.endsWith("]")}function hn(t){const r=t.match(/(.*)\[(.*?)\]$/u);return r?r[2]===""?"dynamic":parseInt(r[2],10):null}function Mr(t){const r=/^\D+(\d+)$/u.exec(t);if(r===null)throw new Error(`Invalid parseTypeN input "${t}".`);return parseInt(r[1],10)}function lr(t){const r=typeof t;if(r==="string")return(0,dr.isHexPrefixed)(t)?new yr.default((0,Es.stripHexPrefix)(t),16):new yr.default(t,10);if(r==="number")return new yr.default(t);if(t&&Object.prototype.hasOwnProperty.call(t,"toArray")||yr.default.isBN(t))return t;throw new Error("Argument is not a number")}gr.parseNumber=lr;function ff(t,r,f){if(Fr(t)){const s=t.replace(/\[.*?\]/u,"");if(!Fr(s)){const a=hn(t);if(a!=="dynamic"&&a!==0&&a!==null&&r.length>a)throw new Error(`Elements exceed array size: ${a}`)}const v=r.map(a=>ff(s,a,256));return xt.concat(v)}else{if(t==="bytes")return r;if(t==="string")return xt.from(r,"utf8");if(t==="bool"){f=f||8;const s=Array(f/4).join("0");return xt.from(r?`${s}1`:`${s}0`,"hex")}else if(t==="address"){let s=20;return f&&(s=f/8),(0,dr.setLengthLeft)((0,dr.toBuffer)(r),s)}else if(t.startsWith("bytes")){const s=Mr(t);if(s<1||s>32)throw new Error(`Invalid bytes<N> width: ${s}`);return typeof r=="number"&&(r=(0,nf.normalize)(r)),(0,dr.setLengthRight)((0,dr.toBuffer)(r),s)}else if(t.startsWith("uint")){const s=Mr(t);if(s%8||s<8||s>256)throw new Error(`Invalid uint<N> width: ${s}`);const v=lr(r);if(v.bitLength()>s)throw new Error(`Supplied uint exceeds width: ${s} vs ${v.bitLength()}`);return f=f||s,v.toArrayLike(xt,"be",f/8)}else if(t.startsWith("int")){const s=Mr(t);if(s%8||s<8||s>256)throw new Error(`Invalid int<N> width: ${s}`);const v=lr(r);if(v.bitLength()>s)throw new Error(`Supplied int exceeds width: ${s} vs ${v.bitLength()}`);return f=f||s,v.toTwos(s).toArrayLike(xt,"be",f/8)}}throw new Error(`Unsupported or invalid type: ${JSON.stringify(t)}`)}function of(t){return t.startsWith("int[")?`int256${t.slice(3)}`:t==="int"?"int256":t.startsWith("uint[")?`uint256${t.slice(4)}`:t==="uint"?"uint256":t.startsWith("fixed[")?`fixed128x128${t.slice(5)}`:t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?`ufixed128x128${t.slice(6)}`:t==="ufixed"?"ufixed128x128":t}function Ms(t,r){const f=[],s=[];let v=0;t.forEach(a=>{if(Fr(a)){const b=hn(a);b!=="dynamic"&&b!==null?v+=32*b:v+=32}else v+=32});for(let a=0;a<t.length;a++){const b=of(t[a]),M=r[a],S=Qe(b,M);Ss(b)?(f.push(Qe("uint256",v)),s.push(S),v+=S.length):f.push(S)}return xt.concat(f.concat(s))}gr.rawEncode=Ms;function Qe(t,r){if(t==="address")return Qe("uint160",lr(r));if(t==="bool")return Qe("uint8",r?1:0);if(t==="string")return Qe("bytes",xt.from(r,"utf8"));if(Fr(t)){if(typeof r.length>"u")throw new Error("Not an array?");const f=hn(t);if(f!=="dynamic"&&f!==0&&f!==null&&r.length>f)throw new Error(`Elements exceed array size: ${f}`);const s=[];t=t.slice(0,t.lastIndexOf("[")),typeof r=="string"&&(r=JSON.parse(r));for(const v in r)Object.prototype.hasOwnProperty.call(r,v)&&s.push(Qe(t,r[v]));if(f==="dynamic"){const v=Qe("uint256",r.length);s.unshift(v)}return xt.concat(s)}else if(t==="bytes"){r=xt.from(r);let f=xt.concat([Qe("uint256",r.length),r]);return r.length%32!==0&&(f=xt.concat([f,(0,dr.zeros)(32-r.length%32)])),f}else if(t.startsWith("bytes")){const f=Mr(t);if(f<1||f>32)throw new Error(`Invalid bytes<N> width: ${f}`);const s=typeof r=="number"?(0,nf.normalize)(r):r;return(0,dr.setLengthRight)((0,dr.toBuffer)(s),32)}else if(t.startsWith("uint")){const f=Mr(t);if(f%8||f<8||f>256)throw new Error(`Invalid uint<N> width: ${f}`);const s=lr(r);if(s.bitLength()>f)throw new Error(`Supplied uint exceeds width: ${f} vs ${s.bitLength()}`);if(s.isNeg())throw new Error("Supplied uint is negative");return s.toArrayLike(xt,"be",32)}else if(t.startsWith("int")){const f=Mr(t);if(f%8||f<8||f>256)throw new Error(`Invalid int<N> width: ${f}`);const s=lr(r);if(s.bitLength()>f)throw new Error(`Supplied int exceeds width: ${f} vs ${s.bitLength()}`);return s.toTwos(256).toArrayLike(xt,"be",32)}else if(t.startsWith("ufixed")){const f=di(t),s=lr(r);if(s.isNeg())throw new Error("Supplied ufixed is negative");return Qe("uint256",s.mul(new yr.default(2).pow(new yr.default(f[1]))))}else if(t.startsWith("fixed")){const f=di(t);return Qe("int256",lr(r).mul(new yr.default(2).pow(new yr.default(f[1]))))}throw new Error(`Unsupported or invalid type: ${JSON.stringify(t)}`)}function Ss(t){return t==="string"||t==="bytes"||hn(t)==="dynamic"}function di(t){const r=/^\D+(\d+)x(\d+)$/u.exec(t);if(r===null||r.length<1)throw new Error(`Invalid parseTypeNxM input "${t}".`);return[parseInt(r[1],10),parseInt(r[2],10)]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.recoverTypedSignature=t.signTypedData=t.typedSignatureHash=t.TypedDataUtils=t.TYPED_MESSAGE_SCHEMA=t.SignTypedDataVersion=void 0;const r=qr,f=Ye,s=Nn,v=gr,a=Oe;var b;(function(_){_.V1="V1",_.V3="V3",_.V4="V4"})(b=t.SignTypedDataVersion||(t.SignTypedDataVersion={})),t.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]};function M(_,O){if(Object.keys(b).includes(_)){if(O&&!O.includes(_))throw new Error(`SignTypedDataVersion not allowed: '${_}'. Allowed versions are: ${O.join(", ")}`)}else throw new Error(`Invalid version: '${_}'`)}function S(_,O,E,U,K){if(M(K,[b.V3,b.V4]),_[E]!==void 0)return["bytes32",K===b.V4&&U==null?"0x0000000000000000000000000000000000000000000000000000000000000000":(0,r.arrToBufArr)((0,f.keccak256)(L(E,U,_,K)))];if(U===void 0)throw new Error(`missing value for field ${O} of type ${E}`);if(E==="bytes"){if(typeof U=="number")U=(0,a.numberToBuffer)(U);else if((0,s.isHexString)(U)){const z=U.length%2?"0":"";U=xt.from(z+U.slice(2),"hex")}else U=xt.from(U,"utf8");return["bytes32",(0,r.arrToBufArr)((0,f.keccak256)(U))]}if(E==="string")return typeof U=="number"?U=(0,a.numberToBuffer)(U):U=xt.from(U??"","utf8"),["bytes32",(0,r.arrToBufArr)((0,f.keccak256)(U))];if(E.endsWith("]")){if(K===b.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const z=E.slice(0,E.lastIndexOf("[")),m=U.map(e=>S(_,O,z,e,K));return["bytes32",(0,r.arrToBufArr)((0,f.keccak256)((0,v.rawEncode)(m.map(([e])=>e),m.map(([,e])=>e))))]}return[E,U]}function L(_,O,E,U){M(U,[b.V3,b.V4]);const K=["bytes32"],z=[V(_,E)];for(const m of E[_]){if(U===b.V3&&O[m.name]===void 0)continue;const[e,o]=S(E,m.name,m.type,O[m.name],U);K.push(e),z.push(o)}return(0,v.rawEncode)(K,z)}function Y(_,O){let E="";const U=J(_,O);U.delete(_);const K=[_,...Array.from(U).sort()];for(const z of K){if(!O[z])throw new Error(`No type definition specified: ${z}`);E+=`${z}(${O[z].map(({name:e,type:o})=>`${o} ${e}`).join(",")})`}return E}function J(_,O,E=new Set){if(typeof _!="string")throw new Error(`Invalid findTypeDependencies input ${JSON.stringify(_)}`);if([_]=_.match(/^\w*/u),E.has(_)||O[_]===void 0)return E;E.add(_);for(const K of O[_])J(K.type,O,E);return E}function Q(_,O,E,U){M(U,[b.V3,b.V4]);const K=L(_,O,E,U),z=(0,f.keccak256)(K);return(0,r.arrToBufArr)(z)}function V(_,O){const E=xt.from(Y(_,O),"utf-8");return(0,r.arrToBufArr)((0,f.keccak256)(E))}function ft(_){const O={};for(const E in t.TYPED_MESSAGE_SCHEMA.properties)_[E]&&(O[E]=_[E]);return"types"in O&&(O.types=Object.assign({EIP712Domain:[]},O.types)),O}function tt(_,O){M(O,[b.V3,b.V4]);const E=ft(_),{domain:U}=E,K={EIP712Domain:E.types.EIP712Domain};return Q("EIP712Domain",U,K,O)}function P(_,O){M(O,[b.V3,b.V4]);const E=ft(_),U=[xt.from("1901","hex")];return U.push(tt(_,O)),E.primaryType!=="EIP712Domain"&&U.push(Q(E.primaryType,E.message,E.types,O)),(0,r.arrToBufArr)((0,f.keccak256)(xt.concat(U)))}t.TypedDataUtils={encodeData:L,encodeType:Y,findTypeDependencies:J,hashStruct:Q,hashType:V,sanitizeData:ft,eip712Hash:P,eip712DomainHash:tt};function X(_){const O=T(_);return(0,r.bufferToHex)(O)}t.typedSignatureHash=X;function T(_){const O=new Error("Expect argument to be non-empty array");if(typeof _!="object"||!("length"in _)||!_.length)throw O;const E=_.map(function(z){return z.type!=="bytes"?z.value:(0,a.legacyToBuffer)(z.value)}),U=_.map(function(z){return z.type}),K=_.map(function(z){if(!z.name)throw O;return`${z.type} ${z.name}`});return(0,r.arrToBufArr)((0,f.keccak256)((0,v.solidityPack)(["bytes32","bytes32"],[(0,f.keccak256)((0,v.solidityPack)(new Array(_.length).fill("string"),K)),(0,f.keccak256)((0,v.solidityPack)(U,E))])))}function C({privateKey:_,data:O,version:E}){if(M(E),(0,a.isNullish)(O))throw new Error("Missing data parameter");if((0,a.isNullish)(_))throw new Error("Missing private key parameter");const U=E===b.V1?T(O):t.TypedDataUtils.eip712Hash(O,E),K=(0,r.ecsign)(U,_);return(0,a.concatSig)((0,r.toBuffer)(K.v),K.r,K.s)}t.signTypedData=C;function B({data:_,signature:O,version:E}){if(M(E),(0,a.isNullish)(_))throw new Error("Missing data parameter");if((0,a.isNullish)(O))throw new Error("Missing signature parameter");const U=E===b.V1?T(_):t.TypedDataUtils.eip712Hash(_,E),K=(0,a.recoverPublicKey)(U,O),z=(0,r.publicToAddress)(K);return(0,r.bufferToHex)(z)}t.recoverTypedSignature=B})(rf);var Ze={},sf={exports:{}};(function(t){(function(r){var f=function(c){var g,y=new Float64Array(16);if(c)for(g=0;g<c.length;g++)y[g]=c[g];return y},s=function(){throw new Error("no PRNG")},v=new Uint8Array(16),a=new Uint8Array(32);a[0]=9;var b=f(),M=f([1]),S=f([56129,1]),L=f([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),Y=f([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),J=f([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Q=f([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),V=f([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ft(c,g,y,i){c[g]=y>>24&255,c[g+1]=y>>16&255,c[g+2]=y>>8&255,c[g+3]=y&255,c[g+4]=i>>24&255,c[g+5]=i>>16&255,c[g+6]=i>>8&255,c[g+7]=i&255}function tt(c,g,y,i,x){var R,D=0;for(R=0;R<x;R++)D|=c[g+R]^y[i+R];return(1&D-1>>>8)-1}function P(c,g,y,i){return tt(c,g,y,i,16)}function X(c,g,y,i){return tt(c,g,y,i,32)}function T(c,g,y,i){for(var x=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,R=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,D=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,G=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,rt=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,vt=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,lt=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,Gt=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,pt=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,Ot=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,It=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,kt=y[16]&255|(y[17]&255)<<8|(y[18]&255)<<16|(y[19]&255)<<24,Ht=y[20]&255|(y[21]&255)<<8|(y[22]&255)<<16|(y[23]&255)<<24,Pt=y[24]&255|(y[25]&255)<<8|(y[26]&255)<<16|(y[27]&255)<<24,Rt=y[28]&255|(y[29]&255)<<8|(y[30]&255)<<16|(y[31]&255)<<24,Lt=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,bt=x,Bt=R,gt=D,wt=G,_t=rt,dt=vt,W=lt,Z=Gt,st=pt,nt=Ot,it=It,ut=kt,Tt=Ht,Dt=Pt,Vt=Rt,zt=Lt,I,Xt=0;Xt<20;Xt+=2)I=bt+Tt|0,_t^=I<<7|I>>>25,I=_t+bt|0,st^=I<<9|I>>>23,I=st+_t|0,Tt^=I<<13|I>>>19,I=Tt+st|0,bt^=I<<18|I>>>14,I=dt+Bt|0,nt^=I<<7|I>>>25,I=nt+dt|0,Dt^=I<<9|I>>>23,I=Dt+nt|0,Bt^=I<<13|I>>>19,I=Bt+Dt|0,dt^=I<<18|I>>>14,I=it+W|0,Vt^=I<<7|I>>>25,I=Vt+it|0,gt^=I<<9|I>>>23,I=gt+Vt|0,W^=I<<13|I>>>19,I=W+gt|0,it^=I<<18|I>>>14,I=zt+ut|0,wt^=I<<7|I>>>25,I=wt+zt|0,Z^=I<<9|I>>>23,I=Z+wt|0,ut^=I<<13|I>>>19,I=ut+Z|0,zt^=I<<18|I>>>14,I=bt+wt|0,Bt^=I<<7|I>>>25,I=Bt+bt|0,gt^=I<<9|I>>>23,I=gt+Bt|0,wt^=I<<13|I>>>19,I=wt+gt|0,bt^=I<<18|I>>>14,I=dt+_t|0,W^=I<<7|I>>>25,I=W+dt|0,Z^=I<<9|I>>>23,I=Z+W|0,_t^=I<<13|I>>>19,I=_t+Z|0,dt^=I<<18|I>>>14,I=it+nt|0,ut^=I<<7|I>>>25,I=ut+it|0,st^=I<<9|I>>>23,I=st+ut|0,nt^=I<<13|I>>>19,I=nt+st|0,it^=I<<18|I>>>14,I=zt+Vt|0,Tt^=I<<7|I>>>25,I=Tt+zt|0,Dt^=I<<9|I>>>23,I=Dt+Tt|0,Vt^=I<<13|I>>>19,I=Vt+Dt|0,zt^=I<<18|I>>>14;bt=bt+x|0,Bt=Bt+R|0,gt=gt+D|0,wt=wt+G|0,_t=_t+rt|0,dt=dt+vt|0,W=W+lt|0,Z=Z+Gt|0,st=st+pt|0,nt=nt+Ot|0,it=it+It|0,ut=ut+kt|0,Tt=Tt+Ht|0,Dt=Dt+Pt|0,Vt=Vt+Rt|0,zt=zt+Lt|0,c[0]=bt>>>0&255,c[1]=bt>>>8&255,c[2]=bt>>>16&255,c[3]=bt>>>24&255,c[4]=Bt>>>0&255,c[5]=Bt>>>8&255,c[6]=Bt>>>16&255,c[7]=Bt>>>24&255,c[8]=gt>>>0&255,c[9]=gt>>>8&255,c[10]=gt>>>16&255,c[11]=gt>>>24&255,c[12]=wt>>>0&255,c[13]=wt>>>8&255,c[14]=wt>>>16&255,c[15]=wt>>>24&255,c[16]=_t>>>0&255,c[17]=_t>>>8&255,c[18]=_t>>>16&255,c[19]=_t>>>24&255,c[20]=dt>>>0&255,c[21]=dt>>>8&255,c[22]=dt>>>16&255,c[23]=dt>>>24&255,c[24]=W>>>0&255,c[25]=W>>>8&255,c[26]=W>>>16&255,c[27]=W>>>24&255,c[28]=Z>>>0&255,c[29]=Z>>>8&255,c[30]=Z>>>16&255,c[31]=Z>>>24&255,c[32]=st>>>0&255,c[33]=st>>>8&255,c[34]=st>>>16&255,c[35]=st>>>24&255,c[36]=nt>>>0&255,c[37]=nt>>>8&255,c[38]=nt>>>16&255,c[39]=nt>>>24&255,c[40]=it>>>0&255,c[41]=it>>>8&255,c[42]=it>>>16&255,c[43]=it>>>24&255,c[44]=ut>>>0&255,c[45]=ut>>>8&255,c[46]=ut>>>16&255,c[47]=ut>>>24&255,c[48]=Tt>>>0&255,c[49]=Tt>>>8&255,c[50]=Tt>>>16&255,c[51]=Tt>>>24&255,c[52]=Dt>>>0&255,c[53]=Dt>>>8&255,c[54]=Dt>>>16&255,c[55]=Dt>>>24&255,c[56]=Vt>>>0&255,c[57]=Vt>>>8&255,c[58]=Vt>>>16&255,c[59]=Vt>>>24&255,c[60]=zt>>>0&255,c[61]=zt>>>8&255,c[62]=zt>>>16&255,c[63]=zt>>>24&255}function C(c,g,y,i){for(var x=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,R=y[0]&255|(y[1]&255)<<8|(y[2]&255)<<16|(y[3]&255)<<24,D=y[4]&255|(y[5]&255)<<8|(y[6]&255)<<16|(y[7]&255)<<24,G=y[8]&255|(y[9]&255)<<8|(y[10]&255)<<16|(y[11]&255)<<24,rt=y[12]&255|(y[13]&255)<<8|(y[14]&255)<<16|(y[15]&255)<<24,vt=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,lt=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,Gt=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,pt=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,Ot=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,It=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,kt=y[16]&255|(y[17]&255)<<8|(y[18]&255)<<16|(y[19]&255)<<24,Ht=y[20]&255|(y[21]&255)<<8|(y[22]&255)<<16|(y[23]&255)<<24,Pt=y[24]&255|(y[25]&255)<<8|(y[26]&255)<<16|(y[27]&255)<<24,Rt=y[28]&255|(y[29]&255)<<8|(y[30]&255)<<16|(y[31]&255)<<24,Lt=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,bt=x,Bt=R,gt=D,wt=G,_t=rt,dt=vt,W=lt,Z=Gt,st=pt,nt=Ot,it=It,ut=kt,Tt=Ht,Dt=Pt,Vt=Rt,zt=Lt,I,Xt=0;Xt<20;Xt+=2)I=bt+Tt|0,_t^=I<<7|I>>>25,I=_t+bt|0,st^=I<<9|I>>>23,I=st+_t|0,Tt^=I<<13|I>>>19,I=Tt+st|0,bt^=I<<18|I>>>14,I=dt+Bt|0,nt^=I<<7|I>>>25,I=nt+dt|0,Dt^=I<<9|I>>>23,I=Dt+nt|0,Bt^=I<<13|I>>>19,I=Bt+Dt|0,dt^=I<<18|I>>>14,I=it+W|0,Vt^=I<<7|I>>>25,I=Vt+it|0,gt^=I<<9|I>>>23,I=gt+Vt|0,W^=I<<13|I>>>19,I=W+gt|0,it^=I<<18|I>>>14,I=zt+ut|0,wt^=I<<7|I>>>25,I=wt+zt|0,Z^=I<<9|I>>>23,I=Z+wt|0,ut^=I<<13|I>>>19,I=ut+Z|0,zt^=I<<18|I>>>14,I=bt+wt|0,Bt^=I<<7|I>>>25,I=Bt+bt|0,gt^=I<<9|I>>>23,I=gt+Bt|0,wt^=I<<13|I>>>19,I=wt+gt|0,bt^=I<<18|I>>>14,I=dt+_t|0,W^=I<<7|I>>>25,I=W+dt|0,Z^=I<<9|I>>>23,I=Z+W|0,_t^=I<<13|I>>>19,I=_t+Z|0,dt^=I<<18|I>>>14,I=it+nt|0,ut^=I<<7|I>>>25,I=ut+it|0,st^=I<<9|I>>>23,I=st+ut|0,nt^=I<<13|I>>>19,I=nt+st|0,it^=I<<18|I>>>14,I=zt+Vt|0,Tt^=I<<7|I>>>25,I=Tt+zt|0,Dt^=I<<9|I>>>23,I=Dt+Tt|0,Vt^=I<<13|I>>>19,I=Vt+Dt|0,zt^=I<<18|I>>>14;c[0]=bt>>>0&255,c[1]=bt>>>8&255,c[2]=bt>>>16&255,c[3]=bt>>>24&255,c[4]=dt>>>0&255,c[5]=dt>>>8&255,c[6]=dt>>>16&255,c[7]=dt>>>24&255,c[8]=it>>>0&255,c[9]=it>>>8&255,c[10]=it>>>16&255,c[11]=it>>>24&255,c[12]=zt>>>0&255,c[13]=zt>>>8&255,c[14]=zt>>>16&255,c[15]=zt>>>24&255,c[16]=W>>>0&255,c[17]=W>>>8&255,c[18]=W>>>16&255,c[19]=W>>>24&255,c[20]=Z>>>0&255,c[21]=Z>>>8&255,c[22]=Z>>>16&255,c[23]=Z>>>24&255,c[24]=st>>>0&255,c[25]=st>>>8&255,c[26]=st>>>16&255,c[27]=st>>>24&255,c[28]=nt>>>0&255,c[29]=nt>>>8&255,c[30]=nt>>>16&255,c[31]=nt>>>24&255}function B(c,g,y,i){T(c,g,y,i)}function _(c,g,y,i){C(c,g,y,i)}var O=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function E(c,g,y,i,x,R,D){var G=new Uint8Array(16),rt=new Uint8Array(64),vt,lt;for(lt=0;lt<16;lt++)G[lt]=0;for(lt=0;lt<8;lt++)G[lt]=R[lt];for(;x>=64;){for(B(rt,G,D,O),lt=0;lt<64;lt++)c[g+lt]=y[i+lt]^rt[lt];for(vt=1,lt=8;lt<16;lt++)vt=vt+(G[lt]&255)|0,G[lt]=vt&255,vt>>>=8;x-=64,g+=64,i+=64}if(x>0)for(B(rt,G,D,O),lt=0;lt<x;lt++)c[g+lt]=y[i+lt]^rt[lt];return 0}function U(c,g,y,i,x){var R=new Uint8Array(16),D=new Uint8Array(64),G,rt;for(rt=0;rt<16;rt++)R[rt]=0;for(rt=0;rt<8;rt++)R[rt]=i[rt];for(;y>=64;){for(B(D,R,x,O),rt=0;rt<64;rt++)c[g+rt]=D[rt];for(G=1,rt=8;rt<16;rt++)G=G+(R[rt]&255)|0,R[rt]=G&255,G>>>=8;y-=64,g+=64}if(y>0)for(B(D,R,x,O),rt=0;rt<y;rt++)c[g+rt]=D[rt];return 0}function K(c,g,y,i,x){var R=new Uint8Array(32);_(R,i,x,O);for(var D=new Uint8Array(8),G=0;G<8;G++)D[G]=i[G+16];return U(c,g,y,D,R)}function z(c,g,y,i,x,R,D){var G=new Uint8Array(32);_(G,R,D,O);for(var rt=new Uint8Array(8),vt=0;vt<8;vt++)rt[vt]=R[vt+16];return E(c,g,y,i,x,rt,G)}var m=function(c){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var g,y,i,x,R,D,G,rt;g=c[0]&255|(c[1]&255)<<8,this.r[0]=g&8191,y=c[2]&255|(c[3]&255)<<8,this.r[1]=(g>>>13|y<<3)&8191,i=c[4]&255|(c[5]&255)<<8,this.r[2]=(y>>>10|i<<6)&7939,x=c[6]&255|(c[7]&255)<<8,this.r[3]=(i>>>7|x<<9)&8191,R=c[8]&255|(c[9]&255)<<8,this.r[4]=(x>>>4|R<<12)&255,this.r[5]=R>>>1&8190,D=c[10]&255|(c[11]&255)<<8,this.r[6]=(R>>>14|D<<2)&8191,G=c[12]&255|(c[13]&255)<<8,this.r[7]=(D>>>11|G<<5)&8065,rt=c[14]&255|(c[15]&255)<<8,this.r[8]=(G>>>8|rt<<8)&8191,this.r[9]=rt>>>5&127,this.pad[0]=c[16]&255|(c[17]&255)<<8,this.pad[1]=c[18]&255|(c[19]&255)<<8,this.pad[2]=c[20]&255|(c[21]&255)<<8,this.pad[3]=c[22]&255|(c[23]&255)<<8,this.pad[4]=c[24]&255|(c[25]&255)<<8,this.pad[5]=c[26]&255|(c[27]&255)<<8,this.pad[6]=c[28]&255|(c[29]&255)<<8,this.pad[7]=c[30]&255|(c[31]&255)<<8};m.prototype.blocks=function(c,g,y){for(var i=this.fin?0:2048,x,R,D,G,rt,vt,lt,Gt,pt,Ot,It,kt,Ht,Pt,Rt,Lt,bt,Bt,gt,wt=this.h[0],_t=this.h[1],dt=this.h[2],W=this.h[3],Z=this.h[4],st=this.h[5],nt=this.h[6],it=this.h[7],ut=this.h[8],Tt=this.h[9],Dt=this.r[0],Vt=this.r[1],zt=this.r[2],I=this.r[3],Xt=this.r[4],ae=this.r[5],ue=this.r[6],Yt=this.r[7],oe=this.r[8],se=this.r[9];y>=16;)x=c[g+0]&255|(c[g+1]&255)<<8,wt+=x&8191,R=c[g+2]&255|(c[g+3]&255)<<8,_t+=(x>>>13|R<<3)&8191,D=c[g+4]&255|(c[g+5]&255)<<8,dt+=(R>>>10|D<<6)&8191,G=c[g+6]&255|(c[g+7]&255)<<8,W+=(D>>>7|G<<9)&8191,rt=c[g+8]&255|(c[g+9]&255)<<8,Z+=(G>>>4|rt<<12)&8191,st+=rt>>>1&8191,vt=c[g+10]&255|(c[g+11]&255)<<8,nt+=(rt>>>14|vt<<2)&8191,lt=c[g+12]&255|(c[g+13]&255)<<8,it+=(vt>>>11|lt<<5)&8191,Gt=c[g+14]&255|(c[g+15]&255)<<8,ut+=(lt>>>8|Gt<<8)&8191,Tt+=Gt>>>5|i,pt=0,Ot=pt,Ot+=wt*Dt,Ot+=_t*(5*se),Ot+=dt*(5*oe),Ot+=W*(5*Yt),Ot+=Z*(5*ue),pt=Ot>>>13,Ot&=8191,Ot+=st*(5*ae),Ot+=nt*(5*Xt),Ot+=it*(5*I),Ot+=ut*(5*zt),Ot+=Tt*(5*Vt),pt+=Ot>>>13,Ot&=8191,It=pt,It+=wt*Vt,It+=_t*Dt,It+=dt*(5*se),It+=W*(5*oe),It+=Z*(5*Yt),pt=It>>>13,It&=8191,It+=st*(5*ue),It+=nt*(5*ae),It+=it*(5*Xt),It+=ut*(5*I),It+=Tt*(5*zt),pt+=It>>>13,It&=8191,kt=pt,kt+=wt*zt,kt+=_t*Vt,kt+=dt*Dt,kt+=W*(5*se),kt+=Z*(5*oe),pt=kt>>>13,kt&=8191,kt+=st*(5*Yt),kt+=nt*(5*ue),kt+=it*(5*ae),kt+=ut*(5*Xt),kt+=Tt*(5*I),pt+=kt>>>13,kt&=8191,Ht=pt,Ht+=wt*I,Ht+=_t*zt,Ht+=dt*Vt,Ht+=W*Dt,Ht+=Z*(5*se),pt=Ht>>>13,Ht&=8191,Ht+=st*(5*oe),Ht+=nt*(5*Yt),Ht+=it*(5*ue),Ht+=ut*(5*ae),Ht+=Tt*(5*Xt),pt+=Ht>>>13,Ht&=8191,Pt=pt,Pt+=wt*Xt,Pt+=_t*I,Pt+=dt*zt,Pt+=W*Vt,Pt+=Z*Dt,pt=Pt>>>13,Pt&=8191,Pt+=st*(5*se),Pt+=nt*(5*oe),Pt+=it*(5*Yt),Pt+=ut*(5*ue),Pt+=Tt*(5*ae),pt+=Pt>>>13,Pt&=8191,Rt=pt,Rt+=wt*ae,Rt+=_t*Xt,Rt+=dt*I,Rt+=W*zt,Rt+=Z*Vt,pt=Rt>>>13,Rt&=8191,Rt+=st*Dt,Rt+=nt*(5*se),Rt+=it*(5*oe),Rt+=ut*(5*Yt),Rt+=Tt*(5*ue),pt+=Rt>>>13,Rt&=8191,Lt=pt,Lt+=wt*ue,Lt+=_t*ae,Lt+=dt*Xt,Lt+=W*I,Lt+=Z*zt,pt=Lt>>>13,Lt&=8191,Lt+=st*Vt,Lt+=nt*Dt,Lt+=it*(5*se),Lt+=ut*(5*oe),Lt+=Tt*(5*Yt),pt+=Lt>>>13,Lt&=8191,bt=pt,bt+=wt*Yt,bt+=_t*ue,bt+=dt*ae,bt+=W*Xt,bt+=Z*I,pt=bt>>>13,bt&=8191,bt+=st*zt,bt+=nt*Vt,bt+=it*Dt,bt+=ut*(5*se),bt+=Tt*(5*oe),pt+=bt>>>13,bt&=8191,Bt=pt,Bt+=wt*oe,Bt+=_t*Yt,Bt+=dt*ue,Bt+=W*ae,Bt+=Z*Xt,pt=Bt>>>13,Bt&=8191,Bt+=st*I,Bt+=nt*zt,Bt+=it*Vt,Bt+=ut*Dt,Bt+=Tt*(5*se),pt+=Bt>>>13,Bt&=8191,gt=pt,gt+=wt*se,gt+=_t*oe,gt+=dt*Yt,gt+=W*ue,gt+=Z*ae,pt=gt>>>13,gt&=8191,gt+=st*Xt,gt+=nt*I,gt+=it*zt,gt+=ut*Vt,gt+=Tt*Dt,pt+=gt>>>13,gt&=8191,pt=(pt<<2)+pt|0,pt=pt+Ot|0,Ot=pt&8191,pt=pt>>>13,It+=pt,wt=Ot,_t=It,dt=kt,W=Ht,Z=Pt,st=Rt,nt=Lt,it=bt,ut=Bt,Tt=gt,g+=16,y-=16;this.h[0]=wt,this.h[1]=_t,this.h[2]=dt,this.h[3]=W,this.h[4]=Z,this.h[5]=st,this.h[6]=nt,this.h[7]=it,this.h[8]=ut,this.h[9]=Tt},m.prototype.finish=function(c,g){var y=new Uint16Array(10),i,x,R,D;if(this.leftover){for(D=this.leftover,this.buffer[D++]=1;D<16;D++)this.buffer[D]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,D=2;D<10;D++)this.h[D]+=i,i=this.h[D]>>>13,this.h[D]&=8191;for(this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,y[0]=this.h[0]+5,i=y[0]>>>13,y[0]&=8191,D=1;D<10;D++)y[D]=this.h[D]+i,i=y[D]>>>13,y[D]&=8191;for(y[9]-=8192,x=(i^1)-1,D=0;D<10;D++)y[D]&=x;for(x=~x,D=0;D<10;D++)this.h[D]=this.h[D]&x|y[D];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,R=this.h[0]+this.pad[0],this.h[0]=R&65535,D=1;D<8;D++)R=(this.h[D]+this.pad[D]|0)+(R>>>16)|0,this.h[D]=R&65535;c[g+0]=this.h[0]>>>0&255,c[g+1]=this.h[0]>>>8&255,c[g+2]=this.h[1]>>>0&255,c[g+3]=this.h[1]>>>8&255,c[g+4]=this.h[2]>>>0&255,c[g+5]=this.h[2]>>>8&255,c[g+6]=this.h[3]>>>0&255,c[g+7]=this.h[3]>>>8&255,c[g+8]=this.h[4]>>>0&255,c[g+9]=this.h[4]>>>8&255,c[g+10]=this.h[5]>>>0&255,c[g+11]=this.h[5]>>>8&255,c[g+12]=this.h[6]>>>0&255,c[g+13]=this.h[6]>>>8&255,c[g+14]=this.h[7]>>>0&255,c[g+15]=this.h[7]>>>8&255},m.prototype.update=function(c,g,y){var i,x;if(this.leftover){for(x=16-this.leftover,x>y&&(x=y),i=0;i<x;i++)this.buffer[this.leftover+i]=c[g+i];if(y-=x,g+=x,this.leftover+=x,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(y>=16&&(x=y-y%16,this.blocks(c,g,x),g+=x,y-=x),y){for(i=0;i<y;i++)this.buffer[this.leftover+i]=c[g+i];this.leftover+=y}};function e(c,g,y,i,x,R){var D=new m(R);return D.update(y,i,x),D.finish(c,g),0}function o(c,g,y,i,x,R){var D=new Uint8Array(16);return e(D,0,y,i,x,R),P(c,g,D,0)}function u(c,g,y,i,x){var R;if(y<32)return-1;for(z(c,0,g,0,y,i,x),e(c,16,c,32,y-32,c),R=0;R<16;R++)c[R]=0;return 0}function l(c,g,y,i,x){var R,D=new Uint8Array(32);if(y<32||(K(D,0,32,i,x),o(g,16,g,32,y-32,D)!==0))return-1;for(z(c,0,g,0,y,i,x),R=0;R<32;R++)c[R]=0;return 0}function p(c,g){var y;for(y=0;y<16;y++)c[y]=g[y]|0}function w(c){var g,y,i=1;for(g=0;g<16;g++)y=c[g]+i+65535,i=Math.floor(y/65536),c[g]=y-i*65536;c[0]+=i-1+37*(i-1)}function A(c,g,y){for(var i,x=~(y-1),R=0;R<16;R++)i=x&(c[R]^g[R]),c[R]^=i,g[R]^=i}function h(c,g){var y,i,x,R=f(),D=f();for(y=0;y<16;y++)D[y]=g[y];for(w(D),w(D),w(D),i=0;i<2;i++){for(R[0]=D[0]-65517,y=1;y<15;y++)R[y]=D[y]-65535-(R[y-1]>>16&1),R[y-1]&=65535;R[15]=D[15]-32767-(R[14]>>16&1),x=R[15]>>16&1,R[14]&=65535,A(D,R,1-x)}for(y=0;y<16;y++)c[2*y]=D[y]&255,c[2*y+1]=D[y]>>8}function n(c,g){var y=new Uint8Array(32),i=new Uint8Array(32);return h(y,c),h(i,g),X(y,0,i,0)}function d(c){var g=new Uint8Array(32);return h(g,c),g[0]&1}function q(c,g){var y;for(y=0;y<16;y++)c[y]=g[2*y]+(g[2*y+1]<<8);c[15]&=32767}function N(c,g,y){for(var i=0;i<16;i++)c[i]=g[i]+y[i]}function $(c,g,y){for(var i=0;i<16;i++)c[i]=g[i]-y[i]}function k(c,g,y){var i,x,R=0,D=0,G=0,rt=0,vt=0,lt=0,Gt=0,pt=0,Ot=0,It=0,kt=0,Ht=0,Pt=0,Rt=0,Lt=0,bt=0,Bt=0,gt=0,wt=0,_t=0,dt=0,W=0,Z=0,st=0,nt=0,it=0,ut=0,Tt=0,Dt=0,Vt=0,zt=0,I=y[0],Xt=y[1],ae=y[2],ue=y[3],Yt=y[4],oe=y[5],se=y[6],Te=y[7],pe=y[8],Be=y[9],Me=y[10],Se=y[11],Le=y[12],He=y[13],$e=y[14],ke=y[15];i=g[0],R+=i*I,D+=i*Xt,G+=i*ae,rt+=i*ue,vt+=i*Yt,lt+=i*oe,Gt+=i*se,pt+=i*Te,Ot+=i*pe,It+=i*Be,kt+=i*Me,Ht+=i*Se,Pt+=i*Le,Rt+=i*He,Lt+=i*$e,bt+=i*ke,i=g[1],D+=i*I,G+=i*Xt,rt+=i*ae,vt+=i*ue,lt+=i*Yt,Gt+=i*oe,pt+=i*se,Ot+=i*Te,It+=i*pe,kt+=i*Be,Ht+=i*Me,Pt+=i*Se,Rt+=i*Le,Lt+=i*He,bt+=i*$e,Bt+=i*ke,i=g[2],G+=i*I,rt+=i*Xt,vt+=i*ae,lt+=i*ue,Gt+=i*Yt,pt+=i*oe,Ot+=i*se,It+=i*Te,kt+=i*pe,Ht+=i*Be,Pt+=i*Me,Rt+=i*Se,Lt+=i*Le,bt+=i*He,Bt+=i*$e,gt+=i*ke,i=g[3],rt+=i*I,vt+=i*Xt,lt+=i*ae,Gt+=i*ue,pt+=i*Yt,Ot+=i*oe,It+=i*se,kt+=i*Te,Ht+=i*pe,Pt+=i*Be,Rt+=i*Me,Lt+=i*Se,bt+=i*Le,Bt+=i*He,gt+=i*$e,wt+=i*ke,i=g[4],vt+=i*I,lt+=i*Xt,Gt+=i*ae,pt+=i*ue,Ot+=i*Yt,It+=i*oe,kt+=i*se,Ht+=i*Te,Pt+=i*pe,Rt+=i*Be,Lt+=i*Me,bt+=i*Se,Bt+=i*Le,gt+=i*He,wt+=i*$e,_t+=i*ke,i=g[5],lt+=i*I,Gt+=i*Xt,pt+=i*ae,Ot+=i*ue,It+=i*Yt,kt+=i*oe,Ht+=i*se,Pt+=i*Te,Rt+=i*pe,Lt+=i*Be,bt+=i*Me,Bt+=i*Se,gt+=i*Le,wt+=i*He,_t+=i*$e,dt+=i*ke,i=g[6],Gt+=i*I,pt+=i*Xt,Ot+=i*ae,It+=i*ue,kt+=i*Yt,Ht+=i*oe,Pt+=i*se,Rt+=i*Te,Lt+=i*pe,bt+=i*Be,Bt+=i*Me,gt+=i*Se,wt+=i*Le,_t+=i*He,dt+=i*$e,W+=i*ke,i=g[7],pt+=i*I,Ot+=i*Xt,It+=i*ae,kt+=i*ue,Ht+=i*Yt,Pt+=i*oe,Rt+=i*se,Lt+=i*Te,bt+=i*pe,Bt+=i*Be,gt+=i*Me,wt+=i*Se,_t+=i*Le,dt+=i*He,W+=i*$e,Z+=i*ke,i=g[8],Ot+=i*I,It+=i*Xt,kt+=i*ae,Ht+=i*ue,Pt+=i*Yt,Rt+=i*oe,Lt+=i*se,bt+=i*Te,Bt+=i*pe,gt+=i*Be,wt+=i*Me,_t+=i*Se,dt+=i*Le,W+=i*He,Z+=i*$e,st+=i*ke,i=g[9],It+=i*I,kt+=i*Xt,Ht+=i*ae,Pt+=i*ue,Rt+=i*Yt,Lt+=i*oe,bt+=i*se,Bt+=i*Te,gt+=i*pe,wt+=i*Be,_t+=i*Me,dt+=i*Se,W+=i*Le,Z+=i*He,st+=i*$e,nt+=i*ke,i=g[10],kt+=i*I,Ht+=i*Xt,Pt+=i*ae,Rt+=i*ue,Lt+=i*Yt,bt+=i*oe,Bt+=i*se,gt+=i*Te,wt+=i*pe,_t+=i*Be,dt+=i*Me,W+=i*Se,Z+=i*Le,st+=i*He,nt+=i*$e,it+=i*ke,i=g[11],Ht+=i*I,Pt+=i*Xt,Rt+=i*ae,Lt+=i*ue,bt+=i*Yt,Bt+=i*oe,gt+=i*se,wt+=i*Te,_t+=i*pe,dt+=i*Be,W+=i*Me,Z+=i*Se,st+=i*Le,nt+=i*He,it+=i*$e,ut+=i*ke,i=g[12],Pt+=i*I,Rt+=i*Xt,Lt+=i*ae,bt+=i*ue,Bt+=i*Yt,gt+=i*oe,wt+=i*se,_t+=i*Te,dt+=i*pe,W+=i*Be,Z+=i*Me,st+=i*Se,nt+=i*Le,it+=i*He,ut+=i*$e,Tt+=i*ke,i=g[13],Rt+=i*I,Lt+=i*Xt,bt+=i*ae,Bt+=i*ue,gt+=i*Yt,wt+=i*oe,_t+=i*se,dt+=i*Te,W+=i*pe,Z+=i*Be,st+=i*Me,nt+=i*Se,it+=i*Le,ut+=i*He,Tt+=i*$e,Dt+=i*ke,i=g[14],Lt+=i*I,bt+=i*Xt,Bt+=i*ae,gt+=i*ue,wt+=i*Yt,_t+=i*oe,dt+=i*se,W+=i*Te,Z+=i*pe,st+=i*Be,nt+=i*Me,it+=i*Se,ut+=i*Le,Tt+=i*He,Dt+=i*$e,Vt+=i*ke,i=g[15],bt+=i*I,Bt+=i*Xt,gt+=i*ae,wt+=i*ue,_t+=i*Yt,dt+=i*oe,W+=i*se,Z+=i*Te,st+=i*pe,nt+=i*Be,it+=i*Me,ut+=i*Se,Tt+=i*Le,Dt+=i*He,Vt+=i*$e,zt+=i*ke,R+=38*Bt,D+=38*gt,G+=38*wt,rt+=38*_t,vt+=38*dt,lt+=38*W,Gt+=38*Z,pt+=38*st,Ot+=38*nt,It+=38*it,kt+=38*ut,Ht+=38*Tt,Pt+=38*Dt,Rt+=38*Vt,Lt+=38*zt,x=1,i=R+x+65535,x=Math.floor(i/65536),R=i-x*65536,i=D+x+65535,x=Math.floor(i/65536),D=i-x*65536,i=G+x+65535,x=Math.floor(i/65536),G=i-x*65536,i=rt+x+65535,x=Math.floor(i/65536),rt=i-x*65536,i=vt+x+65535,x=Math.floor(i/65536),vt=i-x*65536,i=lt+x+65535,x=Math.floor(i/65536),lt=i-x*65536,i=Gt+x+65535,x=Math.floor(i/65536),Gt=i-x*65536,i=pt+x+65535,x=Math.floor(i/65536),pt=i-x*65536,i=Ot+x+65535,x=Math.floor(i/65536),Ot=i-x*65536,i=It+x+65535,x=Math.floor(i/65536),It=i-x*65536,i=kt+x+65535,x=Math.floor(i/65536),kt=i-x*65536,i=Ht+x+65535,x=Math.floor(i/65536),Ht=i-x*65536,i=Pt+x+65535,x=Math.floor(i/65536),Pt=i-x*65536,i=Rt+x+65535,x=Math.floor(i/65536),Rt=i-x*65536,i=Lt+x+65535,x=Math.floor(i/65536),Lt=i-x*65536,i=bt+x+65535,x=Math.floor(i/65536),bt=i-x*65536,R+=x-1+37*(x-1),x=1,i=R+x+65535,x=Math.floor(i/65536),R=i-x*65536,i=D+x+65535,x=Math.floor(i/65536),D=i-x*65536,i=G+x+65535,x=Math.floor(i/65536),G=i-x*65536,i=rt+x+65535,x=Math.floor(i/65536),rt=i-x*65536,i=vt+x+65535,x=Math.floor(i/65536),vt=i-x*65536,i=lt+x+65535,x=Math.floor(i/65536),lt=i-x*65536,i=Gt+x+65535,x=Math.floor(i/65536),Gt=i-x*65536,i=pt+x+65535,x=Math.floor(i/65536),pt=i-x*65536,i=Ot+x+65535,x=Math.floor(i/65536),Ot=i-x*65536,i=It+x+65535,x=Math.floor(i/65536),It=i-x*65536,i=kt+x+65535,x=Math.floor(i/65536),kt=i-x*65536,i=Ht+x+65535,x=Math.floor(i/65536),Ht=i-x*65536,i=Pt+x+65535,x=Math.floor(i/65536),Pt=i-x*65536,i=Rt+x+65535,x=Math.floor(i/65536),Rt=i-x*65536,i=Lt+x+65535,x=Math.floor(i/65536),Lt=i-x*65536,i=bt+x+65535,x=Math.floor(i/65536),bt=i-x*65536,R+=x-1+37*(x-1),c[0]=R,c[1]=D,c[2]=G,c[3]=rt,c[4]=vt,c[5]=lt,c[6]=Gt,c[7]=pt,c[8]=Ot,c[9]=It,c[10]=kt,c[11]=Ht,c[12]=Pt,c[13]=Rt,c[14]=Lt,c[15]=bt}function F(c,g){k(c,g,g)}function ct(c,g){var y=f(),i;for(i=0;i<16;i++)y[i]=g[i];for(i=253;i>=0;i--)F(y,y),i!==2&&i!==4&&k(y,y,g);for(i=0;i<16;i++)c[i]=y[i]}function mt(c,g){var y=f(),i;for(i=0;i<16;i++)y[i]=g[i];for(i=250;i>=0;i--)F(y,y),i!==1&&k(y,y,g);for(i=0;i<16;i++)c[i]=y[i]}function ot(c,g,y){var i=new Uint8Array(32),x=new Float64Array(80),R,D,G=f(),rt=f(),vt=f(),lt=f(),Gt=f(),pt=f();for(D=0;D<31;D++)i[D]=g[D];for(i[31]=g[31]&127|64,i[0]&=248,q(x,y),D=0;D<16;D++)rt[D]=x[D],lt[D]=G[D]=vt[D]=0;for(G[0]=lt[0]=1,D=254;D>=0;--D)R=i[D>>>3]>>>(D&7)&1,A(G,rt,R),A(vt,lt,R),N(Gt,G,vt),$(G,G,vt),N(vt,rt,lt),$(rt,rt,lt),F(lt,Gt),F(pt,G),k(G,vt,G),k(vt,rt,Gt),N(Gt,G,vt),$(G,G,vt),F(rt,G),$(vt,lt,pt),k(G,vt,S),N(G,G,lt),k(vt,vt,G),k(G,lt,pt),k(lt,rt,x),F(rt,Gt),A(G,rt,R),A(vt,lt,R);for(D=0;D<16;D++)x[D+16]=G[D],x[D+32]=vt[D],x[D+48]=rt[D],x[D+64]=lt[D];var Ot=x.subarray(32),It=x.subarray(16);return ct(Ot,Ot),k(It,It,Ot),h(c,It),0}function yt(c,g){return ot(c,g,a)}function St(c,g){return s(g,32),yt(c,g)}function Et(c,g,y){var i=new Uint8Array(32);return ot(i,y,g),_(c,v,i,O)}var et=u,at=l;function ht(c,g,y,i,x,R){var D=new Uint8Array(32);return Et(D,x,R),et(c,g,y,i,D)}function Mt(c,g,y,i,x,R){var D=new Uint8Array(32);return Et(D,x,R),at(c,g,y,i,D)}var jt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Nt(c,g,y,i){for(var x=new Int32Array(16),R=new Int32Array(16),D,G,rt,vt,lt,Gt,pt,Ot,It,kt,Ht,Pt,Rt,Lt,bt,Bt,gt,wt,_t,dt,W,Z,st,nt,it,ut,Tt=c[0],Dt=c[1],Vt=c[2],zt=c[3],I=c[4],Xt=c[5],ae=c[6],ue=c[7],Yt=g[0],oe=g[1],se=g[2],Te=g[3],pe=g[4],Be=g[5],Me=g[6],Se=g[7],Le=0;i>=128;){for(_t=0;_t<16;_t++)dt=8*_t+Le,x[_t]=y[dt+0]<<24|y[dt+1]<<16|y[dt+2]<<8|y[dt+3],R[_t]=y[dt+4]<<24|y[dt+5]<<16|y[dt+6]<<8|y[dt+7];for(_t=0;_t<80;_t++)if(D=Tt,G=Dt,rt=Vt,vt=zt,lt=I,Gt=Xt,pt=ae,Ot=ue,It=Yt,kt=oe,Ht=se,Pt=Te,Rt=pe,Lt=Be,bt=Me,Bt=Se,W=ue,Z=Se,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=(I>>>14|pe<<18)^(I>>>18|pe<<14)^(pe>>>9|I<<23),Z=(pe>>>14|I<<18)^(pe>>>18|I<<14)^(I>>>9|pe<<23),st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,W=I&Xt^~I&ae,Z=pe&Be^~pe&Me,st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,W=jt[_t*2],Z=jt[_t*2+1],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,W=x[_t%16],Z=R[_t%16],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,gt=it&65535|ut<<16,wt=st&65535|nt<<16,W=gt,Z=wt,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=(Tt>>>28|Yt<<4)^(Yt>>>2|Tt<<30)^(Yt>>>7|Tt<<25),Z=(Yt>>>28|Tt<<4)^(Tt>>>2|Yt<<30)^(Tt>>>7|Yt<<25),st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,W=Tt&Dt^Tt&Vt^Dt&Vt,Z=Yt&oe^Yt&se^oe&se,st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,Ot=it&65535|ut<<16,Bt=st&65535|nt<<16,W=vt,Z=Pt,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=gt,Z=wt,st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,vt=it&65535|ut<<16,Pt=st&65535|nt<<16,Dt=D,Vt=G,zt=rt,I=vt,Xt=lt,ae=Gt,ue=pt,Tt=Ot,oe=It,se=kt,Te=Ht,pe=Pt,Be=Rt,Me=Lt,Se=bt,Yt=Bt,_t%16===15)for(dt=0;dt<16;dt++)W=x[dt],Z=R[dt],st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=x[(dt+9)%16],Z=R[(dt+9)%16],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,gt=x[(dt+1)%16],wt=R[(dt+1)%16],W=(gt>>>1|wt<<31)^(gt>>>8|wt<<24)^gt>>>7,Z=(wt>>>1|gt<<31)^(wt>>>8|gt<<24)^(wt>>>7|gt<<25),st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,gt=x[(dt+14)%16],wt=R[(dt+14)%16],W=(gt>>>19|wt<<13)^(wt>>>29|gt<<3)^gt>>>6,Z=(wt>>>19|gt<<13)^(gt>>>29|wt<<3)^(wt>>>6|gt<<26),st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,x[dt]=it&65535|ut<<16,R[dt]=st&65535|nt<<16;W=Tt,Z=Yt,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[0],Z=g[0],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[0]=Tt=it&65535|ut<<16,g[0]=Yt=st&65535|nt<<16,W=Dt,Z=oe,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[1],Z=g[1],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[1]=Dt=it&65535|ut<<16,g[1]=oe=st&65535|nt<<16,W=Vt,Z=se,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[2],Z=g[2],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[2]=Vt=it&65535|ut<<16,g[2]=se=st&65535|nt<<16,W=zt,Z=Te,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[3],Z=g[3],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[3]=zt=it&65535|ut<<16,g[3]=Te=st&65535|nt<<16,W=I,Z=pe,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[4],Z=g[4],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[4]=I=it&65535|ut<<16,g[4]=pe=st&65535|nt<<16,W=Xt,Z=Be,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[5],Z=g[5],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[5]=Xt=it&65535|ut<<16,g[5]=Be=st&65535|nt<<16,W=ae,Z=Me,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[6],Z=g[6],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[6]=ae=it&65535|ut<<16,g[6]=Me=st&65535|nt<<16,W=ue,Z=Se,st=Z&65535,nt=Z>>>16,it=W&65535,ut=W>>>16,W=c[7],Z=g[7],st+=Z&65535,nt+=Z>>>16,it+=W&65535,ut+=W>>>16,nt+=st>>>16,it+=nt>>>16,ut+=it>>>16,c[7]=ue=it&65535|ut<<16,g[7]=Se=st&65535|nt<<16,Le+=128,i-=128}return i}function $t(c,g,y){var i=new Int32Array(8),x=new Int32Array(8),R=new Uint8Array(256),D,G=y;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,x[0]=4089235720,x[1]=2227873595,x[2]=4271175723,x[3]=1595750129,x[4]=2917565137,x[5]=725511199,x[6]=4215389547,x[7]=327033209,Nt(i,x,g,y),y%=128,D=0;D<y;D++)R[D]=g[G-y+D];for(R[y]=128,y=256-128*(y<112?1:0),R[y-9]=0,ft(R,y-8,G/536870912|0,G<<3),Nt(i,x,R,y),D=0;D<8;D++)ft(c,8*D,i[D],x[D]);return 0}function _e(c,g){var y=f(),i=f(),x=f(),R=f(),D=f(),G=f(),rt=f(),vt=f(),lt=f();$(y,c[1],c[0]),$(lt,g[1],g[0]),k(y,y,lt),N(i,c[0],c[1]),N(lt,g[0],g[1]),k(i,i,lt),k(x,c[3],g[3]),k(x,x,Y),k(R,c[2],g[2]),N(R,R,R),$(D,i,y),$(G,R,x),N(rt,R,x),N(vt,i,y),k(c[0],D,G),k(c[1],vt,rt),k(c[2],rt,G),k(c[3],D,vt)}function Qt(c,g,y){var i;for(i=0;i<4;i++)A(c[i],g[i],y)}function ee(c,g){var y=f(),i=f(),x=f();ct(x,g[2]),k(y,g[0],x),k(i,g[1],x),h(c,i),c[31]^=d(y)<<7}function je(c,g,y){var i,x;for(p(c[0],b),p(c[1],M),p(c[2],M),p(c[3],b),x=255;x>=0;--x)i=y[x/8|0]>>(x&7)&1,Qt(c,g,i),_e(g,c),_e(c,c),Qt(c,g,i)}function ie(c,g){var y=[f(),f(),f(),f()];p(y[0],J),p(y[1],Q),p(y[2],M),k(y[3],J,Q),je(c,y,g)}function re(c,g,y){var i=new Uint8Array(64),x=[f(),f(),f(),f()],R;for(y||s(g,32),$t(i,g,32),i[0]&=248,i[31]&=127,i[31]|=64,ie(x,i),ee(c,x),R=0;R<32;R++)g[R+32]=c[R];return 0}var Ue=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function te(c,g){var y,i,x,R;for(i=63;i>=32;--i){for(y=0,x=i-32,R=i-12;x<R;++x)g[x]+=y-16*g[i]*Ue[x-(i-32)],y=Math.floor((g[x]+128)/256),g[x]-=y*256;g[x]+=y,g[i]=0}for(y=0,x=0;x<32;x++)g[x]+=y-(g[31]>>4)*Ue[x],y=g[x]>>8,g[x]&=255;for(x=0;x<32;x++)g[x]-=y*Ue[x];for(i=0;i<32;i++)g[i+1]+=g[i]>>8,c[i]=g[i]&255}function fe(c){var g=new Float64Array(64),y;for(y=0;y<64;y++)g[y]=c[y];for(y=0;y<64;y++)c[y]=0;te(c,g)}function Je(c,g,y,i){var x=new Uint8Array(64),R=new Uint8Array(64),D=new Uint8Array(64),G,rt,vt=new Float64Array(64),lt=[f(),f(),f(),f()];$t(x,i,32),x[0]&=248,x[31]&=127,x[31]|=64;var Gt=y+64;for(G=0;G<y;G++)c[64+G]=g[G];for(G=0;G<32;G++)c[32+G]=x[32+G];for($t(D,c.subarray(32),y+32),fe(D),ie(lt,D),ee(c,lt),G=32;G<64;G++)c[G]=i[G];for($t(R,c,y+64),fe(R),G=0;G<64;G++)vt[G]=0;for(G=0;G<32;G++)vt[G]=D[G];for(G=0;G<32;G++)for(rt=0;rt<32;rt++)vt[G+rt]+=R[G]*x[rt];return te(c.subarray(32),vt),Gt}function he(c,g){var y=f(),i=f(),x=f(),R=f(),D=f(),G=f(),rt=f();return p(c[2],M),q(c[1],g),F(x,c[1]),k(R,x,L),$(x,x,c[2]),N(R,c[2],R),F(D,R),F(G,D),k(rt,G,D),k(y,rt,x),k(y,y,R),mt(y,y),k(y,y,x),k(y,y,R),k(y,y,R),k(c[0],y,R),F(i,c[0]),k(i,i,R),n(i,x)&&k(c[0],c[0],V),F(i,c[0]),k(i,i,R),n(i,x)?-1:(d(c[0])===g[31]>>7&&$(c[0],b,c[0]),k(c[3],c[0],c[1]),0)}function Wt(c,g,y,i){var x,R=new Uint8Array(32),D=new Uint8Array(64),G=[f(),f(),f(),f()],rt=[f(),f(),f(),f()];if(y<64||he(rt,i))return-1;for(x=0;x<y;x++)c[x]=g[x];for(x=0;x<32;x++)c[x+32]=i[x];if($t(D,c,y),fe(D),je(G,rt,D),ie(rt,g.subarray(32)),_e(G,rt),ee(R,G),y-=64,X(g,0,R,0)){for(x=0;x<y;x++)c[x]=0;return-1}for(x=0;x<y;x++)c[x]=g[x+64];return y}var Re=32,H=24,j=32,Kt=16,At=32,Ct=32,Ut=32,ne=32,ce=32,Ie=H,le=j,xe=Kt,Pe=64,Zt=32,de=64,nr=32,me=64;r.lowlevel={crypto_core_hsalsa20:_,crypto_stream_xor:z,crypto_stream:K,crypto_stream_salsa20_xor:E,crypto_stream_salsa20:U,crypto_onetimeauth:e,crypto_onetimeauth_verify:o,crypto_verify_16:P,crypto_verify_32:X,crypto_secretbox:u,crypto_secretbox_open:l,crypto_scalarmult:ot,crypto_scalarmult_base:yt,crypto_box_beforenm:Et,crypto_box_afternm:et,crypto_box:ht,crypto_box_open:Mt,crypto_box_keypair:St,crypto_hash:$t,crypto_sign:Je,crypto_sign_keypair:re,crypto_sign_open:Wt,crypto_secretbox_KEYBYTES:Re,crypto_secretbox_NONCEBYTES:H,crypto_secretbox_ZEROBYTES:j,crypto_secretbox_BOXZEROBYTES:Kt,crypto_scalarmult_BYTES:At,crypto_scalarmult_SCALARBYTES:Ct,crypto_box_PUBLICKEYBYTES:Ut,crypto_box_SECRETKEYBYTES:ne,crypto_box_BEFORENMBYTES:ce,crypto_box_NONCEBYTES:Ie,crypto_box_ZEROBYTES:le,crypto_box_BOXZEROBYTES:xe,crypto_sign_BYTES:Pe,crypto_sign_PUBLICKEYBYTES:Zt,crypto_sign_SECRETKEYBYTES:de,crypto_sign_SEEDBYTES:nr,crypto_hash_BYTES:me,gf:f,D:L,L:Ue,pack25519:h,unpack25519:q,M:k,A:N,S:F,Z:$,pow2523:mt,add:_e,set25519:p,modL:te,scalarmult:je,scalarbase:ie};function ye(c,g){if(c.length!==Re)throw new Error("bad key size");if(g.length!==H)throw new Error("bad nonce size")}function sr(c,g){if(c.length!==Ut)throw new Error("bad public key size");if(g.length!==ne)throw new Error("bad secret key size")}function Ft(){for(var c=0;c<arguments.length;c++)if(!(arguments[c]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ve(c){for(var g=0;g<c.length;g++)c[g]=0}r.randomBytes=function(c){var g=new Uint8Array(c);return s(g,c),g},r.secretbox=function(c,g,y){Ft(c,g,y),ye(y,g);for(var i=new Uint8Array(j+c.length),x=new Uint8Array(i.length),R=0;R<c.length;R++)i[R+j]=c[R];return u(x,i,i.length,g,y),x.subarray(Kt)},r.secretbox.open=function(c,g,y){Ft(c,g,y),ye(y,g);for(var i=new Uint8Array(Kt+c.length),x=new Uint8Array(i.length),R=0;R<c.length;R++)i[R+Kt]=c[R];return i.length<32||l(x,i,i.length,g,y)!==0?null:x.subarray(j)},r.secretbox.keyLength=Re,r.secretbox.nonceLength=H,r.secretbox.overheadLength=Kt,r.scalarMult=function(c,g){if(Ft(c,g),c.length!==Ct)throw new Error("bad n size");if(g.length!==At)throw new Error("bad p size");var y=new Uint8Array(At);return ot(y,c,g),y},r.scalarMult.base=function(c){if(Ft(c),c.length!==Ct)throw new Error("bad n size");var g=new Uint8Array(At);return yt(g,c),g},r.scalarMult.scalarLength=Ct,r.scalarMult.groupElementLength=At,r.box=function(c,g,y,i){var x=r.box.before(y,i);return r.secretbox(c,g,x)},r.box.before=function(c,g){Ft(c,g),sr(c,g);var y=new Uint8Array(ce);return Et(y,c,g),y},r.box.after=r.secretbox,r.box.open=function(c,g,y,i){var x=r.box.before(y,i);return r.secretbox.open(c,g,x)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var c=new Uint8Array(Ut),g=new Uint8Array(ne);return St(c,g),{publicKey:c,secretKey:g}},r.box.keyPair.fromSecretKey=function(c){if(Ft(c),c.length!==ne)throw new Error("bad secret key size");var g=new Uint8Array(Ut);return yt(g,c),{publicKey:g,secretKey:new Uint8Array(c)}},r.box.publicKeyLength=Ut,r.box.secretKeyLength=ne,r.box.sharedKeyLength=ce,r.box.nonceLength=Ie,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(c,g){if(Ft(c,g),g.length!==de)throw new Error("bad secret key size");var y=new Uint8Array(Pe+c.length);return Je(y,c,c.length,g),y},r.sign.open=function(c,g){if(Ft(c,g),g.length!==Zt)throw new Error("bad public key size");var y=new Uint8Array(c.length),i=Wt(y,c,c.length,g);if(i<0)return null;for(var x=new Uint8Array(i),R=0;R<x.length;R++)x[R]=y[R];return x},r.sign.detached=function(c,g){for(var y=r.sign(c,g),i=new Uint8Array(Pe),x=0;x<i.length;x++)i[x]=y[x];return i},r.sign.detached.verify=function(c,g,y){if(Ft(c,g,y),g.length!==Pe)throw new Error("bad signature size");if(y.length!==Zt)throw new Error("bad public key size");var i=new Uint8Array(Pe+c.length),x=new Uint8Array(Pe+c.length),R;for(R=0;R<Pe;R++)i[R]=g[R];for(R=0;R<c.length;R++)i[R+Pe]=c[R];return Wt(x,i,i.length,y)>=0},r.sign.keyPair=function(){var c=new Uint8Array(Zt),g=new Uint8Array(de);return re(c,g),{publicKey:c,secretKey:g}},r.sign.keyPair.fromSecretKey=function(c){if(Ft(c),c.length!==de)throw new Error("bad secret key size");for(var g=new Uint8Array(Zt),y=0;y<g.length;y++)g[y]=c[32+y];return{publicKey:g,secretKey:new Uint8Array(c)}},r.sign.keyPair.fromSeed=function(c){if(Ft(c),c.length!==nr)throw new Error("bad seed size");for(var g=new Uint8Array(Zt),y=new Uint8Array(de),i=0;i<32;i++)y[i]=c[i];return re(g,y,!0),{publicKey:g,secretKey:y}},r.sign.publicKeyLength=Zt,r.sign.secretKeyLength=de,r.sign.seedLength=nr,r.sign.signatureLength=Pe,r.hash=function(c){Ft(c);var g=new Uint8Array(me);return $t(g,c,c.length),g},r.hash.hashLength=me,r.verify=function(c,g){return Ft(c,g),c.length===0||g.length===0||c.length!==g.length?!1:tt(c,0,g,0,c.length)===0},r.setPRNG=function(c){s=c},function(){var c=typeof self<"u"?self.crypto||self.msCrypto:null;if(c&&c.getRandomValues){var g=65536;r.setPRNG(function(y,i){var x,R=new Uint8Array(i);for(x=0;x<i;x+=g)c.getRandomValues(R.subarray(x,x+Math.min(i-x,g)));for(x=0;x<i;x++)y[x]=R[x];ve(R)})}else typeof Bn<"u"&&(c=mf(),c&&c.randomBytes&&r.setPRNG(function(y,i){var x,R=c.randomBytes(i);for(x=0;x<i;x++)y[x]=R[x];ve(R)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(sf);var As=sf.exports,Ts=ge&&ge.__createBinding||(Object.create?function(t,r,f,s){s===void 0&&(s=f);var v=Object.getOwnPropertyDescriptor(r,f);(!v||("get"in v?!r.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return r[f]}}),Object.defineProperty(t,s,v)}:function(t,r,f,s){s===void 0&&(s=f),t[s]=r[f]}),Os=ge&&ge.__setModuleDefault||(Object.create?function(t,r){Object.defineProperty(t,"default",{enumerable:!0,value:r})}:function(t,r){t.default=r}),af=ge&&ge.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(t!=null)for(var f in t)f!=="default"&&Object.prototype.hasOwnProperty.call(t,f)&&Ts(r,t,f);return Os(r,t),r};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getEncryptionPublicKey=Ze.decryptSafely=Ze.decrypt=Ze.encryptSafely=Ze.encrypt=void 0;const xr=af(As),Xe=af(vf),rr=Oe;function uf({publicKey:t,data:r,version:f}){if((0,rr.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,rr.isNullish)(r))throw new Error("Missing data parameter");if((0,rr.isNullish)(f))throw new Error("Missing version parameter");switch(f){case"x25519-xsalsa20-poly1305":{if(typeof r!="string")throw new Error("Message data must be given as a string");const s=xr.box.keyPair();let v;try{v=Xe.decodeBase64(t)}catch{throw new Error("Bad public key")}const a=Xe.decodeUTF8(r),b=xr.randomBytes(xr.box.nonceLength),M=xr.box(a,b,v,s.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:Xe.encodeBase64(b),ephemPublicKey:Xe.encodeBase64(s.publicKey),ciphertext:Xe.encodeBase64(M)}}default:throw new Error("Encryption type/version not supported")}}Ze.encrypt=uf;function Is({publicKey:t,data:r,version:f}){if((0,rr.isNullish)(t))throw new Error("Missing publicKey parameter");if((0,rr.isNullish)(r))throw new Error("Missing data parameter");if((0,rr.isNullish)(f))throw new Error("Missing version parameter");const s=2**11,v=16;if(typeof r=="object"&&r&&"toJSON"in r)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const a={data:r,padding:""},M=xt.byteLength(JSON.stringify(a),"utf-8")%s;let S=0;M>0&&(S=s-M-v),a.padding="0".repeat(S);const L=JSON.stringify(a);return uf({publicKey:t,data:L,version:f})}Ze.encryptSafely=Is;function cf({encryptedData:t,privateKey:r}){if((0,rr.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,rr.isNullish)(r))throw new Error("Missing privateKey parameter");switch(t.version){case"x25519-xsalsa20-poly1305":{const f=hf(r),s=xr.box.keyPair.fromSecretKey(f).secretKey,v=Xe.decodeBase64(t.nonce),a=Xe.decodeBase64(t.ciphertext),b=Xe.decodeBase64(t.ephemPublicKey),M=xr.box.open(a,v,b,s);try{if(!M)throw new Error;const S=Xe.encodeUTF8(M);if(!S)throw new Error;return S}catch(S){throw S&&typeof S.message=="string"&&S.message.length?new Error(`Decryption failed: ${S.message}`):new Error("Decryption failed.")}}default:throw new Error("Encryption type/version not supported.")}}Ze.decrypt=cf;function Ps({encryptedData:t,privateKey:r}){if((0,rr.isNullish)(t))throw new Error("Missing encryptedData parameter");if((0,rr.isNullish)(r))throw new Error("Missing privateKey parameter");return JSON.parse(cf({encryptedData:t,privateKey:r})).data}Ze.decryptSafely=Ps;function Ls(t){const r=hf(t),f=xr.box.keyPair.fromSecretKey(r).publicKey;return Xe.encodeBase64(f)}Ze.getEncryptionPublicKey=Ls;function hf(t){const r=xt.from(t,"hex").toString("base64");return Xe.decodeBase64(r)}(function(t){var r=ge&&ge.__createBinding||(Object.create?function(v,a,b,M){M===void 0&&(M=b);var S=Object.getOwnPropertyDescriptor(a,b);(!S||("get"in S?!a.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return a[b]}}),Object.defineProperty(v,M,S)}:function(v,a,b,M){M===void 0&&(M=b),v[M]=a[b]}),f=ge&&ge.__exportStar||function(v,a){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(a,b)&&r(a,v,b)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,f(pr,t),f(rf,t),f(Ze,t);var s=Oe;Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return s.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return s.normalize}})})(pi);(function(t){var r=ge&&ge.__createBinding||(Object.create?function(M,S,L,Y){Y===void 0&&(Y=L);var J=Object.getOwnPropertyDescriptor(S,L);(!J||("get"in J?!S.__esModule:J.writable||J.configurable))&&(J={enumerable:!0,get:function(){return S[L]}}),Object.defineProperty(M,Y,J)}:function(M,S,L,Y){Y===void 0&&(Y=L),M[Y]=S[L]}),f=ge&&ge.__setModuleDefault||(Object.create?function(M,S){Object.defineProperty(M,"default",{enumerable:!0,value:S})}:function(M,S){M.default=S}),s=ge&&ge.__importStar||function(M){if(M&&M.__esModule)return M;var S={};if(M!=null)for(var L in M)L!=="default"&&Object.prototype.hasOwnProperty.call(M,L)&&r(S,M,L);return f(S,M),S};Object.defineProperty(t,"__esModule",{value:!0}),t.transformTypedData=void 0;const v=s(pi);function a(M){switch(Object.prototype.toString.call(M)){case"[object Object]":{const S=Object.keys(M).map(L=>[L,a(M[L])]);return Object.fromEntries(S)}case"[object Array]":return M.map(S=>a(S));case"[object BigInt]":return M.toString();default:return M}}const b=(M,S)=>{if(!S)throw new Error("Trezor: Only version 4 of typed data signing is supported");const L=v.SignTypedDataVersion.V4,{types:Y,primaryType:J,domain:Q,message:V}=v.TypedDataUtils.sanitizeData(M),ft=v.TypedDataUtils.hashStruct("EIP712Domain",a(Q),Y,L).toString("hex");let tt=null;return J!=="EIP712Domain"&&(tt=v.TypedDataUtils.hashStruct(J,a(V),Y,L).toString("hex")),Object.assign({domain_separator_hash:ft,message_hash:tt},M)};t.transformTypedData=b,t.default=t.transformTypedData})(yi);const Rs=xf(yi),Us=Object.freeze(Object.defineProperty({__proto__:null,default:Rs},Symbol.toStringTag,{value:"Module"}));export{Us as i};
