var C=0,q=[],G=(f,k,v)=>{let w={type:f,id:String(++C),date:new Date};if(k)w.message=k;if(v)w.data=v;D(w)},E=({type:f,message:k,data:v,context:w})=>{let z={type:f,id:String(++C),date:new Date};if(k)z.message=k;if(v)z.data=v;if(w)z.context=w;D(z)};class B{constructor(f,k){this.type=f,this.context=k}trace(f,k){E({type:this.type,message:f,data:k,context:this.context})}getContext(){return this.context}setContext(f){this.context=f}updateContext(f){this.context=Object.assign(Object.assign({},this.context),f)}getType(){return this.type}setType(f){this.type=f}withType(f){return new B(f,this.context)}withContext(f){return new B(this.type,f)}withUpdatedContext(f){return new B(this.type,Object.assign(Object.assign({},this.context),f))}}var F=(f)=>{return q.push(f),()=>{let k=q.indexOf(f);if(k!==-1)q[k]=q[q.length-1],q.pop()}};function D(f){for(let k=0;k<q.length;k++)try{q[k](f)}catch(v){console.error(v)}}if(typeof window!=="undefined")window.__ledgerLogsListen=F;
export{G as u,B as v};

//# debugId=7A5BB9CAF66B594E64756E2164756E21
