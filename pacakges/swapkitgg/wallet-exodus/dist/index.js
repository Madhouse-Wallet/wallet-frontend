var dZ=Object.defineProperty;var pZ=($,Q)=>{for(var J in Q)dZ($,J,{get:Q[J],enumerable:!0,configurable:!0,set:(X)=>Q[J]=()=>X})};import{Chain as l0,ChainToHexChainId as gZ,EVMChains as E5,WalletOption as mZ,filterSupportedChains as B5,pickEvmApiKey as A5,prepareNetworkSwitch as P5,setRequestClientConfig as w5,switchEVMWalletNetwork as j5}from"@swapkit/helpers";import{getProvider as F5,getToolboxByChain as _5}from"@swapkit/toolbox-evm";import{BTCToolbox as x5,Psbt as k5}from"@swapkit/toolbox-utxo";var hX="6.13.5";function uZ($,Q,J){let X=Q.split("|").map((Z)=>Z.trim());for(let Z=0;Z<X.length;Z++)switch(Q){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof $===Q)return}let Y=new Error(`invalid value for type ${Q}`);throw Y.code="INVALID_ARGUMENT",Y.argument=`value.${J}`,Y.value=$,Y}async function J0($){let Q=Object.keys($);return(await Promise.all(Q.map((X)=>Promise.resolve($[X])))).reduce((X,Y,Z)=>{return X[Q[Z]]=Y,X},{})}function E($,Q,J){for(let X in Q){let Y=Q[X],Z=J?J[X]:null;if(Z)uZ(Y,Z,X);Object.defineProperty($,X,{enumerable:!0,value:Y,writable:!1})}}function s$($){if($==null)return"null";if(Array.isArray($))return"[ "+$.map(s$).join(", ")+" ]";if($ instanceof Uint8Array){let J="0x";for(let X=0;X<$.length;X++)J+="0123456789abcdef"[$[X]>>4],J+="0123456789abcdef"[$[X]&15];return J}if(typeof $==="object"&&typeof $.toJSON==="function")return s$($.toJSON());switch(typeof $){case"boolean":case"symbol":return $.toString();case"bigint":return BigInt($).toString();case"number":return $.toString();case"string":return JSON.stringify($);case"object":{let Q=Object.keys($);return Q.sort(),"{ "+Q.map((J)=>`${s$(J)}: ${s$($[J])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function r($,Q){return $&&$.code===Q}function r$($){return r($,"CALL_EXCEPTION")}function i($,Q,J){let X=$;{let Z=[];if(J){if("message"in J||"code"in J||"name"in J)throw new Error(`value will overwrite populated values: ${s$(J)}`);for(let z in J){if(z==="shortMessage")continue;let K=J[z];Z.push(z+"="+s$(K))}}if(Z.push(`code=${Q}`),Z.push(`version=${hX}`),Z.length)$+=" ("+Z.join(", ")+")"}let Y;switch(Q){case"INVALID_ARGUMENT":Y=new TypeError($);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":Y=new RangeError($);break;default:Y=new Error($)}if(E(Y,{code:Q}),J)Object.assign(Y,J);if(Y.shortMessage==null)E(Y,{shortMessage:X});return Y}function R($,Q,J,X){if(!$)throw i(Q,J,X)}function O($,Q,J,X){R($,Q,"INVALID_ARGUMENT",{argument:J,value:X})}function N8($,Q,J){if(J==null)J="";if(J)J=": "+J;R($>=Q,"missing argument"+J,"MISSING_ARGUMENT",{count:$,expectedCount:Q}),R($<=Q,"too many arguments"+J,"UNEXPECTED_ARGUMENT",{count:$,expectedCount:Q})}var iZ=["NFD","NFC","NFKD","NFKC"].reduce(($,Q)=>{try{if("test".normalize(Q)!=="test")throw new Error("bad");if(Q==="NFD"){let J=String.fromCharCode(233).normalize("NFD"),X=String.fromCharCode(101,769);if(J!==X)throw new Error("broken")}$.push(Q)}catch(J){}return $},[]);function iQ($){R(iZ.indexOf($)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:$}})}function O$($,Q,J){if(J==null)J="";if($!==Q){let X=J,Y="new";if(J)X+=".",Y+=" "+J;R(!1,`private constructor; use ${X}from* methods`,"UNSUPPORTED_OPERATION",{operation:Y})}}function yX($,Q,J){if($ instanceof Uint8Array){if(J)return new Uint8Array($);return $}if(typeof $==="string"&&$.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let X=new Uint8Array(($.length-2)/2),Y=2;for(let Z=0;Z<X.length;Z++)X[Z]=parseInt($.substring(Y,Y+2),16),Y+=2;return X}O(!1,"invalid BytesLike value",Q||"value",$)}function _($,Q){return yX($,Q,!1)}function X0($,Q){return yX($,Q,!0)}function y($,Q){if(typeof $!=="string"||!$.match(/^0x[0-9A-Fa-f]*$/))return!1;if(typeof Q==="number"&&$.length!==2+2*Q)return!1;if(Q===!0&&$.length%2!==0)return!1;return!0}function x$($){return y($,!0)||$ instanceof Uint8Array}var bX="0123456789abcdef";function L($){let Q=_($),J="0x";for(let X=0;X<Q.length;X++){let Y=Q[X];J+=bX[(Y&240)>>4]+bX[Y&15]}return J}function p($){return"0x"+$.map((Q)=>L(Q).substring(2)).join("")}function s0($){if(y($,!0))return($.length-2)/2;return _($).length}function o($,Q,J){let X=_($);if(J!=null&&J>X.length)R(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:X,length:X.length,offset:J});return L(X.slice(Q==null?0:Q,J==null?X.length:J))}function vX($,Q,J){let X=_($);R(Q>=X.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(X),length:Q,offset:Q+1});let Y=new Uint8Array(Q);if(Y.fill(0),J)Y.set(X,Q-X.length);else Y.set(X,0);return L(Y)}function P0($,Q){return vX($,Q,!0)}function lQ($,Q){return vX($,Q,!1)}var t8=BigInt(0),v0=BigInt(1),a$=9007199254740991;function nQ($,Q){let J=T8($,"value"),X=BigInt(k(Q,"width"));if(R(J>>X===t8,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:$}),J>>X-v0){let Y=(v0<<X)-v0;return-((~J&Y)+v0)}return J}function S8($,Q){let J=T($,"value"),X=BigInt(k(Q,"width")),Y=v0<<X-v0;if(J<t8){J=-J,R(J<=Y,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});let Z=(v0<<X)-v0;return(~J&Z)+v0}else R(J<Y,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:$});return J}function D$($,Q){let J=T8($,"value"),X=BigInt(k(Q,"bits"));return J&(v0<<X)-v0}function T($,Q){switch(typeof $){case"bigint":return $;case"number":return O(Number.isInteger($),"underflow",Q||"value",$),O($>=-a$&&$<=a$,"overflow",Q||"value",$),BigInt($);case"string":try{if($==="")throw new Error("empty string");if($[0]==="-"&&$[1]!=="-")return-BigInt($.substring(1));return BigInt($)}catch(J){O(!1,`invalid BigNumberish string: ${J.message}`,Q||"value",$)}}O(!1,"invalid BigNumberish value",Q||"value",$)}function T8($,Q){let J=T($,Q);return R(J>=t8,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:$}),J}var gX="0123456789abcdef";function t$($){if($ instanceof Uint8Array){let Q="0x0";for(let J of $)Q+=gX[J>>4],Q+=gX[J&15];return BigInt(Q)}return T($)}function k($,Q){switch(typeof $){case"bigint":return O($>=-a$&&$<=a$,"overflow",Q||"value",$),Number($);case"number":return O(Number.isInteger($),"underflow",Q||"value",$),O($>=-a$&&$<=a$,"overflow",Q||"value",$),$;case"string":try{if($==="")throw new Error("empty string");return k(BigInt($),Q)}catch(J){O(!1,`invalid numeric string: ${J.message}`,Q||"value",$)}}O(!1,"invalid numeric value",Q||"value",$)}function oQ($){return k(t$($))}function T0($,Q){let X=T8($,"value").toString(16);if(Q==null){if(X.length%2)X="0"+X}else{let Y=k(Q,"width");R(Y*2>=X.length,`value exceeds width (${Y} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:$});while(X.length<Y*2)X="0"+X}return"0x"+X}function G0($){let Q=T8($,"value");if(Q===t8)return new Uint8Array([]);let J=Q.toString(16);if(J.length%2)J="0"+J;let X=new Uint8Array(J.length/2);for(let Y=0;Y<X.length;Y++){let Z=Y*2;X[Y]=parseInt(J.substring(Z,Z+2),16)}return X}function r0($){let Q=L(x$($)?$:G0($)).substring(2);while(Q.startsWith("0"))Q=Q.substring(1);if(Q==="")Q="0";return"0x"+Q}var mX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var e5=BigInt(0),cX=BigInt(58);function sQ($){let Q=_($),J=t$(Q),X="";while(J)X=mX[Number(J%cX)]+X,J/=cX;for(let Y=0;Y<Q.length;Y++){if(Q[Y])break;X=mX[0]+X}return X}function dX($){$=atob($);let Q=new Uint8Array($.length);for(let J=0;J<$.length;J++)Q[J]=$.charCodeAt(J);return _(Q)}function pX($){let Q=_($),J="";for(let X=0;X<Q.length;X++)J+=String.fromCharCode(Q[X]);return btoa(J)}class e${filter;emitter;#$;constructor($,Q,J){this.#$=Q,E(this,{emitter:$,filter:J})}async removeListener(){if(this.#$==null)return;await this.emitter.off(this.filter,this.#$)}}function lZ($,Q,J,X,Y){O(!1,`invalid codepoint at offset ${Q}; ${$}`,"bytes",J)}function uX($,Q,J,X,Y){if($==="BAD_PREFIX"||$==="UNEXPECTED_CONTINUE"){let Z=0;for(let z=Q+1;z<J.length;z++){if(J[z]>>6!==2)break;Z++}return Z}if($==="OVERRUN")return J.length-Q-1;return 0}function nZ($,Q,J,X,Y){if($==="OVERLONG")return O(typeof Y==="number","invalid bad code point for replacement","badCodepoint",Y),X.push(Y),0;return X.push(65533),uX($,Q,J,X,Y)}var iX=Object.freeze({error:lZ,ignore:uX,replace:nZ});function oZ($,Q){if(Q==null)Q=iX.error;let J=_($,"bytes"),X=[],Y=0;while(Y<J.length){let Z=J[Y++];if(Z>>7===0){X.push(Z);continue}let z=null,K=null;if((Z&224)===192)z=1,K=127;else if((Z&240)===224)z=2,K=2047;else if((Z&248)===240)z=3,K=65535;else{if((Z&192)===128)Y+=Q("UNEXPECTED_CONTINUE",Y-1,J,X);else Y+=Q("BAD_PREFIX",Y-1,J,X);continue}if(Y-1+z>=J.length){Y+=Q("OVERRUN",Y-1,J,X);continue}let G=Z&(1<<8-z-1)-1;for(let V=0;V<z;V++){let W=J[Y];if((W&192)!=128){Y+=Q("MISSING_CONTINUE",Y,J,X),G=null;break}G=G<<6|W&63,Y++}if(G===null)continue;if(G>1114111){Y+=Q("OUT_OF_RANGE",Y-1-z,J,X,G);continue}if(G>=55296&&G<=57343){Y+=Q("UTF16_SURROGATE",Y-1-z,J,X,G);continue}if(G<=K){Y+=Q("OVERLONG",Y-1-z,J,X,G);continue}X.push(G)}return X}function C0($,Q){if(O(typeof $==="string","invalid string value","str",$),Q!=null)iQ(Q),$=$.normalize(Q);let J=[];for(let X=0;X<$.length;X++){let Y=$.charCodeAt(X);if(Y<128)J.push(Y);else if(Y<2048)J.push(Y>>6|192),J.push(Y&63|128);else if((Y&64512)==55296){X++;let Z=$.charCodeAt(X);O(X<$.length&&(Z&64512)===56320,"invalid surrogate pair","str",$);let z=65536+((Y&1023)<<10)+(Z&1023);J.push(z>>18|240),J.push(z>>12&63|128),J.push(z>>6&63|128),J.push(z&63|128)}else J.push(Y>>12|224),J.push(Y>>6&63|128),J.push(Y&63|128)}return new Uint8Array(J)}function sZ($){return $.map((Q)=>{if(Q<=65535)return String.fromCharCode(Q);return Q-=65536,String.fromCharCode((Q>>10&1023)+55296,(Q&1023)+56320)}).join("")}function U$($,Q){return sZ(oZ($,Q))}function e8($){async function Q(J,X){R(X==null||!X.cancelled,"request cancelled before sending","CANCELLED");let Y=J.url.split(":")[0].toLowerCase();R(Y==="http"||Y==="https",`unsupported protocol ${Y}`,"UNSUPPORTED_OPERATION",{info:{protocol:Y},operation:"request"}),R(Y==="https"||!J.credentials||J.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let Z=null,z=new AbortController,K=setTimeout(()=>{Z=i("request timeout","TIMEOUT"),z.abort()},J.timeout);if(X)X.addListener(()=>{Z=i("request cancelled","CANCELLED"),z.abort()});let G={method:J.method,headers:new Headers(Array.from(J)),body:J.body||void 0,signal:z.signal},V;try{V=await fetch(J.url,G)}catch(I){if(clearTimeout(K),Z)throw Z;throw I}clearTimeout(K);let W={};V.headers.forEach((I,D)=>{W[D.toLowerCase()]=I});let M=await V.arrayBuffer(),U=M==null?null:new Uint8Array(M);return{statusCode:V.status,statusMessage:V.statusText,headers:W,body:U}}return Q}var WW=e8({});var rZ=12,aZ=250,lX=e8(),tZ=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),eZ=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),rQ=!1;async function oX($,Q){try{let J=$.match(tZ);if(!J)throw new Error("invalid data");return new Q$(200,"OK",{"content-type":J[1]||"text/plain"},J[2]?dX(J[3]):$z(J[3]))}catch(J){return new Q$(599,"BAD REQUEST (invalid data: URI)",{},null,new E0($))}}function sX($){async function Q(J,X){try{let Y=J.match(eZ);if(!Y)throw new Error("invalid link");return new E0(`${$}${Y[2]}`)}catch(Y){return new Q$(599,"BAD REQUEST (invalid IPFS URI)",{},null,new E0(J))}}return Q}var $Q={data:oX,ipfs:sX("https://gateway.ipfs.io/ipfs/")},rX=new WeakMap;class aQ{#$;#Q;constructor($){this.#$=[],this.#Q=!1,rX.set($,()=>{if(this.#Q)return;this.#Q=!0;for(let Q of this.#$)setTimeout(()=>{Q()},0);this.#$=[]})}addListener($){R(!this.#Q,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#$.push($)}get cancelled(){return this.#Q}checkSignal(){R(!this.cancelled,"cancelled","CANCELLED",{})}}function QQ($){if($==null)throw new Error("missing signal; should not happen");return $.checkSignal(),$}class E0{#$;#Q;#J;#X;#Y;#z;#Z;#K;#D;#W;#U;#q;#G;#V;#M;get url(){return this.#z}set url($){this.#z=String($)}get body(){if(this.#Z==null)return null;return new Uint8Array(this.#Z)}set body($){if($==null)this.#Z=void 0,this.#K=void 0;else if(typeof $==="string")this.#Z=C0($),this.#K="text/plain";else if($ instanceof Uint8Array)this.#Z=$,this.#K="application/octet-stream";else if(typeof $==="object")this.#Z=C0(JSON.stringify($)),this.#K="application/json";else throw new Error("invalid body")}hasBody(){return this.#Z!=null}get method(){if(this.#X)return this.#X;if(this.hasBody())return"POST";return"GET"}set method($){if($==null)$="";this.#X=String($).toUpperCase()}get headers(){let $=Object.assign({},this.#J);if(this.#D)$.authorization=`Basic ${pX(C0(this.#D))}`;if(this.allowGzip)$["accept-encoding"]="gzip";if($["content-type"]==null&&this.#K)$["content-type"]=this.#K;if(this.body)$["content-length"]=String(this.body.length);return $}getHeader($){return this.headers[$.toLowerCase()]}setHeader($,Q){this.#J[String($).toLowerCase()]=String(Q)}clearHeaders(){this.#J={}}[Symbol.iterator](){let $=this.headers,Q=Object.keys($),J=0;return{next:()=>{if(J<Q.length){let X=Q[J++];return{value:[X,$[X]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#D||null}setCredentials($,Q){O(!$.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#D=`${$}:${Q}`}get allowGzip(){return this.#Q}set allowGzip($){this.#Q=!!$}get allowInsecureAuthentication(){return!!this.#$}set allowInsecureAuthentication($){this.#$=!!$}get timeout(){return this.#Y}set timeout($){O($>=0,"timeout must be non-zero","timeout",$),this.#Y=$}get preflightFunc(){return this.#W||null}set preflightFunc($){this.#W=$}get processFunc(){return this.#U||null}set processFunc($){this.#U=$}get retryFunc(){return this.#q||null}set retryFunc($){this.#q=$}get getUrlFunc(){return this.#M||lX}set getUrlFunc($){this.#M=$}constructor($){this.#z=String($),this.#$=!1,this.#Q=!0,this.#J={},this.#X="",this.#Y=300000,this.#V={slotInterval:aZ,maxAttempts:rZ},this.#M=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#Z?L(this.#Z):"null"}>`}setThrottleParams($){if($.slotInterval!=null)this.#V.slotInterval=$.slotInterval;if($.maxAttempts!=null)this.#V.maxAttempts=$.maxAttempts}async#O($,Q,J,X,Y){if($>=this.#V.maxAttempts)return Y.makeServerError("exceeded maximum retry limit");if(R(nX()<=Q,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:X}),J>0)await Qz(J);let Z=this.clone(),z=(Z.url.split(":")[0]||"").toLowerCase();if(z in $Q){let V=await $Q[z](Z.url,QQ(X.#G));if(V instanceof Q$){let W=V;if(this.processFunc){QQ(X.#G);try{W=await this.processFunc(Z,W)}catch(M){if(M.throttle==null||typeof M.stall!=="number")W.makeServerError("error in post-processing function",M).assertOk()}}return W}Z=V}if(this.preflightFunc)Z=await this.preflightFunc(Z);let K=await this.getUrlFunc(Z,QQ(X.#G)),G=new Q$(K.statusCode,K.statusMessage,K.headers,K.body,X);if(G.statusCode===301||G.statusCode===302){try{let V=G.headers.location||"";return Z.redirect(V).#O($+1,Q,0,X,G)}catch(V){}return G}else if(G.statusCode===429){if(this.retryFunc==null||await this.retryFunc(Z,G,$)){let V=G.headers["retry-after"],W=this.#V.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(typeof V==="string"&&V.match(/^[1-9][0-9]*$/))W=parseInt(V);return Z.clone().#O($+1,Q,W,X,G)}}if(this.processFunc){QQ(X.#G);try{G=await this.processFunc(Z,G)}catch(V){if(V.throttle==null||typeof V.stall!=="number")G.makeServerError("error in post-processing function",V).assertOk();let W=this.#V.slotInterval*Math.trunc(Math.random()*Math.pow(2,$));if(V.stall>=0)W=V.stall;return Z.clone().#O($+1,Q,W,X,G)}}return G}send(){return R(this.#G==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#G=new aQ(this),this.#O(0,nX()+this.timeout,0,this,new Q$(0,"",{},null,this))}cancel(){R(this.#G!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let $=rX.get(this);if(!$)throw new Error("missing signal; should not happen");$()}redirect($){let Q=this.url.split(":")[0].toLowerCase(),J=$.split(":")[0].toLowerCase();R(this.method==="GET"&&(Q!=="https"||J!=="http")&&$.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify($)})`});let X=new E0($);if(X.method="GET",X.allowGzip=this.allowGzip,X.timeout=this.timeout,X.#J=Object.assign({},this.#J),this.#Z)X.#Z=new Uint8Array(this.#Z);return X.#K=this.#K,X}clone(){let $=new E0(this.url);if($.#X=this.#X,this.#Z)$.#Z=this.#Z;if($.#K=this.#K,$.#J=Object.assign({},this.#J),$.#D=this.#D,this.allowGzip)$.allowGzip=!0;if($.timeout=this.timeout,this.allowInsecureAuthentication)$.allowInsecureAuthentication=!0;return $.#W=this.#W,$.#U=this.#U,$.#q=this.#q,$.#V=Object.assign({},this.#V),$.#M=this.#M,$}static lockConfig(){rQ=!0}static getGateway($){return $Q[$.toLowerCase()]||null}static registerGateway($,Q){if($=$.toLowerCase(),$==="http"||$==="https")throw new Error(`cannot intercept ${$}; use registerGetUrl`);if(rQ)throw new Error("gateways locked");$Q[$]=Q}static registerGetUrl($){if(rQ)throw new Error("gateways locked");lX=$}static createGetUrlFunc($){return e8($)}static createDataGateway(){return oX}static createIpfsGatewayFunc($){return sX($)}}class Q${#$;#Q;#J;#X;#Y;#z;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#X?L(this.#X):"null"}>`}get statusCode(){return this.#$}get statusMessage(){return this.#Q}get headers(){return Object.assign({},this.#J)}get body(){return this.#X==null?null:new Uint8Array(this.#X)}get bodyText(){try{return this.#X==null?"":U$(this.#X)}catch($){R(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch($){R(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let $=this.headers,Q=Object.keys($),J=0;return{next:()=>{if(J<Q.length){let X=Q[J++];return{value:[X,$[X]],done:!1}}return{value:void 0,done:!0}}}}constructor($,Q,J,X,Y){this.#$=$,this.#Q=Q,this.#J=Object.keys(J).reduce((Z,z)=>{return Z[z.toLowerCase()]=String(J[z]),Z},{}),this.#X=X==null?null:new Uint8Array(X),this.#Y=Y||null,this.#z={message:""}}makeServerError($,Q){let J;if(!$)$=`${this.statusCode} ${this.statusMessage}`,J=`CLIENT ESCALATED SERVER ERROR (${$})`;else J=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${$})`;let X=new Q$(599,J,this.headers,this.body,this.#Y||void 0);return X.#z={message:$,error:Q},X}throwThrottleError($,Q){if(Q==null)Q=-1;else O(Number.isInteger(Q)&&Q>=0,"invalid stall timeout","stall",Q);let J=new Error($||"throttling requests");throw E(J,{stall:Q,throttle:!0}),J}getHeader($){return this.headers[$.toLowerCase()]}hasBody(){return this.#X!=null}get request(){return this.#Y}ok(){return this.#z.message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:$,error:Q}=this.#z;if($==="")$=`server response ${this.statusCode} ${this.statusMessage}`;let J=null;if(this.request)J=this.request.url;let X=null;try{if(this.#X)X=U$(this.#X)}catch(Y){}R(!1,$,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:Q,info:{requestUrl:J,responseBody:X,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function nX(){return new Date().getTime()}function $z($){return C0($.replace(/%([0-9a-f][0-9a-f])/gi,(Q,J)=>{return String.fromCharCode(parseInt(J,16))}))}function Qz($){return new Promise((Q)=>setTimeout(Q,$))}function Jz($){let Q=$.toString(16);while(Q.length<2)Q="0"+Q;return"0x"+Q}function aX($,Q,J){let X=0;for(let Y=0;Y<J;Y++)X=X*256+$[Q+Y];return X}function tX($,Q,J,X){let Y=[];while(J<Q+1+X){let Z=eX($,J);Y.push(Z.result),J+=Z.consumed,R(J<=Q+1+X,"child data too short","BUFFER_OVERRUN",{buffer:$,length:X,offset:Q})}return{consumed:1+X,result:Y}}function eX($,Q){R($.length!==0,"data too short","BUFFER_OVERRUN",{buffer:$,length:0,offset:1});let J=(X)=>{R(X<=$.length,"data short segment too short","BUFFER_OVERRUN",{buffer:$,length:$.length,offset:X})};if($[Q]>=248){let X=$[Q]-247;J(Q+1+X);let Y=aX($,Q+1,X);return J(Q+1+X+Y),tX($,Q,Q+1+X,X+Y)}else if($[Q]>=192){let X=$[Q]-192;return J(Q+1+X),tX($,Q,Q+1,X)}else if($[Q]>=184){let X=$[Q]-183;J(Q+1+X);let Y=aX($,Q+1,X);J(Q+1+X+Y);let Z=L($.slice(Q+1+X,Q+1+X+Y));return{consumed:1+X+Y,result:Z}}else if($[Q]>=128){let X=$[Q]-128;J(Q+1+X);let Y=L($.slice(Q+1,Q+1+X));return{consumed:1+X,result:Y}}return{consumed:1,result:Jz($[Q])}}function $8($){let Q=_($,"data"),J=eX(Q,0);return O(J.consumed===Q.length,"unexpected junk after rlp payload","data",$),J.result}function $Y($){let Q=[];while($)Q.unshift($&255),$>>=8;return Q}function JY($){if(Array.isArray($)){let X=[];if($.forEach(function(Z){X=X.concat(JY(Z))}),X.length<=55)return X.unshift(192+X.length),X;let Y=$Y(X.length);return Y.unshift(247+Y.length),Y.concat(X)}let Q=Array.prototype.slice.call(_($,"object"));if(Q.length===1&&Q[0]<=127)return Q;else if(Q.length<=55)return Q.unshift(128+Q.length),Q;let J=$Y(Q.length);return J.unshift(183+J.length),J.concat(Q)}var QY="0123456789abcdef";function a0($){let Q="0x";for(let J of JY($))Q+=QY[J>>4],Q+=QY[J&15];return Q}var q0=32,tQ=new Uint8Array(q0),Xz=["then"],JQ={},ZY=new WeakMap;function k$($){return ZY.get($)}function XY($,Q){ZY.set($,Q)}function E8($,Q){let J=new Error(`deferred error during ABI decoding triggered accessing ${$}`);throw J.error=Q,J}function eQ($,Q,J){if($.indexOf(null)>=0)return Q.map((X,Y)=>{if(X instanceof k0)return eQ(k$(X),X,J);return X});return $.reduce((X,Y,Z)=>{let z=Q.getValue(Y);if(!(Y in X)){if(J&&z instanceof k0)z=eQ(k$(z),z,J);X[Y]=z}return X},{})}class k0 extends Array{#$;constructor(...$){let Q=$[0],J=$[1],X=($[2]||[]).slice(),Y=!0;if(Q!==JQ)J=$,X=[],Y=!1;super(J.length);J.forEach((K,G)=>{this[G]=K});let Z=X.reduce((K,G)=>{if(typeof G==="string")K.set(G,(K.get(G)||0)+1);return K},new Map);if(XY(this,Object.freeze(J.map((K,G)=>{let V=X[G];if(V!=null&&Z.get(V)===1)return V;return null}))),this.#$=[],this.#$==null)this.#$;if(!Y)return;Object.freeze(this);let z=new Proxy(this,{get:(K,G,V)=>{if(typeof G==="string"){if(G.match(/^[0-9]+$/)){let M=k(G,"%index");if(M<0||M>=this.length)throw new RangeError("out of result range");let U=K[M];if(U instanceof Error)E8(`index ${M}`,U);return U}if(Xz.indexOf(G)>=0)return Reflect.get(K,G,V);let W=K[G];if(W instanceof Function)return function(...M){return W.apply(this===V?K:this,M)};else if(!(G in K))return K.getValue.apply(this===V?K:this,[G])}return Reflect.get(K,G,V)}});return XY(z,k$(this)),z}toArray($){let Q=[];return this.forEach((J,X)=>{if(J instanceof Error)E8(`index ${X}`,J);if($&&J instanceof k0)J=J.toArray($);Q.push(J)}),Q}toObject($){let Q=k$(this);return Q.reduce((J,X,Y)=>{return R(X!=null,`value at index ${Y} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),eQ(Q,this,$)},{})}slice($,Q){if($==null)$=0;if($<0){if($+=this.length,$<0)$=0}if(Q==null)Q=this.length;if(Q<0){if(Q+=this.length,Q<0)Q=0}if(Q>this.length)Q=this.length;let J=k$(this),X=[],Y=[];for(let Z=$;Z<Q;Z++)X.push(this[Z]),Y.push(J[Z]);return new k0(JQ,X,Y)}filter($,Q){let J=k$(this),X=[],Y=[];for(let Z=0;Z<this.length;Z++){let z=this[Z];if(z instanceof Error)E8(`index ${Z}`,z);if($.call(Q,z,Z,this))X.push(z),Y.push(J[Z])}return new k0(JQ,X,Y)}map($,Q){let J=[];for(let X=0;X<this.length;X++){let Y=this[X];if(Y instanceof Error)E8(`index ${X}`,Y);J.push($.call(Q,Y,X,this))}return J}getValue($){let Q=k$(this).indexOf($);if(Q===-1)return;let J=this[Q];if(J instanceof Error)E8(`property ${JSON.stringify($)}`,J.error);return J}static fromItems($,Q){return new k0(JQ,$,Q)}}function YY($){let Q=G0($);if(R(Q.length<=q0,"value out-of-bounds","BUFFER_OVERRUN",{buffer:Q,length:q0,offset:Q.length}),Q.length!==q0)Q=X0(p([tQ.slice(Q.length%q0),Q]));return Q}class M0{name;type;localName;dynamic;constructor($,Q,J,X){E(this,{name:$,type:Q,localName:J,dynamic:X},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError($,Q){O(!1,$,this.localName,Q)}}class Q8{#$;#Q;constructor(){this.#$=[],this.#Q=0}get data(){return p(this.#$)}get length(){return this.#Q}#J($){return this.#$.push($),this.#Q+=$.length,$.length}appendWriter($){return this.#J(X0($.data))}writeBytes($){let Q=X0($),J=Q.length%q0;if(J)Q=X0(p([Q,tQ.slice(J)]));return this.#J(Q)}writeValue($){return this.#J(YY($))}writeUpdatableValue(){let $=this.#$.length;return this.#$.push(tQ),this.#Q+=q0,(Q)=>{this.#$[$]=YY(Q)}}}class XQ{allowLoose;#$;#Q;#J;#X;#Y;constructor($,Q,J){E(this,{allowLoose:!!Q}),this.#$=X0($),this.#J=0,this.#X=null,this.#Y=J!=null?J:1024,this.#Q=0}get data(){return L(this.#$)}get dataLength(){return this.#$.length}get consumed(){return this.#Q}get bytes(){return new Uint8Array(this.#$)}#z($){if(this.#X)return this.#X.#z($);this.#J+=$,R(this.#Y<1||this.#J<=this.#Y*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#Y} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:X0(this.#$),offset:this.#Q,length:$,info:{bytesRead:this.#J,dataLength:this.dataLength}})}#Z($,Q,J){let X=Math.ceil(Q/q0)*q0;if(this.#Q+X>this.#$.length)if(this.allowLoose&&J&&this.#Q+Q<=this.#$.length)X=Q;else R(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:X0(this.#$),length:this.#$.length,offset:this.#Q+X});return this.#$.slice(this.#Q,this.#Q+X)}subReader($){let Q=new XQ(this.#$.slice(this.#Q+$),this.allowLoose,this.#Y);return Q.#X=this,Q}readBytes($,Q){let J=this.#Z(0,$,!!Q);return this.#z($),this.#Q+=J.length,J.slice(0,$)}readValue(){return t$(this.readBytes(q0))}readIndex(){return oQ(this.readBytes(q0))}}function $J($){if(!Number.isSafeInteger($)||$<0)throw new Error(`Wrong positive integer: ${$}`)}function QJ($,...Q){if(!($ instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Q.length>0&&!Q.includes($.length))throw new Error(`Expected Uint8Array of length ${Q}, not of length=${$.length}`)}function J8($,Q=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(Q&&$.finished)throw new Error("Hash#digest() has already been called")}function YQ($,Q){QJ($);let J=Q.outputLen;if($.length<J)throw new Error(`digestInto() expects output buffer of length at least ${J}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */var Yz=($)=>$ instanceof Uint8Array;var zY=($)=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4)),ZQ=($)=>new DataView($.buffer,$.byteOffset,$.byteLength),g0=($,Q)=>$<<32-Q|$>>>Q,Zz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Zz)throw new Error("Non little-endian hardware is not supported");function zz($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function B8($){if(typeof $==="string")$=zz($);if(!Yz($))throw new Error(`expected Uint8Array, got ${typeof $}`);return $}class A8{clone(){return this._cloneInto()}}var cW={}.toString;function X8($){let Q=(X)=>$().update(B8(X)).digest(),J=$();return Q.outputLen=J.outputLen,Q.blockLen=J.blockLen,Q.create=()=>$(),Q}function Kz($,Q,J,X){if(typeof $.setBigUint64==="function")return $.setBigUint64(Q,J,X);let Y=BigInt(32),Z=BigInt(4294967295),z=Number(J>>Y&Z),K=Number(J&Z),G=X?4:0,V=X?0:4;$.setUint32(Q+G,z,X),$.setUint32(Q+V,K,X)}class P8 extends A8{constructor($,Q,J,X){super();this.blockLen=$,this.outputLen=Q,this.padOffset=J,this.isLE=X,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=ZQ(this.buffer)}update($){J8(this);let{view:Q,buffer:J,blockLen:X}=this;$=B8($);let Y=$.length;for(let Z=0;Z<Y;){let z=Math.min(X-this.pos,Y-Z);if(z===X){let K=ZQ($);for(;X<=Y-Z;Z+=X)this.process(K,Z);continue}if(J.set($.subarray(Z,Z+z),this.pos),this.pos+=z,Z+=z,this.pos===X)this.process(Q,0),this.pos=0}return this.length+=$.length,this.roundClean(),this}digestInto($){J8(this),YQ($,this),this.finished=!0;let{buffer:Q,view:J,blockLen:X,isLE:Y}=this,{pos:Z}=this;if(Q[Z++]=128,this.buffer.subarray(Z).fill(0),this.padOffset>X-Z)this.process(J,0),Z=0;for(let W=Z;W<X;W++)Q[W]=0;Kz(J,X-8,BigInt(this.length*8),Y),this.process(J,0);let z=ZQ($),K=this.outputLen;if(K%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let G=K/4,V=this.get();if(G>V.length)throw new Error("_sha2: outputLen bigger than state");for(let W=0;W<G;W++)z.setUint32(4*W,V[W],Y)}digest(){let{buffer:$,outputLen:Q}=this;this.digestInto($);let J=$.slice(0,Q);return this.destroy(),J}_cloneInto($){$||($=new this.constructor),$.set(...this.get());let{blockLen:Q,buffer:J,length:X,finished:Y,destroyed:Z,pos:z}=this;if($.length=X,$.pos=z,$.finished=Y,$.destroyed=Z,X%Q)$.buffer.set(J);return $}}var Gz=($,Q,J)=>$&Q^~$&J,Wz=($,Q,J)=>$&Q^$&J^Q&J,Vz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),q$=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),I$=new Uint32Array(64);class KY extends P8{constructor(){super(64,32,8,!1);this.A=q$[0]|0,this.B=q$[1]|0,this.C=q$[2]|0,this.D=q$[3]|0,this.E=q$[4]|0,this.F=q$[5]|0,this.G=q$[6]|0,this.H=q$[7]|0}get(){let{A:$,B:Q,C:J,D:X,E:Y,F:Z,G:z,H:K}=this;return[$,Q,J,X,Y,Z,z,K]}set($,Q,J,X,Y,Z,z,K){this.A=$|0,this.B=Q|0,this.C=J|0,this.D=X|0,this.E=Y|0,this.F=Z|0,this.G=z|0,this.H=K|0}process($,Q){for(let W=0;W<16;W++,Q+=4)I$[W]=$.getUint32(Q,!1);for(let W=16;W<64;W++){let M=I$[W-15],U=I$[W-2],I=g0(M,7)^g0(M,18)^M>>>3,D=g0(U,17)^g0(U,19)^U>>>10;I$[W]=D+I$[W-7]+I+I$[W-16]|0}let{A:J,B:X,C:Y,D:Z,E:z,F:K,G,H:V}=this;for(let W=0;W<64;W++){let M=g0(z,6)^g0(z,11)^g0(z,25),U=V+M+Gz(z,K,G)+Vz[W]+I$[W]|0,D=(g0(J,2)^g0(J,13)^g0(J,22))+Wz(J,X,Y)|0;V=G,G=K,K=z,z=Z+U|0,Z=Y,Y=X,X=J,J=U+D|0}J=J+this.A|0,X=X+this.B|0,Y=Y+this.C|0,Z=Z+this.D|0,z=z+this.E|0,K=K+this.F|0,G=G+this.G|0,V=V+this.H|0,this.set(J,X,Y,Z,z,K,G,V)}roundClean(){I$.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}var GY=X8(()=>new KY);var zQ=BigInt(4294967295),JJ=BigInt(32);function WY($,Q=!1){if(Q)return{h:Number($&zQ),l:Number($>>JJ&zQ)};return{h:Number($>>JJ&zQ)|0,l:Number($&zQ)|0}}function XJ($,Q=!1){let J=new Uint32Array($.length),X=new Uint32Array($.length);for(let Y=0;Y<$.length;Y++){let{h:Z,l:z}=WY($[Y],Q);[J[Y],X[Y]]=[Z,z]}return[J,X]}var Mz=($,Q)=>BigInt($>>>0)<<JJ|BigInt(Q>>>0),Oz=($,Q,J)=>$>>>J,Dz=($,Q,J)=>$<<32-J|Q>>>J,Uz=($,Q,J)=>$>>>J|Q<<32-J,qz=($,Q,J)=>$<<32-J|Q>>>J,Iz=($,Q,J)=>$<<64-J|Q>>>J-32,Hz=($,Q,J)=>$>>>J-32|Q<<64-J,Rz=($,Q)=>Q,Cz=($,Q)=>$,YJ=($,Q,J)=>$<<J|Q>>>32-J,ZJ=($,Q,J)=>Q<<J|$>>>32-J,zJ=($,Q,J)=>Q<<J-32|$>>>64-J,KJ=($,Q,J)=>$<<J-32|Q>>>64-J;function Lz($,Q,J,X){let Y=(Q>>>0)+(X>>>0);return{h:$+J+(Y/4294967296|0)|0,l:Y|0}}var Nz=($,Q,J)=>($>>>0)+(Q>>>0)+(J>>>0),Sz=($,Q,J,X)=>Q+J+X+($/4294967296|0)|0,Tz=($,Q,J,X)=>($>>>0)+(Q>>>0)+(J>>>0)+(X>>>0),Ez=($,Q,J,X,Y)=>Q+J+X+Y+($/4294967296|0)|0,Bz=($,Q,J,X,Y)=>($>>>0)+(Q>>>0)+(J>>>0)+(X>>>0)+(Y>>>0),Az=($,Q,J,X,Y,Z)=>Q+J+X+Y+Z+($/4294967296|0)|0;var Pz={fromBig:WY,split:XJ,toBig:Mz,shrSH:Oz,shrSL:Dz,rotrSH:Uz,rotrSL:qz,rotrBH:Iz,rotrBL:Hz,rotr32H:Rz,rotr32L:Cz,rotlSH:YJ,rotlSL:ZJ,rotlBH:zJ,rotlBL:KJ,add:Lz,add3L:Nz,add3H:Sz,add4L:Tz,add4H:Ez,add5H:Az,add5L:Bz},f=Pz;var[wz,jz]=(()=>f.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(($)=>BigInt($))))(),H$=new Uint32Array(80),R$=new Uint32Array(80);class VY extends P8{constructor(){super(128,64,16,!1);this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:$,Al:Q,Bh:J,Bl:X,Ch:Y,Cl:Z,Dh:z,Dl:K,Eh:G,El:V,Fh:W,Fl:M,Gh:U,Gl:I,Hh:D,Hl:q}=this;return[$,Q,J,X,Y,Z,z,K,G,V,W,M,U,I,D,q]}set($,Q,J,X,Y,Z,z,K,G,V,W,M,U,I,D,q){this.Ah=$|0,this.Al=Q|0,this.Bh=J|0,this.Bl=X|0,this.Ch=Y|0,this.Cl=Z|0,this.Dh=z|0,this.Dl=K|0,this.Eh=G|0,this.El=V|0,this.Fh=W|0,this.Fl=M|0,this.Gh=U|0,this.Gl=I|0,this.Hh=D|0,this.Hl=q|0}process($,Q){for(let N=0;N<16;N++,Q+=4)H$[N]=$.getUint32(Q),R$[N]=$.getUint32(Q+=4);for(let N=16;N<80;N++){let F=H$[N-15]|0,w=R$[N-15]|0,A=f.rotrSH(F,w,1)^f.rotrSH(F,w,8)^f.shrSH(F,w,7),P=f.rotrSL(F,w,1)^f.rotrSL(F,w,8)^f.shrSL(F,w,7),j=H$[N-2]|0,u=R$[N-2]|0,b=f.rotrSH(j,u,19)^f.rotrBH(j,u,61)^f.shrSH(j,u,6),v=f.rotrSL(j,u,19)^f.rotrBL(j,u,61)^f.shrSL(j,u,6),V0=f.add4L(P,v,R$[N-7],R$[N-16]),U0=f.add4H(V0,A,b,H$[N-7],H$[N-16]);H$[N]=U0|0,R$[N]=V0|0}let{Ah:J,Al:X,Bh:Y,Bl:Z,Ch:z,Cl:K,Dh:G,Dl:V,Eh:W,El:M,Fh:U,Fl:I,Gh:D,Gl:q,Hh:H,Hl:C}=this;for(let N=0;N<80;N++){let F=f.rotrSH(W,M,14)^f.rotrSH(W,M,18)^f.rotrBH(W,M,41),w=f.rotrSL(W,M,14)^f.rotrSL(W,M,18)^f.rotrBL(W,M,41),A=W&U^~W&D,P=M&I^~M&q,j=f.add5L(C,w,P,jz[N],R$[N]),u=f.add5H(j,H,F,A,wz[N],H$[N]),b=j|0,v=f.rotrSH(J,X,28)^f.rotrBH(J,X,34)^f.rotrBH(J,X,39),V0=f.rotrSL(J,X,28)^f.rotrBL(J,X,34)^f.rotrBL(J,X,39),U0=J&Y^J&z^Y&z,n0=X&Z^X&K^Z&K;H=D|0,C=q|0,D=U|0,q=I|0,U=W|0,I=M|0,{h:W,l:M}=f.add(G|0,V|0,u|0,b|0),G=z|0,V=K|0,z=Y|0,K=Z|0,Y=J|0,Z=X|0;let z0=f.add3L(b,V0,n0);J=f.add3H(z0,u,v,U0),X=z0|0}({h:J,l:X}=f.add(this.Ah|0,this.Al|0,J|0,X|0)),{h:Y,l:Z}=f.add(this.Bh|0,this.Bl|0,Y|0,Z|0),{h:z,l:K}=f.add(this.Ch|0,this.Cl|0,z|0,K|0),{h:G,l:V}=f.add(this.Dh|0,this.Dl|0,G|0,V|0),{h:W,l:M}=f.add(this.Eh|0,this.El|0,W|0,M|0),{h:U,l:I}=f.add(this.Fh|0,this.Fl|0,U|0,I|0),{h:D,l:q}=f.add(this.Gh|0,this.Gl|0,D|0,q|0),{h:H,l:C}=f.add(this.Hh|0,this.Hl|0,H|0,C|0),this.set(J,X,Y,Z,z,K,G,V,W,M,U,I,D,q,H,C)}roundClean(){H$.fill(0),R$.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}var MY=X8(()=>new VY);function Fz(){if(typeof self!=="undefined")return self;if(typeof window!=="undefined")return window;if(typeof global!=="undefined")return global;throw new Error("unable to locate global object")}var OY=Fz(),X1=OY.crypto||OY.msCrypto;function GJ($){switch($){case"sha256":return GY.create();case"sha512":return MY.create()}O(!1,"invalid hashing algorithm name","algorithm",$)}var[qY,IY,HY]=[[],[],[]],_z=BigInt(0),w8=BigInt(1),xz=BigInt(2),kz=BigInt(7),fz=BigInt(256),hz=BigInt(113);for(let $=0,Q=w8,J=1,X=0;$<24;$++){[J,X]=[X,(2*J+3*X)%5],qY.push(2*(5*X+J)),IY.push(($+1)*($+2)/2%64);let Y=_z;for(let Z=0;Z<7;Z++)if(Q=(Q<<w8^(Q>>kz)*hz)%fz,Q&xz)Y^=w8<<(w8<<BigInt(Z))-w8;HY.push(Y)}var[bz,yz]=XJ(HY,!0),DY=($,Q,J)=>J>32?zJ($,Q,J):YJ($,Q,J),UY=($,Q,J)=>J>32?KJ($,Q,J):ZJ($,Q,J);function vz($,Q=24){let J=new Uint32Array(10);for(let X=24-Q;X<24;X++){for(let z=0;z<10;z++)J[z]=$[z]^$[z+10]^$[z+20]^$[z+30]^$[z+40];for(let z=0;z<10;z+=2){let K=(z+8)%10,G=(z+2)%10,V=J[G],W=J[G+1],M=DY(V,W,1)^J[K],U=UY(V,W,1)^J[K+1];for(let I=0;I<50;I+=10)$[z+I]^=M,$[z+I+1]^=U}let Y=$[2],Z=$[3];for(let z=0;z<24;z++){let K=IY[z],G=DY(Y,Z,K),V=UY(Y,Z,K),W=qY[z];Y=$[W],Z=$[W+1],$[W]=G,$[W+1]=V}for(let z=0;z<50;z+=10){for(let K=0;K<10;K++)J[K]=$[z+K];for(let K=0;K<10;K++)$[z+K]^=~J[(K+2)%10]&J[(K+4)%10]}$[0]^=bz[X],$[1]^=yz[X]}J.fill(0)}class WJ extends A8{constructor($,Q,J,X=!1,Y=24){super();if(this.blockLen=$,this.suffix=Q,this.outputLen=J,this.enableXOF=X,this.rounds=Y,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$J(J),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=zY(this.state)}keccak(){vz(this.state32,this.rounds),this.posOut=0,this.pos=0}update($){J8(this);let{blockLen:Q,state:J}=this;$=B8($);let X=$.length;for(let Y=0;Y<X;){let Z=Math.min(Q-this.pos,X-Y);for(let z=0;z<Z;z++)J[this.pos++]^=$[Y++];if(this.pos===Q)this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:$,suffix:Q,pos:J,blockLen:X}=this;if($[J]^=Q,(Q&128)!==0&&J===X-1)this.keccak();$[X-1]^=128,this.keccak()}writeInto($){J8(this,!1),QJ($),this.finish();let Q=this.state,{blockLen:J}=this;for(let X=0,Y=$.length;X<Y;){if(this.posOut>=J)this.keccak();let Z=Math.min(J-this.posOut,Y-X);$.set(Q.subarray(this.posOut,this.posOut+Z),X),this.posOut+=Z,X+=Z}return $}xofInto($){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto($)}xof($){return $J($),this.xofInto(new Uint8Array($))}digestInto($){if(YQ($,this),this.finished)throw new Error("digest() was already called");return this.writeInto($),this.destroy(),$}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto($){let{blockLen:Q,suffix:J,outputLen:X,rounds:Y,enableXOF:Z}=this;return $||($=new WJ(Q,J,X,Z,Y)),$.state32.set(this.state32),$.pos=this.pos,$.posOut=this.posOut,$.finished=this.finished,$.rounds=Y,$.suffix=J,$.outputLen=X,$.enableXOF=Z,$.destroyed=this.destroyed,$}}var gz=($,Q,J)=>X8(()=>new WJ(Q,$,J));var RY=gz(1,136,32);var CY=!1,LY=function($){return RY($)},NY=LY;function l($){let Q=_($,"data");return L(NY(Q))}l._=LY;l.lock=function(){CY=!0};l.register=function($){if(CY)throw new TypeError("keccak256 is locked");NY=$};Object.freeze(l);var SY=function($){return GJ("sha256").update($).digest()},TY=function($){return GJ("sha512").update($).digest()},EY=SY,BY=TY,AY=!1,PY=!1;function C$($){let Q=_($,"data");return L(EY(Q))}C$._=SY;C$.lock=function(){AY=!0};C$.register=function($){if(AY)throw new Error("sha256 is locked");EY=$};Object.freeze(C$);function KQ($){let Q=_($,"data");return L(BY(Q))}KQ._=TY;KQ.lock=function(){PY=!0};KQ.register=function($){if(PY)throw new Error("sha512 is locked");BY=$};Object.freeze(C$);function wY($){if(!Number.isSafeInteger($)||$<0)throw new Error(`Wrong positive integer: ${$}`)}function VJ($,...Q){if(!($ instanceof Uint8Array))throw new Error("Expected Uint8Array");if(Q.length>0&&!Q.includes($.length))throw new Error(`Expected Uint8Array of length ${Q}, not of length=${$.length}`)}function jY($){if(typeof $!=="function"||typeof $.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wY($.outputLen),wY($.blockLen)}function Y8($,Q=!0){if($.destroyed)throw new Error("Hash instance has been destroyed");if(Q&&$.finished)throw new Error("Hash#digest() has already been called")}function FY($,Q){VJ($);let J=Q.outputLen;if($.length<J)throw new Error(`digestInto() expects output buffer of length at least ${J}`)}var GQ=typeof globalThis==="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */var _Y=($)=>$ instanceof Uint8Array;var WQ=($)=>new DataView($.buffer,$.byteOffset,$.byteLength),m0=($,Q)=>$<<32-Q|$>>>Q,mz=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!mz)throw new Error("Non little-endian hardware is not supported");function cz($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function j8($){if(typeof $==="string")$=cz($);if(!_Y($))throw new Error(`expected Uint8Array, got ${typeof $}`);return $}function xY(...$){let Q=new Uint8Array($.reduce((X,Y)=>X+Y.length,0)),J=0;return $.forEach((X)=>{if(!_Y(X))throw new Error("Uint8Array expected");Q.set(X,J),J+=X.length}),Q}class F8{clone(){return this._cloneInto()}}var C1={}.toString;function kY($){let Q=(X)=>$().update(j8(X)).digest(),J=$();return Q.outputLen=J.outputLen,Q.blockLen=J.blockLen,Q.create=()=>$(),Q}function fY($=32){if(GQ&&typeof GQ.getRandomValues==="function")return GQ.getRandomValues(new Uint8Array($));throw new Error("crypto.getRandomValues must be defined")}function dz($,Q,J,X){if(typeof $.setBigUint64==="function")return $.setBigUint64(Q,J,X);let Y=BigInt(32),Z=BigInt(4294967295),z=Number(J>>Y&Z),K=Number(J&Z),G=X?4:0,V=X?0:4;$.setUint32(Q+G,z,X),$.setUint32(Q+V,K,X)}class MJ extends F8{constructor($,Q,J,X){super();this.blockLen=$,this.outputLen=Q,this.padOffset=J,this.isLE=X,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array($),this.view=WQ(this.buffer)}update($){Y8(this);let{view:Q,buffer:J,blockLen:X}=this;$=j8($);let Y=$.length;for(let Z=0;Z<Y;){let z=Math.min(X-this.pos,Y-Z);if(z===X){let K=WQ($);for(;X<=Y-Z;Z+=X)this.process(K,Z);continue}if(J.set($.subarray(Z,Z+z),this.pos),this.pos+=z,Z+=z,this.pos===X)this.process(Q,0),this.pos=0}return this.length+=$.length,this.roundClean(),this}digestInto($){Y8(this),FY($,this),this.finished=!0;let{buffer:Q,view:J,blockLen:X,isLE:Y}=this,{pos:Z}=this;if(Q[Z++]=128,this.buffer.subarray(Z).fill(0),this.padOffset>X-Z)this.process(J,0),Z=0;for(let W=Z;W<X;W++)Q[W]=0;dz(J,X-8,BigInt(this.length*8),Y),this.process(J,0);let z=WQ($),K=this.outputLen;if(K%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let G=K/4,V=this.get();if(G>V.length)throw new Error("_sha2: outputLen bigger than state");for(let W=0;W<G;W++)z.setUint32(4*W,V[W],Y)}digest(){let{buffer:$,outputLen:Q}=this;this.digestInto($);let J=$.slice(0,Q);return this.destroy(),J}_cloneInto($){$||($=new this.constructor),$.set(...this.get());let{blockLen:Q,buffer:J,length:X,finished:Y,destroyed:Z,pos:z}=this;if($.length=X,$.pos=z,$.finished=Y,$.destroyed=Z,X%Q)$.buffer.set(J);return $}}var pz=($,Q,J)=>$&Q^~$&J,uz=($,Q,J)=>$&Q^$&J^Q&J,iz=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),L$=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),N$=new Uint32Array(64);class hY extends MJ{constructor(){super(64,32,8,!1);this.A=L$[0]|0,this.B=L$[1]|0,this.C=L$[2]|0,this.D=L$[3]|0,this.E=L$[4]|0,this.F=L$[5]|0,this.G=L$[6]|0,this.H=L$[7]|0}get(){let{A:$,B:Q,C:J,D:X,E:Y,F:Z,G:z,H:K}=this;return[$,Q,J,X,Y,Z,z,K]}set($,Q,J,X,Y,Z,z,K){this.A=$|0,this.B=Q|0,this.C=J|0,this.D=X|0,this.E=Y|0,this.F=Z|0,this.G=z|0,this.H=K|0}process($,Q){for(let W=0;W<16;W++,Q+=4)N$[W]=$.getUint32(Q,!1);for(let W=16;W<64;W++){let M=N$[W-15],U=N$[W-2],I=m0(M,7)^m0(M,18)^M>>>3,D=m0(U,17)^m0(U,19)^U>>>10;N$[W]=D+N$[W-7]+I+N$[W-16]|0}let{A:J,B:X,C:Y,D:Z,E:z,F:K,G,H:V}=this;for(let W=0;W<64;W++){let M=m0(z,6)^m0(z,11)^m0(z,25),U=V+M+pz(z,K,G)+iz[W]+N$[W]|0,D=(m0(J,2)^m0(J,13)^m0(J,22))+uz(J,X,Y)|0;V=G,G=K,K=z,z=Z+U|0,Z=Y,Y=X,X=J,J=U+D|0}J=J+this.A|0,X=X+this.B|0,Y=Y+this.C|0,Z=Z+this.D|0,z=z+this.E|0,K=K+this.F|0,G=G+this.G|0,V=V+this.H|0,this.set(J,X,Y,Z,z,K,G,V)}roundClean(){N$.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}var bY=kY(()=>new hY);var qJ={};pZ(qJ,{validateObject:()=>T$,utf8ToBytes:()=>rz,numberToVarBytesBE:()=>oz,numberToHexUnpadded:()=>gY,numberToBytesLE:()=>DQ,numberToBytesBE:()=>S$,hexToNumber:()=>DJ,hexToBytes:()=>h$,equalBytes:()=>sz,ensureBytes:()=>w0,createHmacDrbg:()=>UJ,concatBytes:()=>Z8,bytesToNumberLE:()=>OQ,bytesToNumberBE:()=>J$,bytesToHex:()=>f$,bitSet:()=>ez,bitMask:()=>_8,bitLen:()=>az,bitGet:()=>tz});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var vY=BigInt(0),VQ=BigInt(1),lz=BigInt(2),MQ=($)=>$ instanceof Uint8Array,nz=Array.from({length:256},($,Q)=>Q.toString(16).padStart(2,"0"));function f$($){if(!MQ($))throw new Error("Uint8Array expected");let Q="";for(let J=0;J<$.length;J++)Q+=nz[$[J]];return Q}function gY($){let Q=$.toString(16);return Q.length&1?`0${Q}`:Q}function DJ($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);return BigInt($===""?"0":`0x${$}`)}function h$($){if(typeof $!=="string")throw new Error("hex string expected, got "+typeof $);let Q=$.length;if(Q%2)throw new Error("padded hex string expected, got unpadded hex of length "+Q);let J=new Uint8Array(Q/2);for(let X=0;X<J.length;X++){let Y=X*2,Z=$.slice(Y,Y+2),z=Number.parseInt(Z,16);if(Number.isNaN(z)||z<0)throw new Error("Invalid byte sequence");J[X]=z}return J}function J$($){return DJ(f$($))}function OQ($){if(!MQ($))throw new Error("Uint8Array expected");return DJ(f$(Uint8Array.from($).reverse()))}function S$($,Q){return h$($.toString(16).padStart(Q*2,"0"))}function DQ($,Q){return S$($,Q).reverse()}function oz($){return h$(gY($))}function w0($,Q,J){let X;if(typeof Q==="string")try{X=h$(Q)}catch(Z){throw new Error(`${$} must be valid hex string, got "${Q}". Cause: ${Z}`)}else if(MQ(Q))X=Uint8Array.from(Q);else throw new Error(`${$} must be hex string or Uint8Array`);let Y=X.length;if(typeof J==="number"&&Y!==J)throw new Error(`${$} expected ${J} bytes, got ${Y}`);return X}function Z8(...$){let Q=new Uint8Array($.reduce((X,Y)=>X+Y.length,0)),J=0;return $.forEach((X)=>{if(!MQ(X))throw new Error("Uint8Array expected");Q.set(X,J),J+=X.length}),Q}function sz($,Q){if($.length!==Q.length)return!1;for(let J=0;J<$.length;J++)if($[J]!==Q[J])return!1;return!0}function rz($){if(typeof $!=="string")throw new Error(`utf8ToBytes expected string, got ${typeof $}`);return new Uint8Array(new TextEncoder().encode($))}function az($){let Q;for(Q=0;$>vY;$>>=VQ,Q+=1);return Q}function tz($,Q){return $>>BigInt(Q)&VQ}var ez=($,Q,J)=>{return $|(J?VQ:vY)<<BigInt(Q)},_8=($)=>(lz<<BigInt($-1))-VQ,OJ=($)=>new Uint8Array($),yY=($)=>Uint8Array.from($);function UJ($,Q,J){if(typeof $!=="number"||$<2)throw new Error("hashLen must be a number");if(typeof Q!=="number"||Q<2)throw new Error("qByteLen must be a number");if(typeof J!=="function")throw new Error("hmacFn must be a function");let X=OJ($),Y=OJ($),Z=0,z=()=>{X.fill(1),Y.fill(0),Z=0},K=(...M)=>J(Y,X,...M),G=(M=OJ())=>{if(Y=K(yY([0]),M),X=K(),M.length===0)return;Y=K(yY([1]),M),X=K()},V=()=>{if(Z++>=1000)throw new Error("drbg: tried 1000 values");let M=0,U=[];while(M<Q){X=K();let I=X.slice();U.push(I),M+=X.length}return Z8(...U)};return(M,U)=>{z(),G(M);let I=void 0;while(!(I=U(V())))G();return z(),I}}var $K={bigint:($)=>typeof $==="bigint",function:($)=>typeof $==="function",boolean:($)=>typeof $==="boolean",string:($)=>typeof $==="string",stringOrUint8Array:($)=>typeof $==="string"||$ instanceof Uint8Array,isSafeInteger:($)=>Number.isSafeInteger($),array:($)=>Array.isArray($),field:($,Q)=>Q.Fp.isValid($),hash:($)=>typeof $==="function"&&Number.isSafeInteger($.outputLen)};function T$($,Q,J={}){let X=(Y,Z,z)=>{let K=$K[Z];if(typeof K!=="function")throw new Error(`Invalid validator "${Z}", expected function`);let G=$[Y];if(z&&G===void 0)return;if(!K(G,$))throw new Error(`Invalid param ${String(Y)}=${G} (${typeof G}), expected ${Z}`)};for(let[Y,Z]of Object.entries(Q))X(Y,Z,!1);for(let[Y,Z]of Object.entries(J))X(Y,Z,!0);return $}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var O0=BigInt(0),Q0=BigInt(1),b$=BigInt(2),QK=BigInt(3),IJ=BigInt(4),mY=BigInt(5),cY=BigInt(8),JK=BigInt(9),XK=BigInt(16);function H0($,Q){let J=$%Q;return J>=O0?J:Q+J}function YK($,Q,J){if(J<=O0||Q<O0)throw new Error("Expected power/modulo > 0");if(J===Q0)return O0;let X=Q0;while(Q>O0){if(Q&Q0)X=X*$%J;$=$*$%J,Q>>=Q0}return X}function j0($,Q,J){let X=$;while(Q-- >O0)X*=X,X%=J;return X}function UQ($,Q){if($===O0||Q<=O0)throw new Error(`invert: expected positive integers, got n=${$} mod=${Q}`);let J=H0($,Q),X=Q,Y=O0,Z=Q0,z=Q0,K=O0;while(J!==O0){let V=X/J,W=X%J,M=Y-z*V,U=Z-K*V;X=J,J=W,Y=z,Z=K,z=M,K=U}if(X!==Q0)throw new Error("invert: does not exist");return H0(Y,Q)}function ZK($){let Q=($-Q0)/b$,J,X,Y;for(J=$-Q0,X=0;J%b$===O0;J/=b$,X++);for(Y=b$;Y<$&&YK(Y,Q,$)!==$-Q0;Y++);if(X===1){let z=($+Q0)/IJ;return function K(G,V){let W=G.pow(V,z);if(!G.eql(G.sqr(W),V))throw new Error("Cannot find square root");return W}}let Z=(J+Q0)/b$;return function z(K,G){if(K.pow(G,Q)===K.neg(K.ONE))throw new Error("Cannot find square root");let V=X,W=K.pow(K.mul(K.ONE,Y),J),M=K.pow(G,Z),U=K.pow(G,J);while(!K.eql(U,K.ONE)){if(K.eql(U,K.ZERO))return K.ZERO;let I=1;for(let q=K.sqr(U);I<V;I++){if(K.eql(q,K.ONE))break;q=K.sqr(q)}let D=K.pow(W,Q0<<BigInt(V-I-1));W=K.sqr(D),M=K.mul(M,D),U=K.mul(U,W),V=I}return M}}function zK($){if($%IJ===QK){let Q=($+Q0)/IJ;return function J(X,Y){let Z=X.pow(Y,Q);if(!X.eql(X.sqr(Z),Y))throw new Error("Cannot find square root");return Z}}if($%cY===mY){let Q=($-mY)/cY;return function J(X,Y){let Z=X.mul(Y,b$),z=X.pow(Z,Q),K=X.mul(Y,z),G=X.mul(X.mul(K,b$),z),V=X.mul(K,X.sub(G,X.ONE));if(!X.eql(X.sqr(V),Y))throw new Error("Cannot find square root");return V}}if($%XK===JK);return ZK($)}var KK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function HJ($){let Q={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},J=KK.reduce((X,Y)=>{return X[Y]="function",X},Q);return T$($,J)}function GK($,Q,J){if(J<O0)throw new Error("Expected power > 0");if(J===O0)return $.ONE;if(J===Q0)return Q;let X=$.ONE,Y=Q;while(J>O0){if(J&Q0)X=$.mul(X,Y);Y=$.sqr(Y),J>>=Q0}return X}function WK($,Q){let J=new Array(Q.length),X=Q.reduce((Z,z,K)=>{if($.is0(z))return Z;return J[K]=Z,$.mul(Z,z)},$.ONE),Y=$.inv(X);return Q.reduceRight((Z,z,K)=>{if($.is0(z))return Z;return J[K]=$.mul(Z,J[K]),$.mul(Z,z)},Y),J}function RJ($,Q){let J=Q!==void 0?Q:$.toString(2).length,X=Math.ceil(J/8);return{nBitLength:J,nByteLength:X}}function dY($,Q,J=!1,X={}){if($<=O0)throw new Error(`Expected Field ORDER > 0, got ${$}`);let{nBitLength:Y,nByteLength:Z}=RJ($,Q);if(Z>2048)throw new Error("Field lengths over 2048 bytes are not supported");let z=zK($),K=Object.freeze({ORDER:$,BITS:Y,BYTES:Z,MASK:_8(Y),ZERO:O0,ONE:Q0,create:(G)=>H0(G,$),isValid:(G)=>{if(typeof G!=="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof G}`);return O0<=G&&G<$},is0:(G)=>G===O0,isOdd:(G)=>(G&Q0)===Q0,neg:(G)=>H0(-G,$),eql:(G,V)=>G===V,sqr:(G)=>H0(G*G,$),add:(G,V)=>H0(G+V,$),sub:(G,V)=>H0(G-V,$),mul:(G,V)=>H0(G*V,$),pow:(G,V)=>GK(K,G,V),div:(G,V)=>H0(G*UQ(V,$),$),sqrN:(G)=>G*G,addN:(G,V)=>G+V,subN:(G,V)=>G-V,mulN:(G,V)=>G*V,inv:(G)=>UQ(G,$),sqrt:X.sqrt||((G)=>z(K,G)),invertBatch:(G)=>WK(K,G),cmov:(G,V,W)=>W?V:G,toBytes:(G)=>J?DQ(G,Z):S$(G,Z),fromBytes:(G)=>{if(G.length!==Z)throw new Error(`Fp.fromBytes: expected ${Z}, got ${G.length}`);return J?OQ(G):J$(G)}});return Object.freeze(K)}function pY($){if(typeof $!=="bigint")throw new Error("field order must be bigint");let Q=$.toString(2).length;return Math.ceil(Q/8)}function CJ($){let Q=pY($);return Q+Math.ceil(Q/2)}function uY($,Q,J=!1){let X=$.length,Y=pY(Q),Z=CJ(Q);if(X<16||X<Z||X>1024)throw new Error(`expected ${Z}-1024 bytes of input, got ${X}`);let z=J?J$($):OQ($),K=H0(z,Q-Q0)+Q0;return J?DQ(K,Y):S$(K,Y)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var MK=BigInt(0),LJ=BigInt(1);function iY($,Q){let J=(Y,Z)=>{let z=Z.negate();return Y?z:Z},X=(Y)=>{let Z=Math.ceil(Q/Y)+1,z=2**(Y-1);return{windows:Z,windowSize:z}};return{constTimeNegate:J,unsafeLadder(Y,Z){let z=$.ZERO,K=Y;while(Z>MK){if(Z&LJ)z=z.add(K);K=K.double(),Z>>=LJ}return z},precomputeWindow(Y,Z){let{windows:z,windowSize:K}=X(Z),G=[],V=Y,W=V;for(let M=0;M<z;M++){W=V,G.push(W);for(let U=1;U<K;U++)W=W.add(V),G.push(W);V=W.double()}return G},wNAF(Y,Z,z){let{windows:K,windowSize:G}=X(Y),V=$.ZERO,W=$.BASE,M=BigInt(2**Y-1),U=2**Y,I=BigInt(Y);for(let D=0;D<K;D++){let q=D*G,H=Number(z&M);if(z>>=I,H>G)H-=U,z+=LJ;let C=q,N=q+Math.abs(H)-1,F=D%2!==0,w=H<0;if(H===0)W=W.add(J(F,Z[C]));else V=V.add(J(w,Z[N]))}return{p:V,f:W}},wNAFCached(Y,Z,z,K){let G=Y._WINDOW_SIZE||1,V=Z.get(Y);if(!V){if(V=this.precomputeWindow(Y,G),G!==1)Z.set(Y,K(V))}return this.wNAF(G,V,z)}}}function NJ($){return HJ($.Fp),T$($,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RJ($.n,$.nBitLength),...$,...{p:$.Fp.ORDER}})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OK($){let Q=NJ($);T$(Q,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:J,Fp:X,a:Y}=Q;if(J){if(!X.eql(Y,X.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof J!=="object"||typeof J.beta!=="bigint"||typeof J.splitScalar!=="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...Q})}var{bytesToNumberBE:DK,hexToBytes:UK}=qJ,y$={Err:class $ extends Error{constructor(Q=""){super(Q)}},_parseInt($){let{Err:Q}=y$;if($.length<2||$[0]!==2)throw new Q("Invalid signature integer tag");let J=$[1],X=$.subarray(2,J+2);if(!J||X.length!==J)throw new Q("Invalid signature integer: wrong length");if(X[0]&128)throw new Q("Invalid signature integer: negative");if(X[0]===0&&!(X[1]&128))throw new Q("Invalid signature integer: unnecessary leading zero");return{d:DK(X),l:$.subarray(J+2)}},toSig($){let{Err:Q}=y$,J=typeof $==="string"?UK($):$;if(!(J instanceof Uint8Array))throw new Error("ui8a expected");let X=J.length;if(X<2||J[0]!=48)throw new Q("Invalid signature tag");if(J[1]!==X-2)throw new Q("Invalid signature: incorrect length");let{d:Y,l:Z}=y$._parseInt(J.subarray(2)),{d:z,l:K}=y$._parseInt(Z);if(K.length)throw new Q("Invalid signature: left bytes after parsing");return{r:Y,s:z}},hexFromSig($){let Q=(V)=>Number.parseInt(V[0],16)&8?"00"+V:V,J=(V)=>{let W=V.toString(16);return W.length&1?`0${W}`:W},X=Q(J($.s)),Y=Q(J($.r)),Z=X.length/2,z=Y.length/2,K=J(Z),G=J(z);return`30${J(z+Z+4)}02${G}${Y}02${K}${X}`}},X$=BigInt(0),f0=BigInt(1),k1=BigInt(2),lY=BigInt(3),f1=BigInt(4);function qK($){let Q=OK($),{Fp:J}=Q,X=Q.toBytes||((D,q,H)=>{let C=q.toAffine();return Z8(Uint8Array.from([4]),J.toBytes(C.x),J.toBytes(C.y))}),Y=Q.fromBytes||((D)=>{let q=D.subarray(1),H=J.fromBytes(q.subarray(0,J.BYTES)),C=J.fromBytes(q.subarray(J.BYTES,2*J.BYTES));return{x:H,y:C}});function Z(D){let{a:q,b:H}=Q,C=J.sqr(D),N=J.mul(C,D);return J.add(J.add(N,J.mul(D,q)),H)}if(!J.eql(J.sqr(Q.Gy),Z(Q.Gx)))throw new Error("bad generator point: equation left != right");function z(D){return typeof D==="bigint"&&X$<D&&D<Q.n}function K(D){if(!z(D))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function G(D){let{allowedPrivateKeyLengths:q,nByteLength:H,wrapPrivateKey:C,n:N}=Q;if(q&&typeof D!=="bigint"){if(D instanceof Uint8Array)D=f$(D);if(typeof D!=="string"||!q.includes(D.length))throw new Error("Invalid key");D=D.padStart(H*2,"0")}let F;try{F=typeof D==="bigint"?D:J$(w0("private key",D,H))}catch(w){throw new Error(`private key must be ${H} bytes, hex or bigint, not ${typeof D}`)}if(C)F=H0(F,N);return K(F),F}let V=new Map;function W(D){if(!(D instanceof M))throw new Error("ProjectivePoint expected")}class M{constructor(D,q,H){if(this.px=D,this.py=q,this.pz=H,D==null||!J.isValid(D))throw new Error("x required");if(q==null||!J.isValid(q))throw new Error("y required");if(H==null||!J.isValid(H))throw new Error("z required")}static fromAffine(D){let{x:q,y:H}=D||{};if(!D||!J.isValid(q)||!J.isValid(H))throw new Error("invalid affine point");if(D instanceof M)throw new Error("projective point not allowed");let C=(N)=>J.eql(N,J.ZERO);if(C(q)&&C(H))return M.ZERO;return new M(q,H,J.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(D){let q=J.invertBatch(D.map((H)=>H.pz));return D.map((H,C)=>H.toAffine(q[C])).map(M.fromAffine)}static fromHex(D){let q=M.fromAffine(Y(w0("pointHex",D)));return q.assertValidity(),q}static fromPrivateKey(D){return M.BASE.multiply(G(D))}_setWindowSize(D){this._WINDOW_SIZE=D,V.delete(this)}assertValidity(){if(this.is0()){if(Q.allowInfinityPoint&&!J.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:D,y:q}=this.toAffine();if(!J.isValid(D)||!J.isValid(q))throw new Error("bad point: x or y not FE");let H=J.sqr(q),C=Z(D);if(!J.eql(H,C))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:D}=this.toAffine();if(J.isOdd)return!J.isOdd(D);throw new Error("Field doesn't support isOdd")}equals(D){W(D);let{px:q,py:H,pz:C}=this,{px:N,py:F,pz:w}=D,A=J.eql(J.mul(q,w),J.mul(N,C)),P=J.eql(J.mul(H,w),J.mul(F,C));return A&&P}negate(){return new M(this.px,J.neg(this.py),this.pz)}double(){let{a:D,b:q}=Q,H=J.mul(q,lY),{px:C,py:N,pz:F}=this,w=J.ZERO,A=J.ZERO,P=J.ZERO,j=J.mul(C,C),u=J.mul(N,N),b=J.mul(F,F),v=J.mul(C,N);return v=J.add(v,v),P=J.mul(C,F),P=J.add(P,P),w=J.mul(D,P),A=J.mul(H,b),A=J.add(w,A),w=J.sub(u,A),A=J.add(u,A),A=J.mul(w,A),w=J.mul(v,w),P=J.mul(H,P),b=J.mul(D,b),v=J.sub(j,b),v=J.mul(D,v),v=J.add(v,P),P=J.add(j,j),j=J.add(P,j),j=J.add(j,b),j=J.mul(j,v),A=J.add(A,j),b=J.mul(N,F),b=J.add(b,b),j=J.mul(b,v),w=J.sub(w,j),P=J.mul(b,u),P=J.add(P,P),P=J.add(P,P),new M(w,A,P)}add(D){W(D);let{px:q,py:H,pz:C}=this,{px:N,py:F,pz:w}=D,A=J.ZERO,P=J.ZERO,j=J.ZERO,u=Q.a,b=J.mul(Q.b,lY),v=J.mul(q,N),V0=J.mul(H,F),U0=J.mul(C,w),n0=J.add(q,H),z0=J.add(N,F);n0=J.mul(n0,z0),z0=J.add(v,V0),n0=J.sub(n0,z0),z0=J.add(q,C);let S=J.add(N,w);return z0=J.mul(z0,S),S=J.add(v,U0),z0=J.sub(z0,S),S=J.add(H,C),A=J.add(F,w),S=J.mul(S,A),A=J.add(V0,U0),S=J.sub(S,A),j=J.mul(u,z0),A=J.mul(b,U0),j=J.add(A,j),A=J.sub(V0,j),j=J.add(V0,j),P=J.mul(A,j),V0=J.add(v,v),V0=J.add(V0,v),U0=J.mul(u,U0),z0=J.mul(b,z0),V0=J.add(V0,U0),U0=J.sub(v,U0),U0=J.mul(u,U0),z0=J.add(z0,U0),v=J.mul(V0,z0),P=J.add(P,v),v=J.mul(S,z0),A=J.mul(n0,A),A=J.sub(A,v),v=J.mul(n0,V0),j=J.mul(S,j),j=J.add(j,v),new M(A,P,j)}subtract(D){return this.add(D.negate())}is0(){return this.equals(M.ZERO)}wNAF(D){return I.wNAFCached(this,V,D,(q)=>{let H=J.invertBatch(q.map((C)=>C.pz));return q.map((C,N)=>C.toAffine(H[N])).map(M.fromAffine)})}multiplyUnsafe(D){let q=M.ZERO;if(D===X$)return q;if(K(D),D===f0)return this;let{endo:H}=Q;if(!H)return I.unsafeLadder(this,D);let{k1neg:C,k1:N,k2neg:F,k2:w}=H.splitScalar(D),A=q,P=q,j=this;while(N>X$||w>X$){if(N&f0)A=A.add(j);if(w&f0)P=P.add(j);j=j.double(),N>>=f0,w>>=f0}if(C)A=A.negate();if(F)P=P.negate();return P=new M(J.mul(P.px,H.beta),P.py,P.pz),A.add(P)}multiply(D){K(D);let q=D,H,C,{endo:N}=Q;if(N){let{k1neg:F,k1:w,k2neg:A,k2:P}=N.splitScalar(q),{p:j,f:u}=this.wNAF(w),{p:b,f:v}=this.wNAF(P);j=I.constTimeNegate(F,j),b=I.constTimeNegate(A,b),b=new M(J.mul(b.px,N.beta),b.py,b.pz),H=j.add(b),C=u.add(v)}else{let{p:F,f:w}=this.wNAF(q);H=F,C=w}return M.normalizeZ([H,C])[0]}multiplyAndAddUnsafe(D,q,H){let C=M.BASE,N=(w,A)=>A===X$||A===f0||!w.equals(C)?w.multiplyUnsafe(A):w.multiply(A),F=N(this,q).add(N(D,H));return F.is0()?void 0:F}toAffine(D){let{px:q,py:H,pz:C}=this,N=this.is0();if(D==null)D=N?J.ONE:J.inv(C);let F=J.mul(q,D),w=J.mul(H,D),A=J.mul(C,D);if(N)return{x:J.ZERO,y:J.ZERO};if(!J.eql(A,J.ONE))throw new Error("invZ was invalid");return{x:F,y:w}}isTorsionFree(){let{h:D,isTorsionFree:q}=Q;if(D===f0)return!0;if(q)return q(M,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:D,clearCofactor:q}=Q;if(D===f0)return this;if(q)return q(M,this);return this.multiplyUnsafe(Q.h)}toRawBytes(D=!0){return this.assertValidity(),X(M,this,D)}toHex(D=!0){return f$(this.toRawBytes(D))}}M.BASE=new M(Q.Gx,Q.Gy,J.ONE),M.ZERO=new M(J.ZERO,J.ONE,J.ZERO);let U=Q.nBitLength,I=iY(M,Q.endo?Math.ceil(U/2):U);return{CURVE:Q,ProjectivePoint:M,normPrivateKeyToScalar:G,weierstrassEquation:Z,isWithinCurveOrder:z}}function IK($){let Q=NJ($);return T$(Q,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...Q})}function nY($){let Q=IK($),{Fp:J,n:X}=Q,Y=J.BYTES+1,Z=2*J.BYTES+1;function z(S){return X$<S&&S<J.ORDER}function K(S){return H0(S,X)}function G(S){return UQ(S,X)}let{ProjectivePoint:V,normPrivateKeyToScalar:W,weierstrassEquation:M,isWithinCurveOrder:U}=qK({...Q,toBytes(S,x,d){let s=x.toAffine(),t=J.toBytes(s.x),K0=Z8;if(d)return K0(Uint8Array.from([x.hasEvenY()?2:3]),t);else return K0(Uint8Array.from([4]),t,J.toBytes(s.y))},fromBytes(S){let x=S.length,d=S[0],s=S.subarray(1);if(x===Y&&(d===2||d===3)){let t=J$(s);if(!z(t))throw new Error("Point is not on curve");let K0=M(t),y0=J.sqrt(K0),A0=(y0&f0)===f0;if((d&1)===1!==A0)y0=J.neg(y0);return{x:t,y:y0}}else if(x===Z&&d===4){let t=J.fromBytes(s.subarray(0,J.BYTES)),K0=J.fromBytes(s.subarray(J.BYTES,2*J.BYTES));return{x:t,y:K0}}else throw new Error(`Point of length ${x} was invalid. Expected ${Y} compressed bytes or ${Z} uncompressed bytes`)}}),I=(S)=>f$(S$(S,Q.nByteLength));function D(S){let x=X>>f0;return S>x}function q(S){return D(S)?K(-S):S}let H=(S,x,d)=>J$(S.slice(x,d));class C{constructor(S,x,d){this.r=S,this.s=x,this.recovery=d,this.assertValidity()}static fromCompact(S){let x=Q.nByteLength;return S=w0("compactSignature",S,x*2),new C(H(S,0,x),H(S,x,2*x))}static fromDER(S){let{r:x,s:d}=y$.toSig(w0("DER",S));return new C(x,d)}assertValidity(){if(!U(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!U(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new C(this.r,this.s,S)}recoverPublicKey(S){let{r:x,s:d,recovery:s}=this,t=j(w0("msgHash",S));if(s==null||![0,1,2,3].includes(s))throw new Error("recovery id invalid");let K0=s===2||s===3?x+Q.n:x;if(K0>=J.ORDER)throw new Error("recovery id 2 or 3 invalid");let y0=(s&1)===0?"02":"03",A0=V.fromHex(y0+I(K0)),$$=G(K0),j$=K(-t*$$),l$=K(d*$$),F$=V.BASE.multiplyAndAddUnsafe(A0,j$,l$);if(!F$)throw new Error("point at infinify");return F$.assertValidity(),F$}hasHighS(){return D(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,K(-this.s),this.recovery):this}toDERRawBytes(){return h$(this.toDERHex())}toDERHex(){return y$.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return h$(this.toCompactHex())}toCompactHex(){return I(this.r)+I(this.s)}}let N={isValidPrivateKey(S){try{return W(S),!0}catch(x){return!1}},normPrivateKeyToScalar:W,randomPrivateKey:()=>{let S=CJ(Q.n);return uY(Q.randomBytes(S),Q.n)},precompute(S=8,x=V.BASE){return x._setWindowSize(S),x.multiply(BigInt(3)),x}};function F(S,x=!0){return V.fromPrivateKey(S).toRawBytes(x)}function w(S){let x=S instanceof Uint8Array,d=typeof S==="string",s=(x||d)&&S.length;if(x)return s===Y||s===Z;if(d)return s===2*Y||s===2*Z;if(S instanceof V)return!0;return!1}function A(S,x,d=!0){if(w(S))throw new Error("first arg must be private key");if(!w(x))throw new Error("second arg must be public key");return V.fromHex(x).multiply(W(S)).toRawBytes(d)}let P=Q.bits2int||function(S){let x=J$(S),d=S.length*8-Q.nBitLength;return d>0?x>>BigInt(d):x},j=Q.bits2int_modN||function(S){return K(P(S))},u=_8(Q.nBitLength);function b(S){if(typeof S!=="bigint")throw new Error("bigint expected");if(!(X$<=S&&S<u))throw new Error(`bigint expected < 2^${Q.nBitLength}`);return S$(S,Q.nByteLength)}function v(S,x,d=V0){if(["recovered","canonical"].some((_$)=>(_$ in d)))throw new Error("sign() legacy options not supported");let{hash:s,randomBytes:t}=Q,{lowS:K0,prehash:y0,extraEntropy:A0}=d;if(K0==null)K0=!0;if(S=w0("msgHash",S),y0)S=w0("prehashed msgHash",s(S));let $$=j(S),j$=W(x),l$=[b(j$),b($$)];if(A0!=null){let _$=A0===!0?t(J.BYTES):A0;l$.push(w0("extraEntropy",_$))}let F$=Z8(...l$),r8=$$;function uQ(_$){let n$=P(_$);if(!U(n$))return;let xX=G(n$),o0=V.BASE.multiply(n$).toAffine(),o$=K(o0.x);if(o$===X$)return;let a8=K(xX*K(r8+o$*j$));if(a8===X$)return;let kX=(o0.x===o$?0:2)|Number(o0.y&f0),fX=a8;if(K0&&D(a8))fX=q(a8),kX^=1;return new C(o$,fX,kX)}return{seed:F$,k2sig:uQ}}let V0={lowS:Q.lowS,prehash:!1},U0={lowS:Q.lowS,prehash:!1};function n0(S,x,d=V0){let{seed:s,k2sig:t}=v(S,x,d),K0=Q;return UJ(K0.hash.outputLen,K0.nByteLength,K0.hmac)(s,t)}V.BASE._setWindowSize(8);function z0(S,x,d,s=U0){let t=S;if(x=w0("msgHash",x),d=w0("publicKey",d),"strict"in s)throw new Error("options.strict was renamed to lowS");let{lowS:K0,prehash:y0}=s,A0=void 0,$$;try{if(typeof t==="string"||t instanceof Uint8Array)try{A0=C.fromDER(t)}catch(o0){if(!(o0 instanceof y$.Err))throw o0;A0=C.fromCompact(t)}else if(typeof t==="object"&&typeof t.r==="bigint"&&typeof t.s==="bigint"){let{r:o0,s:o$}=t;A0=new C(o0,o$)}else throw new Error("PARSE");$$=V.fromHex(d)}catch(o0){if(o0.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(K0&&A0.hasHighS())return!1;if(y0)x=Q.hash(x);let{r:j$,s:l$}=A0,F$=j(x),r8=G(l$),uQ=K(F$*r8),_$=K(j$*r8),n$=V.BASE.multiplyAndAddUnsafe($$,uQ,_$)?.toAffine();if(!n$)return!1;return K(n$.x)===j$}return{CURVE:Q,getPublicKey:F,getSharedSecret:A,sign:n0,verify:z0,ProjectivePoint:V,Signature:C,utils:N}}class SJ extends F8{constructor($,Q){super();this.finished=!1,this.destroyed=!1,jY($);let J=j8(Q);if(this.iHash=$.create(),typeof this.iHash.update!=="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let X=this.blockLen,Y=new Uint8Array(X);Y.set(J.length>X?$.create().update(J).digest():J);for(let Z=0;Z<Y.length;Z++)Y[Z]^=54;this.iHash.update(Y),this.oHash=$.create();for(let Z=0;Z<Y.length;Z++)Y[Z]^=106;this.oHash.update(Y),Y.fill(0)}update($){return Y8(this),this.iHash.update($),this}digestInto($){Y8(this),VJ($,this.outputLen),this.finished=!0,this.iHash.digestInto($),this.oHash.update($),this.oHash.digestInto($),this.destroy()}digest(){let $=new Uint8Array(this.oHash.outputLen);return this.digestInto($),$}_cloneInto($){$||($=Object.create(Object.getPrototypeOf(this),{}));let{oHash:Q,iHash:J,finished:X,destroyed:Y,blockLen:Z,outputLen:z}=this;return $=$,$.finished=X,$.destroyed=Y,$.blockLen=Z,$.outputLen=z,$.oHash=Q._cloneInto($.oHash),$.iHash=J._cloneInto($.iHash),$}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}var TJ=($,Q,J)=>new SJ($,Q).update(J).digest();TJ.create=($,Q)=>new SJ($,Q);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HK($){return{hash:$,hmac:(Q,...J)=>TJ($,Q,xY(...J)),randomBytes:fY}}function oY($,Q){let J=(X)=>nY({...$,...HK(X)});return Object.freeze({...J(Q),create:J})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */var aY=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),sY=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),RK=BigInt(1),EJ=BigInt(2),rY=($,Q)=>($+Q/EJ)/Q;function CK($){let Q=aY,J=BigInt(3),X=BigInt(6),Y=BigInt(11),Z=BigInt(22),z=BigInt(23),K=BigInt(44),G=BigInt(88),V=$*$*$%Q,W=V*V*$%Q,M=j0(W,J,Q)*W%Q,U=j0(M,J,Q)*W%Q,I=j0(U,EJ,Q)*V%Q,D=j0(I,Y,Q)*I%Q,q=j0(D,Z,Q)*D%Q,H=j0(q,K,Q)*q%Q,C=j0(H,G,Q)*H%Q,N=j0(C,K,Q)*q%Q,F=j0(N,J,Q)*W%Q,w=j0(F,z,Q)*D%Q,A=j0(w,X,Q)*V%Q,P=j0(A,EJ,Q);if(!BJ.eql(BJ.sqr(P),$))throw new Error("Cannot find square root");return P}var BJ=dY(aY,void 0,void 0,{sqrt:CK}),Y$=oY({a:BigInt(0),b:BigInt(7),Fp:BJ,n:sY,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:($)=>{let Q=sY,J=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),X=-RK*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),Y=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Z=J,z=BigInt("0x100000000000000000000000000000000"),K=rY(Z*$,Q),G=rY(-X*$,Q),V=H0($-K*J-G*Y,Q),W=H0(-K*X-G*Z,Q),M=V>z,U=W>z;if(M)V=Q-V;if(U)W=Q-W;if(V>z||W>z)throw new Error("splitScalar: Endomorphism failed, k="+$);return{k1neg:M,k1:V,k2neg:U,k2:W}}}},bY),l1=BigInt(0);var n1=Y$.ProjectivePoint;var Z$="0x0000000000000000000000000000000000000000";var qQ="0x0000000000000000000000000000000000000000000000000000000000000000";var tY=BigInt(0),eY=BigInt(1),$9=BigInt(2),Q9=BigInt(27),J9=BigInt(28),IQ=BigInt(35),z8={};function X9($){return P0(G0($),32)}class e{#$;#Q;#J;#X;get r(){return this.#$}set r($){O(s0($)===32,"invalid r","value",$),this.#$=L($)}get s(){return this.#Q}set s($){O(s0($)===32,"invalid s","value",$);let Q=L($);O(parseInt(Q.substring(0,3))<8,"non-canonical s","value",Q),this.#Q=Q}get v(){return this.#J}set v($){let Q=k($,"value");O(Q===27||Q===28,"invalid v","v",$),this.#J=Q}get networkV(){return this.#X}get legacyChainId(){let $=this.networkV;if($==null)return null;return e.getChainId($)}get yParity(){return this.v===27?0:1}get yParityAndS(){let $=_(this.s);if(this.yParity)$[0]|=128;return L($)}get compactSerialized(){return p([this.r,this.yParityAndS])}get serialized(){return p([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor($,Q,J,X){O$($,z8,"Signature"),this.#$=Q,this.#Q=J,this.#J=X,this.#X=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let $=new e(z8,this.r,this.s,this.v);if(this.networkV)$.#X=this.networkV;return $}toJSON(){let $=this.networkV;return{_type:"signature",networkV:$!=null?$.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId($){let Q=T($,"v");if(Q==Q9||Q==J9)return tY;return O(Q>=IQ,"invalid EIP-155 v","v",$),(Q-IQ)/$9}static getChainIdV($,Q){return T($)*$9+BigInt(35+Q-27)}static getNormalizedV($){let Q=T($);if(Q===tY||Q===Q9)return 27;if(Q===eY||Q===J9)return 28;return O(Q>=IQ,"invalid v","v",$),Q&eY?27:28}static from($){function Q(G,V){O(G,V,"signature",$)}if($==null)return new e(z8,qQ,qQ,27);if(typeof $==="string"){let G=_($,"signature");if(G.length===64){let V=L(G.slice(0,32)),W=G.slice(32,64),M=W[0]&128?28:27;return W[0]&=127,new e(z8,V,L(W),M)}if(G.length===65){let V=L(G.slice(0,32)),W=G.slice(32,64);Q((W[0]&128)===0,"non-canonical s");let M=e.getNormalizedV(G[64]);return new e(z8,V,L(W),M)}Q(!1,"invalid raw signature length")}if($ instanceof e)return $.clone();let J=$.r;Q(J!=null,"missing r");let X=X9(J),Y=function(G,V){if(G!=null)return X9(G);if(V!=null){Q(y(V,32),"invalid yParityAndS");let W=_(V);return W[0]&=127,L(W)}Q(!1,"missing s")}($.s,$.yParityAndS);Q((_(Y)[0]&128)==0,"non-canonical s");let{networkV:Z,v:z}=function(G,V,W){if(G!=null){let M=T(G);return{networkV:M>=IQ?M:void 0,v:e.getNormalizedV(M)}}if(V!=null)return Q(y(V,32),"invalid yParityAndS"),{v:_(V)[0]&128?28:27};if(W!=null){switch(k(W,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}Q(!1,"invalid yParity")}Q(!1,"missing v")}($.v,$.yParityAndS,$.yParity),K=new e(z8,X,Y,z);if(Z)K.#X=Z;return Q($.yParity==null||k($.yParity,"sig.yParity")===K.yParity,"yParity mismatch"),Q($.yParityAndS==null||$.yParityAndS===K.yParityAndS,"yParityAndS mismatch"),K}}class h0{#$;constructor($){O(s0($)===32,"invalid private key","privateKey","[REDACTED]"),this.#$=L($)}get privateKey(){return this.#$}get publicKey(){return h0.computePublicKey(this.#$)}get compressedPublicKey(){return h0.computePublicKey(this.#$,!0)}sign($){O(s0($)===32,"invalid digest length","digest",$);let Q=Y$.sign(X0($),X0(this.#$),{lowS:!0});return e.from({r:T0(Q.r,32),s:T0(Q.s,32),v:Q.recovery?28:27})}computeSharedSecret($){let Q=h0.computePublicKey($);return L(Y$.getSharedSecret(X0(this.#$),_(Q),!1))}static computePublicKey($,Q){let J=_($,"key");if(J.length===32){let Y=Y$.getPublicKey(J,!!Q);return L(Y)}if(J.length===64){let Y=new Uint8Array(65);Y[0]=4,Y.set(J,1),J=Y}let X=Y$.ProjectivePoint.fromHex(J);return L(X.toRawBytes(Q))}static recoverPublicKey($,Q){O(s0($)===32,"invalid digest length","digest",$);let J=e.from(Q),X=Y$.Signature.fromCompact(X0(p([J.r,J.s])));X=X.addRecoveryBit(J.yParity);let Y=X.recoverPublicKey(X0($));return O(Y!=null,"invalid signautre for digest","signature",Q),"0x"+Y.toHex(!1)}static addPoints($,Q,J){let X=Y$.ProjectivePoint.fromHex(h0.computePublicKey($).substring(2)),Y=Y$.ProjectivePoint.fromHex(h0.computePublicKey(Q).substring(2));return"0x"+X.add(Y).toHex(!!J)}}var LK=BigInt(0),NK=BigInt(36);function Y9($){$=$.toLowerCase();let Q=$.substring(2).split(""),J=new Uint8Array(40);for(let Y=0;Y<40;Y++)J[Y]=Q[Y].charCodeAt(0);let X=_(l(J));for(let Y=0;Y<40;Y+=2){if(X[Y>>1]>>4>=8)Q[Y]=Q[Y].toUpperCase();if((X[Y>>1]&15)>=8)Q[Y+1]=Q[Y+1].toUpperCase()}return"0x"+Q.join("")}var AJ={};for(let $=0;$<10;$++)AJ[String($)]=String($);for(let $=0;$<26;$++)AJ[String.fromCharCode(65+$)]=String(10+$);var Z9=15;function SK($){$=$.toUpperCase(),$=$.substring(4)+$.substring(0,2)+"00";let Q=$.split("").map((X)=>{return AJ[X]}).join("");while(Q.length>=Z9){let X=Q.substring(0,Z9);Q=parseInt(X,10)%97+Q.substring(X.length)}let J=String(98-parseInt(Q,10)%97);while(J.length<2)J="0"+J;return J}var TK=function(){let $={};for(let Q=0;Q<36;Q++){let J="0123456789abcdefghijklmnopqrstuvwxyz"[Q];$[J]=BigInt(Q)}return $}();function EK($){$=$.toLowerCase();let Q=LK;for(let J=0;J<$.length;J++)Q=Q*NK+TK[$[J]];return Q}function h($){if(O(typeof $==="string","invalid address","address",$),$.match(/^(0x)?[0-9a-fA-F]{40}$/)){if(!$.startsWith("0x"))$="0x"+$;let Q=Y9($);return O(!$.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||Q===$,"bad address checksum","address",$),Q}if($.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){O($.substring(2,4)===SK($),"bad icap checksum","address",$);let Q=EK($.substring(4)).toString(16);while(Q.length<40)Q="0"+Q;return Y9("0x"+Q)}O(!1,"invalid address","address",$)}function PJ($){let Q=h($.from),X=T($.nonce,"tx.nonce").toString(16);if(X==="0")X="0x";else if(X.length%2)X="0x0"+X;else X="0x"+X;return h(o(l(a0([Q,X])),12))}function HQ($){return $&&typeof $.getAddress==="function"}async function wJ($,Q){let J=await Q;if(J==null||J==="0x0000000000000000000000000000000000000000")R(typeof $!=="string","unconfigured name","UNCONFIGURED_NAME",{value:$}),O(!1,"invalid AddressLike value; did not resolve to a value address","target",$);return h(J)}function W0($,Q){if(typeof $==="string"){if($.match(/^0x[0-9a-f]{40}$/i))return h($);return R(Q!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),wJ($,Q.resolveName($))}else if(HQ($))return wJ($,$.getAddress());else if($&&typeof $.then==="function")return wJ($,$);O(!1,"unsupported addressable value","target",$)}var c0={};function B($,Q){let J=!1;if(Q<0)J=!0,Q*=-1;return new g(c0,`${J?"":"u"}int${Q}`,$,{signed:J,width:Q})}function c($,Q){return new g(c0,`bytes${Q?Q:""}`,$,{size:Q})}var z9=Symbol.for("_ethers_typed");class g{type;value;#$;_typedSymbol;constructor($,Q,J,X){if(X==null)X=null;O$(c0,$,"Typed"),E(this,{_typedSymbol:z9,type:Q,value:J}),this.#$=X,this.format()}format(){if(this.type==="array")throw new Error("");else if(this.type==="dynamicArray")throw new Error("");else if(this.type==="tuple")return`tuple(${this.value.map(($)=>$.format()).join(",")})`;return this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return this.#$}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");if(this.#$===!0)return-1;if(this.#$===!1)return this.value.length;return null}static from($,Q){return new g(c0,$,Q)}static uint8($){return B($,8)}static uint16($){return B($,16)}static uint24($){return B($,24)}static uint32($){return B($,32)}static uint40($){return B($,40)}static uint48($){return B($,48)}static uint56($){return B($,56)}static uint64($){return B($,64)}static uint72($){return B($,72)}static uint80($){return B($,80)}static uint88($){return B($,88)}static uint96($){return B($,96)}static uint104($){return B($,104)}static uint112($){return B($,112)}static uint120($){return B($,120)}static uint128($){return B($,128)}static uint136($){return B($,136)}static uint144($){return B($,144)}static uint152($){return B($,152)}static uint160($){return B($,160)}static uint168($){return B($,168)}static uint176($){return B($,176)}static uint184($){return B($,184)}static uint192($){return B($,192)}static uint200($){return B($,200)}static uint208($){return B($,208)}static uint216($){return B($,216)}static uint224($){return B($,224)}static uint232($){return B($,232)}static uint240($){return B($,240)}static uint248($){return B($,248)}static uint256($){return B($,256)}static uint($){return B($,256)}static int8($){return B($,-8)}static int16($){return B($,-16)}static int24($){return B($,-24)}static int32($){return B($,-32)}static int40($){return B($,-40)}static int48($){return B($,-48)}static int56($){return B($,-56)}static int64($){return B($,-64)}static int72($){return B($,-72)}static int80($){return B($,-80)}static int88($){return B($,-88)}static int96($){return B($,-96)}static int104($){return B($,-104)}static int112($){return B($,-112)}static int120($){return B($,-120)}static int128($){return B($,-128)}static int136($){return B($,-136)}static int144($){return B($,-144)}static int152($){return B($,-152)}static int160($){return B($,-160)}static int168($){return B($,-168)}static int176($){return B($,-176)}static int184($){return B($,-184)}static int192($){return B($,-192)}static int200($){return B($,-200)}static int208($){return B($,-208)}static int216($){return B($,-216)}static int224($){return B($,-224)}static int232($){return B($,-232)}static int240($){return B($,-240)}static int248($){return B($,-248)}static int256($){return B($,-256)}static int($){return B($,-256)}static bytes1($){return c($,1)}static bytes2($){return c($,2)}static bytes3($){return c($,3)}static bytes4($){return c($,4)}static bytes5($){return c($,5)}static bytes6($){return c($,6)}static bytes7($){return c($,7)}static bytes8($){return c($,8)}static bytes9($){return c($,9)}static bytes10($){return c($,10)}static bytes11($){return c($,11)}static bytes12($){return c($,12)}static bytes13($){return c($,13)}static bytes14($){return c($,14)}static bytes15($){return c($,15)}static bytes16($){return c($,16)}static bytes17($){return c($,17)}static bytes18($){return c($,18)}static bytes19($){return c($,19)}static bytes20($){return c($,20)}static bytes21($){return c($,21)}static bytes22($){return c($,22)}static bytes23($){return c($,23)}static bytes24($){return c($,24)}static bytes25($){return c($,25)}static bytes26($){return c($,26)}static bytes27($){return c($,27)}static bytes28($){return c($,28)}static bytes29($){return c($,29)}static bytes30($){return c($,30)}static bytes31($){return c($,31)}static bytes32($){return c($,32)}static address($){return new g(c0,"address",$)}static bool($){return new g(c0,"bool",!!$)}static bytes($){return new g(c0,"bytes",$)}static string($){return new g(c0,"string",$)}static array($,Q){throw new Error("not implemented yet")}static tuple($,Q){throw new Error("not implemented yet")}static overrides($){return new g(c0,"overrides",Object.assign({},$))}static isTyped($){return $&&typeof $==="object"&&"_typedSymbol"in $&&$._typedSymbol===z9}static dereference($,Q){if(g.isTyped($)){if($.type!==Q)throw new Error(`invalid type: expecetd ${Q}, got ${$.type}`);return $.value}return $}}class jJ extends M0{constructor($){super("address","address",$,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode($,Q){let J=g.dereference(Q,"string");try{J=h(J)}catch(X){return this._throwError(X.message,Q)}return $.writeValue(J)}decode($){return h(T0($.readValue(),20))}}class FJ extends M0{coder;constructor($){super($.name,$.type,"_",$.dynamic);this.coder=$}defaultValue(){return this.coder.defaultValue()}encode($,Q){return this.coder.encode($,Q)}decode($){return this.coder.decode($)}}function _J($,Q,J){let X=[];if(Array.isArray(J))X=J;else if(J&&typeof J==="object"){let G={};X=Q.map((V)=>{let W=V.localName;return R(W,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:V},value:J}),R(!G[W],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:V},value:J}),G[W]=!0,J[W]})}else O(!1,"invalid tuple value","tuple",J);O(Q.length===X.length,"types/value length mismatch","tuple",J);let Y=new Q8,Z=new Q8,z=[];Q.forEach((G,V)=>{let W=X[V];if(G.dynamic){let M=Z.length;G.encode(Z,W);let U=Y.writeUpdatableValue();z.push((I)=>{U(I+M)})}else G.encode(Y,W)}),z.forEach((G)=>{G(Y.length)});let K=$.appendWriter(Y);return K+=$.appendWriter(Z),K}function xJ($,Q){let J=[],X=[],Y=$.subReader(0);return Q.forEach((Z)=>{let z=null;if(Z.dynamic){let K=$.readIndex(),G=Y.subReader(K);try{z=Z.decode(G)}catch(V){if(r(V,"BUFFER_OVERRUN"))throw V;z=V,z.baseType=Z.name,z.name=Z.localName,z.type=Z.type}}else try{z=Z.decode($)}catch(K){if(r(K,"BUFFER_OVERRUN"))throw K;z=K,z.baseType=Z.name,z.name=Z.localName,z.type=Z.type}if(z==null)throw new Error("investigate");J.push(z),X.push(Z.localName||null)}),k0.fromItems(J,X)}class kJ extends M0{coder;length;constructor($,Q,J){let X=$.type+"["+(Q>=0?Q:"")+"]",Y=Q===-1||$.dynamic;super("array",X,J,Y);E(this,{coder:$,length:Q})}defaultValue(){let $=this.coder.defaultValue(),Q=[];for(let J=0;J<this.length;J++)Q.push($);return Q}encode($,Q){let J=g.dereference(Q,"array");if(!Array.isArray(J))this._throwError("expected array value",J);let X=this.length;if(X===-1)X=J.length,$.writeValue(J.length);N8(J.length,X,"coder array"+(this.localName?" "+this.localName:""));let Y=[];for(let Z=0;Z<J.length;Z++)Y.push(this.coder);return _J($,Y,J)}decode($){let Q=this.length;if(Q===-1)Q=$.readIndex(),R(Q*q0<=$.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:$.bytes,offset:Q*q0,length:$.dataLength});let J=[];for(let X=0;X<Q;X++)J.push(new FJ(this.coder));return xJ($,J)}}class fJ extends M0{constructor($){super("bool","bool",$,!1)}defaultValue(){return!1}encode($,Q){let J=g.dereference(Q,"bool");return $.writeValue(J?1:0)}decode($){return!!$.readValue()}}class RQ extends M0{constructor($,Q){super($,$,Q,!0)}defaultValue(){return"0x"}encode($,Q){Q=X0(Q);let J=$.writeValue(Q.length);return J+=$.writeBytes(Q),J}decode($){return $.readBytes($.readIndex(),!0)}}class hJ extends RQ{constructor($){super("bytes",$)}decode($){return L(super.decode($))}}class bJ extends M0{size;constructor($,Q){let J="bytes"+String($);super(J,J,Q,!1);E(this,{size:$},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode($,Q){let J=X0(g.dereference(Q,this.type));if(J.length!==this.size)this._throwError("incorrect data length",Q);return $.writeBytes(J)}decode($){return L($.readBytes(this.size))}}var BK=new Uint8Array([]);class yJ extends M0{constructor($){super("null","",$,!1)}defaultValue(){return null}encode($,Q){if(Q!=null)this._throwError("not null",Q);return $.writeBytes(BK)}decode($){return $.readBytes(0),null}}var AK=BigInt(0),PK=BigInt(1),wK=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class vJ extends M0{size;signed;constructor($,Q,J){let X=(Q?"int":"uint")+$*8;super(X,X,J,!1);E(this,{size:$,signed:Q},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode($,Q){let J=T(g.dereference(Q,this.type)),X=D$(wK,q0*8);if(this.signed){let Y=D$(X,this.size*8-1);if(J>Y||J<-(Y+PK))this._throwError("value out-of-bounds",Q);J=S8(J,8*q0)}else if(J<AK||J>D$(X,this.size*8))this._throwError("value out-of-bounds",Q);return $.writeValue(J)}decode($){let Q=D$($.readValue(),this.size*8);if(this.signed)Q=nQ(Q,this.size*8);return Q}}class gJ extends RQ{constructor($){super("string",$)}defaultValue(){return""}encode($,Q){return super.encode($,C0(g.dereference(Q,"string")))}decode($){return U$(super.decode($))}}class K8 extends M0{coders;constructor($,Q){let J=!1,X=[];$.forEach((Z)=>{if(Z.dynamic)J=!0;X.push(Z.type)});let Y="tuple("+X.join(",")+")";super("tuple",Y,Q,J);E(this,{coders:Object.freeze($.slice())})}defaultValue(){let $=[];this.coders.forEach((J)=>{$.push(J.defaultValue())});let Q=this.coders.reduce((J,X)=>{let Y=X.localName;if(Y){if(!J[Y])J[Y]=0;J[Y]++}return J},{});return this.coders.forEach((J,X)=>{let Y=J.localName;if(!Y||Q[Y]!==1)return;if(Y==="length")Y="_length";if($[Y]!=null)return;$[Y]=$[X]}),Object.freeze($)}encode($,Q){let J=g.dereference(Q,"tuple");return _J($,this.coders,J)}decode($){return xJ($,this.coders)}}function d0($){return l(C0($))}var jK="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",K9=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),G9=4;function FK($){let Q=0;function J(){return $[Q++]<<8|$[Q++]}let X=J(),Y=1,Z=[0,1];for(let A=1;A<X;A++)Z.push(Y+=J());let z=J(),K=Q;Q+=z;let G=0,V=0;function W(){if(G==0)V=V<<8|$[Q++],G=8;return V>>--G&1}let M=31,U=2**M,I=U>>>1,D=I>>1,q=U-1,H=0;for(let A=0;A<M;A++)H=H<<1|W();let C=[],N=0,F=U;while(!0){let A=Math.floor(((H-N+1)*Y-1)/F),P=0,j=X;while(j-P>1){let v=P+j>>>1;if(A<Z[v])j=v;else P=v}if(P==0)break;C.push(P);let u=N+Math.floor(F*Z[P]/Y),b=N+Math.floor(F*Z[P+1]/Y)-1;while(((u^b)&I)==0)H=H<<1&q|W(),u=u<<1&q,b=b<<1&q|1;while(u&~b&D)H=H&I|H<<1&q>>>1|W(),u=u<<1^I,b=(b^I)<<1|I|1;N=u,F=1+b-u}let w=X-4;return C.map((A)=>{switch(A-w){case 3:return w+65792+($[K++]<<16|$[K++]<<8|$[K++]);case 2:return w+256+($[K++]<<8|$[K++]);case 1:return w+$[K++];default:return A-1}})}function _K($){let Q=0;return()=>$[Q++]}function O9($){return _K(FK(xK($)))}function xK($){let Q=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((Y,Z)=>Q[Y.charCodeAt(0)]=Z);let J=$.length,X=new Uint8Array(6*J>>3);for(let Y=0,Z=0,z=0,K=0;Y<J;Y++)if(K=K<<6|Q[$.charCodeAt(Y)],z+=6,z>=8)X[Z++]=K>>(z-=8);return X}function kK($){return $&1?~$>>1:$>>1}function fK($,Q){let J=Array($);for(let X=0,Y=0;X<$;X++)J[X]=Y+=kK(Q());return J}function f8($,Q=0){let J=[];while(!0){let X=$(),Y=$();if(!Y)break;Q+=X;for(let Z=0;Z<Y;Z++)J.push(Q+Z);Q+=Y+1}return J}function D9($){return h8(()=>{let Q=f8($);if(Q.length)return Q})}function U9($){let Q=[];while(!0){let J=$();if(J==0)break;Q.push(hK(J,$))}while(!0){let J=$()-1;if(J<0)break;Q.push(bK(J,$))}return Q.flat()}function h8($){let Q=[];while(!0){let J=$(Q.length);if(!J)break;Q.push(J)}return Q}function q9($,Q,J){let X=Array($).fill().map(()=>[]);for(let Y=0;Y<Q;Y++)fK($,J).forEach((Z,z)=>X[z].push(Z));return X}function hK($,Q){let J=1+Q(),X=Q(),Y=h8(Q);return q9(Y.length,1+$,Q).flatMap((z,K)=>{let[G,...V]=z;return Array(Y[K]).fill().map((W,M)=>{let U=M*X;return[G+M*J,V.map((I)=>I+U)]})})}function bK($,Q){let J=1+Q();return q9(J,1+$,Q).map((Y)=>[Y[0],Y.slice(1)])}function yK($){let Q=[],J=f8($);return Y(X([]),[]),Q;function X(Z){let z=$(),K=h8(()=>{let G=f8($).map((V)=>J[V]);if(G.length)return X(G)});return{S:z,B:K,Q:Z}}function Y({S:Z,B:z},K,G){if(Z&4&&G===K[K.length-1])return;if(Z&2)G=K[K.length-1];if(Z&1)Q.push(K);for(let V of z)for(let W of V.Q)Y(V,[...K,W],G)}}function vK($){return $.toString(16).toUpperCase().padStart(2,"0")}function I9($){return`{${vK($)}}`}function gK($){let Q=[];for(let J=0,X=$.length;J<X;){let Y=$.codePointAt(J);J+=Y<65536?1:2,Q.push(Y)}return Q}function V8($){let J=$.length;if(J<4096)return String.fromCodePoint(...$);let X=[];for(let Y=0;Y<J;)X.push(String.fromCodePoint(...$.slice(Y,Y+=4096)));return X.join("")}function mK($,Q){let J=$.length,X=J-Q.length;for(let Y=0;X==0&&Y<J;Y++)X=$[Y]-Q[Y];return X}var cK="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",b8=44032,LQ=4352,NQ=4449,SQ=4519,H9=19,R9=21,M8=28,TQ=R9*M8,dK=H9*TQ,pK=b8+dK,uK=LQ+H9,iK=NQ+R9,lK=SQ+M8;function x8($){return $>>24&255}function C9($){return $&16777215}var cJ,W9,dJ,CQ;function nK(){let $=O9(cK);cJ=new Map(D9($).flatMap((Q,J)=>Q.map((X)=>[X,J+1<<24]))),W9=new Set(f8($)),dJ=new Map,CQ=new Map;for(let[Q,J]of U9($)){if(!W9.has(Q)&&J.length==2){let[X,Y]=J,Z=CQ.get(X);if(!Z)Z=new Map,CQ.set(X,Z);Z.set(Y,Q)}dJ.set(Q,J.reverse())}}function L9($){return $>=b8&&$<pK}function oK($,Q){if($>=LQ&&$<uK&&Q>=NQ&&Q<iK)return b8+($-LQ)*TQ+(Q-NQ)*M8;else if(L9($)&&Q>SQ&&Q<lK&&($-b8)%M8==0)return $+(Q-SQ);else{let J=CQ.get($);if(J){if(J=J.get(Q),J)return J}return-1}}function N9($){if(!cJ)nK();let Q=[],J=[],X=!1;function Y(Z){let z=cJ.get(Z);if(z)X=!0,Z|=z;Q.push(Z)}for(let Z of $)while(!0){if(Z<128)Q.push(Z);else if(L9(Z)){let z=Z-b8,K=z/TQ|0,G=z%TQ/M8|0,V=z%M8;if(Y(LQ+K),Y(NQ+G),V>0)Y(SQ+V)}else{let z=dJ.get(Z);if(z)J.push(...z);else Y(Z)}if(!J.length)break;Z=J.pop()}if(X&&Q.length>1){let Z=x8(Q[0]);for(let z=1;z<Q.length;z++){let K=x8(Q[z]);if(K==0||Z<=K){Z=K;continue}let G=z-1;while(!0){let V=Q[G+1];if(Q[G+1]=Q[G],Q[G]=V,!G)break;if(Z=x8(Q[--G]),Z<=K)break}Z=x8(Q[z])}}return Q}function sK($){let Q=[],J=[],X=-1,Y=0;for(let Z of $){let z=x8(Z),K=C9(Z);if(X==-1)if(z==0)X=K;else Q.push(K);else if(Y>0&&Y>=z){if(z==0)Q.push(X,...J),J.length=0,X=K;else J.push(K);Y=z}else{let G=oK(X,K);if(G>=0)X=G;else if(Y==0&&z==0)Q.push(X),X=K;else J.push(K),Y=z}}if(X>=0)Q.push(X,...J);return Q}function S9($){return N9($).map(C9)}function rK($){return sK(N9($))}var V9=45;var T9=".",E9=65039,B9=1,EQ=($)=>Array.from($);function y8($,Q){return $.P.has(Q)||$.Q.has(Q)}class A9 extends Array{get is_emoji(){return!0}}var pJ,P9,g$,uJ,w9,aK,W8,mJ,G8,v$,M9,iJ;function lJ(){if(pJ)return;let $=O9(jK),Q=()=>f8($),J=()=>new Set(Q()),X=(W,M)=>M.forEach((U)=>W.add(U));pJ=new Map(U9($)),P9=J(),g$=Q(),uJ=new Set(Q().map((W)=>g$[W])),g$=new Set(g$),w9=J(),aK=J();let Y=D9($),Z=$(),z=()=>{let W=new Set;return Q().forEach((M)=>X(W,Y[M])),X(W,Q()),W};W8=h8((W)=>{let M=h8($).map((U)=>U+96);if(M.length){let U=W>=Z;if(M[0]-=32,M=V8(M),U)M=`Restricted[${M}]`;let I=z(),D=z(),q=!$();return{N:M,P:I,Q:D,M:q,R:U}}}),mJ=J(),G8=new Map;let K=Q().concat(EQ(mJ)).sort((W,M)=>W-M);K.forEach((W,M)=>{let U=$(),I=K[M]=U?K[M-U]:{V:[],M:new Map};if(I.V.push(W),!mJ.has(W))G8.set(W,I)});for(let{V:W,M}of new Set(G8.values())){let U=[];for(let D of W){let q=W8.filter((C)=>y8(C,D)),H=U.find(({G:C})=>q.some((N)=>C.has(N)));if(!H)H={G:new Set,V:[]},U.push(H);H.V.push(D),X(H.G,q)}let I=U.flatMap((D)=>EQ(D.G));for(let{G:D,V:q}of U){let H=new Set(I.filter((C)=>!D.has(C)));for(let C of q)M.set(C,H)}}v$=new Set;let G=new Set,V=(W)=>v$.has(W)?G.add(W):v$.add(W);for(let W of W8){for(let M of W.P)V(M);for(let M of W.Q)V(M)}for(let W of v$)if(!G8.has(W)&&!G.has(W))G8.set(W,B9);X(v$,S9(v$)),M9=yK($).map((W)=>A9.from(W)).sort(mK),iJ=new Map;for(let W of M9){let M=[iJ];for(let U of W){let I=M.map((D)=>{let q=D.get(U);if(!q)q=new Map,D.set(U,q);return q});if(U===E9)M.push(...I);else M=I}for(let U of M)U.V=W}}function nJ($){return(j9($)?"":`${oJ(BQ([$]))} `)+I9($)}function oJ($){return`"${$}"`}function tK($){if($.length>=4&&$[2]==V9&&$[3]==V9)throw new Error(`invalid label extension: "${V8($.slice(0,4))}"`)}function eK($){for(let J=$.lastIndexOf(95);J>0;)if($[--J]!==95)throw new Error("underscore allowed only at start")}function $G($){let Q=$[0],J=K9.get(Q);if(J)throw k8(`leading ${J}`);let X=$.length,Y=-1;for(let Z=1;Z<X;Z++){Q=$[Z];let z=K9.get(Q);if(z){if(Y==Z)throw k8(`${J} + ${z}`);Y=Z+1,J=z}}if(Y==X)throw k8(`trailing ${J}`)}function BQ($,Q=1/0,J=I9){let X=[];if(QG($[0]))X.push("");if($.length>Q)Q>>=1,$=[...$.slice(0,Q),8230,...$.slice(-Q)];let Y=0,Z=$.length;for(let z=0;z<Z;z++){let K=$[z];if(j9(K))X.push(V8($.slice(Y,z))),X.push(J(K)),Y=z+1}return X.push(V8($.slice(Y,Z))),X.join("")}function QG($){return lJ(),g$.has($)}function j9($){return lJ(),w9.has($)}function F9($){return ZG(JG($,rK,GG))}function JG($,Q,J){if(!$)return[];lJ();let X=0;return $.split(T9).map((Y)=>{let Z=gK(Y),z={input:Z,offset:X};X+=Z.length+1;try{let K=z.tokens=KG(Z,Q,J),G=K.length,V;if(!G)throw new Error("empty label");let W=z.output=K.flat();if(eK(W),!(z.emoji=G>1||K[0].is_emoji)&&W.every((U)=>U<128))tK(W),V="ASCII";else{let U=K.flatMap((I)=>I.is_emoji?[]:I);if(!U.length)V="Emoji";else{if(g$.has(W[0]))throw k8("leading combining mark");for(let q=1;q<G;q++){let H=K[q];if(!H.is_emoji&&g$.has(H[0]))throw k8(`emoji + combining mark: "${V8(K[q-1])} + ${BQ([H[0]])}"`)}$G(W);let I=EQ(new Set(U)),[D]=YG(I);zG(D,U),XG(D,I),V=D.N}}z.type=V}catch(K){z.error=K}return z})}function XG($,Q){let J,X=[];for(let Y of Q){let Z=G8.get(Y);if(Z===B9)return;if(Z){let z=Z.M.get(Y);if(J=J?J.filter((K)=>z.has(K)):EQ(z),!J.length)return}else X.push(Y)}if(J){for(let Y of J)if(X.every((Z)=>y8(Y,Z)))throw new Error(`whole-script confusable: ${$.N}/${Y.N}`)}}function YG($){let Q=W8;for(let J of $){let X=Q.filter((Y)=>y8(Y,J));if(!X.length)if(!W8.some((Y)=>y8(Y,J)))throw _9(J);else throw x9(Q[0],J);if(Q=X,X.length==1)break}return Q}function ZG($){return $.map(({input:Q,error:J,output:X})=>{if(J){let Y=J.message;throw new Error($.length==1?Y:`Invalid label ${oJ(BQ(Q,63))}: ${Y}`)}return V8(X)}).join(T9)}function _9($){return new Error(`disallowed character: ${nJ($)}`)}function x9($,Q){let J=nJ(Q),X=W8.find((Y)=>Y.P.has(Q));if(X)J=`${X.N} ${J}`;return new Error(`illegal mixture: ${$.N} + ${J}`)}function k8($){return new Error(`illegal placement: ${$}`)}function zG($,Q){for(let J of Q)if(!y8($,J))throw x9($,J);if($.M){let J=S9(Q);for(let X=1,Y=J.length;X<Y;X++)if(uJ.has(J[X])){let Z=X+1;for(let z;Z<Y&&uJ.has(z=J[Z]);Z++)for(let K=X;K<Z;K++)if(J[K]==z)throw new Error(`duplicate non-spacing marks: ${nJ(z)}`);if(Z-X>G9)throw new Error(`excessive non-spacing marks: ${oJ(BQ(J.slice(X-1,Z)))} (${Z-X}/${G9})`);X=Z}}}function KG($,Q,J){let X=[],Y=[];$=$.slice().reverse();while($.length){let Z=WG($);if(Z){if(Y.length)X.push(Q(Y)),Y=[];X.push(J(Z))}else{let z=$.pop();if(v$.has(z))Y.push(z);else{let K=pJ.get(z);if(K)Y.push(...K);else if(!P9.has(z))throw _9(z)}}}if(Y.length)X.push(Q(Y));return X}function GG($){return $.filter((Q)=>Q!=E9)}function WG($,Q){let J=iJ,X,Y=$.length;while(Y){if(J=J.get($[--Y]),!J)break;let{V:Z}=J;if(Z){if(X=Z,Q)Q.push(...$.slice(Y).reverse());$.length=Y}}return X}var f9=new Uint8Array(32);f9.fill(0);function k9($){return O($.length!==0,"invalid ENS name; empty component","comp",$),$}function h9($){let Q=C0(b9($)),J=[];if($.length===0)return J;let X=0;for(let Y=0;Y<Q.length;Y++)if(Q[Y]===46)J.push(k9(Q.slice(X,Y))),X=Y+1;return O(X<Q.length,"invalid ENS name; empty component","name",$),J.push(k9(Q.slice(X))),J}function b9($){try{if($.length===0)throw new Error("empty label");return F9($)}catch(Q){O(!1,`invalid ENS name (${Q.message})`,"name",$)}}function O8($){O(typeof $==="string","invalid ENS name; not a string","name",$),O($.length,"invalid ENS name (empty label)","name",$);let Q=f9,J=h9($);while(J.length)Q=l(p([Q,l(J.pop())]));return L(Q)}function sJ($,Q){let J=Q!=null?Q:63;return O(J<=255,"DNS encoded label cannot exceed 255","length",J),L(p(h9($).map((X)=>{O(X.length<=J,`label ${JSON.stringify($)} exceeds ${J} bytes`,"name",$);let Y=new Uint8Array(X.length+1);return Y.set(X,1),Y[0]=Y.length-1,Y})))+"00"}function rJ($,Q){return{address:h($),storageKeys:Q.map((J,X)=>{return O(y(J,32),"invalid slot",`storageKeys[${X}]`,J),J.toLowerCase()})}}function F0($){if(Array.isArray($))return $.map((J,X)=>{if(Array.isArray(J))return O(J.length===2,"invalid slot set",`value[${X}]`,J),rJ(J[0],J[1]);return O(J!=null&&typeof J==="object","invalid address-slot set","value",$),rJ(J.address,J.storageKeys)});O($!=null&&typeof $==="object","invalid access list","value",$);let Q=Object.keys($).map((J)=>{let X=$[J].reduce((Y,Z)=>{return Y[Z]=!0,Y},{});return rJ(J,Object.keys(X).sort())});return Q.sort((J,X)=>J.address.localeCompare(X.address)),Q}function VG($){let Q;if(typeof $==="string")Q=h0.computePublicKey($,!1);else Q=$.publicKey;return h(l("0x"+Q.substring(4)).substring(26))}function y9($,Q){return VG(h0.recoverPublicKey($,Q))}var D0=BigInt(0),MG=BigInt(2),OG=BigInt(27),DG=BigInt(28),UG=BigInt(35),qG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aJ=131072;function v9($,Q){let J=$.toString(16);while(J.length<2)J="0"+J;return J+=C$(Q).substring(4),"0x"+J}function AQ($){if($==="0x")return null;return h($)}function tJ($,Q){try{return F0($)}catch(J){O(!1,J.message,Q,$)}}function v8($,Q){if($==="0x")return 0;return k($,Q)}function Y0($,Q){if($==="0x")return D0;let J=T($,Q);return O(J<=qG,"value exceeds uint size",Q,J),J}function a($,Q){let J=T($,"value"),X=G0(J);return O(X.length<=32,"value too large",`tx.${Q}`,J),X}function eJ($){return F0($).map((Q)=>[Q.address,Q.storageKeys])}function IG($,Q){O(Array.isArray($),`invalid ${Q}`,"value",$);for(let J=0;J<$.length;J++)O(y($[J],32),"invalid ${ param } hash",`value[${J}]`,$[J]);return $}function HG($){let Q=$8($);O(Array.isArray(Q)&&(Q.length===9||Q.length===6),"invalid field count for legacy transaction","data",$);let J={type:0,nonce:v8(Q[0],"nonce"),gasPrice:Y0(Q[1],"gasPrice"),gasLimit:Y0(Q[2],"gasLimit"),to:AQ(Q[3]),value:Y0(Q[4],"value"),data:L(Q[5]),chainId:D0};if(Q.length===6)return J;let X=Y0(Q[6],"v"),Y=Y0(Q[7],"r"),Z=Y0(Q[8],"s");if(Y===D0&&Z===D0)J.chainId=X;else{let z=(X-UG)/MG;if(z<D0)z=D0;J.chainId=z,O(z!==D0||(X===OG||X===DG),"non-canonical legacy v","v",Q[6]),J.signature=e.from({r:P0(Q[7],32),s:P0(Q[8],32),v:X})}return J}function RG($,Q){let J=[a($.nonce,"nonce"),a($.gasPrice||0,"gasPrice"),a($.gasLimit,"gasLimit"),$.to||"0x",a($.value,"value"),$.data],X=D0;if($.chainId!=D0)X=T($.chainId,"tx.chainId"),O(!Q||Q.networkV==null||Q.legacyChainId===X,"tx.chainId/sig.v mismatch","sig",Q);else if($.signature){let Z=$.signature.legacyChainId;if(Z!=null)X=Z}if(!Q){if(X!==D0)J.push(G0(X)),J.push("0x"),J.push("0x");return a0(J)}let Y=BigInt(27+Q.yParity);if(X!==D0)Y=e.getChainIdV(X,Q.v);else if(BigInt(Q.v)!==Y)O(!1,"tx.chainId/sig.v mismatch","sig",Q);return J.push(G0(Y)),J.push(G0(Q.r)),J.push(G0(Q.s)),a0(J)}function $X($,Q){let J;try{if(J=v8(Q[0],"yParity"),J!==0&&J!==1)throw new Error("bad yParity")}catch(z){O(!1,"invalid yParity","yParity",Q[0])}let X=P0(Q[1],32),Y=P0(Q[2],32),Z=e.from({r:X,s:Y,yParity:J});$.signature=Z}function CG($){let Q=$8(_($).slice(1));O(Array.isArray(Q)&&(Q.length===9||Q.length===12),"invalid field count for transaction type: 2","data",L($));let J={type:2,chainId:Y0(Q[0],"chainId"),nonce:v8(Q[1],"nonce"),maxPriorityFeePerGas:Y0(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:Y0(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:Y0(Q[4],"gasLimit"),to:AQ(Q[5]),value:Y0(Q[6],"value"),data:L(Q[7]),accessList:tJ(Q[8],"accessList")};if(Q.length===9)return J;return $X(J,Q.slice(9)),J}function LG($,Q){let J=[a($.chainId,"chainId"),a($.nonce,"nonce"),a($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),a($.maxFeePerGas||0,"maxFeePerGas"),a($.gasLimit,"gasLimit"),$.to||"0x",a($.value,"value"),$.data,eJ($.accessList||[])];if(Q)J.push(a(Q.yParity,"yParity")),J.push(G0(Q.r)),J.push(G0(Q.s));return p(["0x02",a0(J)])}function NG($){let Q=$8(_($).slice(1));O(Array.isArray(Q)&&(Q.length===8||Q.length===11),"invalid field count for transaction type: 1","data",L($));let J={type:1,chainId:Y0(Q[0],"chainId"),nonce:v8(Q[1],"nonce"),gasPrice:Y0(Q[2],"gasPrice"),gasLimit:Y0(Q[3],"gasLimit"),to:AQ(Q[4]),value:Y0(Q[5],"value"),data:L(Q[6]),accessList:tJ(Q[7],"accessList")};if(Q.length===8)return J;return $X(J,Q.slice(8)),J}function SG($,Q){let J=[a($.chainId,"chainId"),a($.nonce,"nonce"),a($.gasPrice||0,"gasPrice"),a($.gasLimit,"gasLimit"),$.to||"0x",a($.value,"value"),$.data,eJ($.accessList||[])];if(Q)J.push(a(Q.yParity,"recoveryParam")),J.push(G0(Q.r)),J.push(G0(Q.s));return p(["0x01",a0(J)])}function TG($){let Q=$8(_($).slice(1)),J="3",X=null;if(Q.length===4&&Array.isArray(Q[0])){J="3 (network format)";let Z=Q[1],z=Q[2],K=Q[3];O(Array.isArray(Z),"invalid network format: blobs not an array","fields[1]",Z),O(Array.isArray(z),"invalid network format: commitments not an array","fields[2]",z),O(Array.isArray(K),"invalid network format: proofs not an array","fields[3]",K),O(Z.length===z.length,"invalid network format: blobs/commitments length mismatch","fields",Q),O(Z.length===K.length,"invalid network format: blobs/proofs length mismatch","fields",Q),X=[];for(let G=0;G<Q[1].length;G++)X.push({data:Z[G],commitment:z[G],proof:K[G]});Q=Q[0]}O(Array.isArray(Q)&&(Q.length===11||Q.length===14),`invalid field count for transaction type: ${J}`,"data",L($));let Y={type:3,chainId:Y0(Q[0],"chainId"),nonce:v8(Q[1],"nonce"),maxPriorityFeePerGas:Y0(Q[2],"maxPriorityFeePerGas"),maxFeePerGas:Y0(Q[3],"maxFeePerGas"),gasPrice:null,gasLimit:Y0(Q[4],"gasLimit"),to:AQ(Q[5]),value:Y0(Q[6],"value"),data:L(Q[7]),accessList:tJ(Q[8],"accessList"),maxFeePerBlobGas:Y0(Q[9],"maxFeePerBlobGas"),blobVersionedHashes:Q[10]};if(X)Y.blobs=X;O(Y.to!=null,`invalid address for transaction type: ${J}`,"data",$),O(Array.isArray(Y.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",$);for(let Z=0;Z<Y.blobVersionedHashes.length;Z++)O(y(Y.blobVersionedHashes[Z],32),`invalid blobVersionedHash at index ${Z}: must be length 32`,"data",$);if(Q.length===11)return Y;return $X(Y,Q.slice(11)),Y}function EG($,Q,J){let X=[a($.chainId,"chainId"),a($.nonce,"nonce"),a($.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),a($.maxFeePerGas||0,"maxFeePerGas"),a($.gasLimit,"gasLimit"),$.to||Z$,a($.value,"value"),$.data,eJ($.accessList||[]),a($.maxFeePerBlobGas||0,"maxFeePerBlobGas"),IG($.blobVersionedHashes||[],"blobVersionedHashes")];if(Q){if(X.push(a(Q.yParity,"yParity")),X.push(G0(Q.r)),X.push(G0(Q.s)),J)return p(["0x03",a0([X,J.map((Y)=>Y.data),J.map((Y)=>Y.commitment),J.map((Y)=>Y.proof)])])}return p(["0x03",a0(X)])}class _0{#$;#Q;#J;#X;#Y;#z;#Z;#K;#D;#W;#U;#q;#G;#V;#M;#O;get type(){return this.#$}set type($){switch($){case null:this.#$=null;break;case 0:case"legacy":this.#$=0;break;case 1:case"berlin":case"eip-2930":this.#$=1;break;case 2:case"london":case"eip-1559":this.#$=2;break;case 3:case"cancun":case"eip-4844":this.#$=3;break;default:O(!1,"unsupported transaction type","type",$)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let $=this.#Q;if($==null&&this.type===3)return Z$;return $}set to($){this.#Q=$==null?null:h($)}get nonce(){return this.#X}set nonce($){this.#X=k($,"value")}get gasLimit(){return this.#Y}set gasLimit($){this.#Y=T($)}get gasPrice(){let $=this.#z;if($==null&&(this.type===0||this.type===1))return D0;return $}set gasPrice($){this.#z=$==null?null:T($,"gasPrice")}get maxPriorityFeePerGas(){let $=this.#Z;if($==null){if(this.type===2||this.type===3)return D0;return null}return $}set maxPriorityFeePerGas($){this.#Z=$==null?null:T($,"maxPriorityFeePerGas")}get maxFeePerGas(){let $=this.#K;if($==null){if(this.type===2||this.type===3)return D0;return null}return $}set maxFeePerGas($){this.#K=$==null?null:T($,"maxFeePerGas")}get data(){return this.#J}set data($){this.#J=L($)}get value(){return this.#D}set value($){this.#D=T($,"value")}get chainId(){return this.#W}set chainId($){this.#W=T($)}get signature(){return this.#U||null}set signature($){this.#U=$==null?null:e.from($)}get accessList(){let $=this.#q||null;if($==null){if(this.type===1||this.type===2||this.type===3)return[];return null}return $}set accessList($){this.#q=$==null?null:F0($)}get maxFeePerBlobGas(){let $=this.#G;if($==null&&this.type===3)return D0;return $}set maxFeePerBlobGas($){this.#G=$==null?null:T($,"maxFeePerBlobGas")}get blobVersionedHashes(){let $=this.#V;if($==null&&this.type===3)return[];return $}set blobVersionedHashes($){if($!=null){O(Array.isArray($),"blobVersionedHashes must be an Array","value",$),$=$.slice();for(let Q=0;Q<$.length;Q++)O(y($[Q],32),"invalid blobVersionedHash",`value[${Q}]`,$[Q])}this.#V=$}get blobs(){if(this.#O==null)return null;return this.#O.map(($)=>Object.assign({},$))}set blobs($){if($==null){this.#O=null;return}let Q=[],J=[];for(let X=0;X<$.length;X++){let Y=$[X];if(x$(Y)){R(this.#M,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let Z=_(Y);if(O(Z.length<=aJ,"blob is too large",`blobs[${X}]`,Y),Z.length!==aJ){let G=new Uint8Array(aJ);G.set(Z),Z=G}let z=this.#M.blobToKzgCommitment(Z),K=L(this.#M.computeBlobKzgProof(Z,z));Q.push({data:L(Z),commitment:L(z),proof:K}),J.push(v9(1,z))}else{let Z=L(Y.commitment);Q.push({data:L(Y.data),commitment:Z,proof:L(Y.proof)}),J.push(v9(1,Z))}}this.#O=Q,this.#V=J}get kzg(){return this.#M}set kzg($){this.#M=$}constructor(){this.#$=null,this.#Q=null,this.#X=0,this.#Y=D0,this.#z=null,this.#Z=null,this.#K=null,this.#J="0x",this.#D=D0,this.#W=D0,this.#U=null,this.#q=null,this.#G=null,this.#V=null,this.#O=null,this.#M=null}get hash(){if(this.signature==null)return null;return l(this.#I(!0,!1))}get unsignedHash(){return l(this.unsignedSerialized)}get from(){if(this.signature==null)return null;return y9(this.unsignedHash,this.signature)}get fromPublicKey(){if(this.signature==null)return null;return h0.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}#I($,Q){R(!$||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let J=$?this.signature:null;switch(this.inferType()){case 0:return RG(this,J);case 1:return SG(this,J);case 2:return LG(this,J);case 3:return EG(this,J,Q?this.blobs:null)}R(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#I(!0,!0)}get unsignedSerialized(){return this.#I(!1,!1)}inferType(){let $=this.inferTypes();if($.indexOf(2)>=0)return 2;return $.pop()}inferTypes(){let $=this.gasPrice!=null,Q=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,J=this.accessList!=null,X=this.#G!=null||this.#V;if(this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null)R(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this});R(!Q||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),R(this.type!==0||!J,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let Y=[];if(this.type!=null)Y.push(this.type);else if(Q)Y.push(2);else if($){if(Y.push(1),!J)Y.push(0)}else if(J)Y.push(1),Y.push(2);else if(X&&this.to)Y.push(3);else Y.push(0),Y.push(1),Y.push(2),Y.push(3);return Y.sort(),Y}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return _0.from(this)}toJSON(){let $=(Q)=>{if(Q==null)return null;return Q.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:$(this.gasLimit),gasPrice:$(this.gasPrice),maxPriorityFeePerGas:$(this.maxPriorityFeePerGas),maxFeePerGas:$(this.maxFeePerGas),value:$(this.value),chainId:$(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from($){if($==null)return new _0;if(typeof $==="string"){let J=_($);if(J[0]>=127)return _0.from(HG(J));switch(J[0]){case 1:return _0.from(NG(J));case 2:return _0.from(CG(J));case 3:return _0.from(TG(J))}R(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let Q=new _0;if($.type!=null)Q.type=$.type;if($.to!=null)Q.to=$.to;if($.nonce!=null)Q.nonce=$.nonce;if($.gasLimit!=null)Q.gasLimit=$.gasLimit;if($.gasPrice!=null)Q.gasPrice=$.gasPrice;if($.maxPriorityFeePerGas!=null)Q.maxPriorityFeePerGas=$.maxPriorityFeePerGas;if($.maxFeePerGas!=null)Q.maxFeePerGas=$.maxFeePerGas;if($.maxFeePerBlobGas!=null)Q.maxFeePerBlobGas=$.maxFeePerBlobGas;if($.data!=null)Q.data=$.data;if($.value!=null)Q.value=$.value;if($.chainId!=null)Q.chainId=$.chainId;if($.signature!=null)Q.signature=e.from($.signature);if($.accessList!=null)Q.accessList=$.accessList;if($.blobVersionedHashes!=null)Q.blobVersionedHashes=$.blobVersionedHashes;if($.kzg!=null)Q.kzg=$.kzg;if($.blobs!=null)Q.blobs=$.blobs;if($.hash!=null)O(Q.isSigned(),"unsigned transaction cannot define '.hash'","tx",$),O(Q.hash===$.hash,"hash mismatch","tx",$);if($.from!=null)O(Q.isSigned(),"unsigned transaction cannot define '.from'","tx",$),O(Q.from.toLowerCase()===($.from||"").toLowerCase(),"from mismatch","tx",$);return Q}}var d9=new Uint8Array(32);d9.fill(0);var BG=BigInt(-1),p9=BigInt(0),u9=BigInt(1),AG=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function PG($){let Q=_($),J=Q.length%32;if(J)return p([Q,d9.slice(J)]);return L(Q)}var wG=T0(u9,32),jG=T0(p9,32),g9={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},QX=["name","version","chainId","verifyingContract","salt"];function m9($){return function(Q){return O(typeof Q==="string",`invalid domain value for ${JSON.stringify($)}`,`domain.${$}`,Q),Q}}var FG={name:m9("name"),version:m9("version"),chainId:function($){let Q=T($,"domain.chainId");if(O(Q>=0,"invalid chain ID","domain.chainId",$),Number.isSafeInteger(Q))return Number(Q);return r0(Q)},verifyingContract:function($){try{return h($).toLowerCase()}catch(Q){}O(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",$)},salt:function($){let Q=_($,"domain.salt");return O(Q.length===32,'invalid domain value "salt"',"domain.salt",$),L(Q)}};function JX($){{let Q=$.match(/^(u?)int(\d+)$/);if(Q){let J=Q[1]==="",X=parseInt(Q[2]);O(X%8===0&&X!==0&&X<=256&&Q[2]===String(X),"invalid numeric width","type",$);let Y=D$(AG,J?X-1:X),Z=J?(Y+u9)*BG:p9;return function(z){let K=T(z,"value");return O(K>=Z&&K<=Y,`value out-of-bounds for ${$}`,"value",K),T0(J?S8(K,256):K,32)}}}{let Q=$.match(/^bytes(\d+)$/);if(Q){let J=parseInt(Q[1]);return O(J!==0&&J<=32&&Q[1]===String(J),"invalid bytes width","type",$),function(X){let Y=_(X);return O(Y.length===J,`invalid length for ${$}`,"value",X),PG(X)}}}switch($){case"address":return function(Q){return P0(h(Q),32)};case"bool":return function(Q){return!Q?jG:wG};case"bytes":return function(Q){return l(Q)};case"string":return function(Q){return d0(Q)}}return null}function c9($,Q){return`${$}(${Q.map(({name:J,type:X})=>X+" "+J).join(",")})`}function PQ($){let Q=$.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);if(Q)return{base:Q[1],index:Q[2]+Q[4],array:{base:Q[1],prefix:Q[1]+Q[2],count:Q[5]?parseInt(Q[5]):-1}};return{base:$}}class L0{primaryType;#$;get types(){return JSON.parse(this.#$)}#Q;#J;constructor($){this.#Q=new Map,this.#J=new Map;let Q=new Map,J=new Map,X=new Map,Y={};Object.keys($).forEach((K)=>{Y[K]=$[K].map(({name:G,type:V})=>{let{base:W,index:M}=PQ(V);if(W==="int"&&!$.int)W="int256";if(W==="uint"&&!$.uint)W="uint256";return{name:G,type:W+(M||"")}}),Q.set(K,new Set),J.set(K,[]),X.set(K,new Set)}),this.#$=JSON.stringify(Y);for(let K in Y){let G=new Set;for(let V of Y[K]){O(!G.has(V.name),`duplicate variable name ${JSON.stringify(V.name)} in ${JSON.stringify(K)}`,"types",$),G.add(V.name);let W=PQ(V.type).base;if(O(W!==K,`circular type reference to ${JSON.stringify(W)}`,"types",$),JX(W))continue;O(J.has(W),`unknown type ${JSON.stringify(W)}`,"types",$),J.get(W).push(K),Q.get(K).add(W)}}let Z=Array.from(J.keys()).filter((K)=>J.get(K).length===0);O(Z.length!==0,"missing primary type","types",$),O(Z.length===1,`ambiguous primary types or unused types: ${Z.map((K)=>JSON.stringify(K)).join(", ")}`,"types",$),E(this,{primaryType:Z[0]});function z(K,G){O(!G.has(K),`circular type reference to ${JSON.stringify(K)}`,"types",$),G.add(K);for(let V of Q.get(K)){if(!J.has(V))continue;z(V,G);for(let W of G)X.get(W).add(V)}G.delete(K)}z(this.primaryType,new Set);for(let[K,G]of X){let V=Array.from(G);V.sort(),this.#Q.set(K,c9(K,Y[K])+V.map((W)=>c9(W,Y[W])).join(""))}}getEncoder($){let Q=this.#J.get($);if(!Q)Q=this.#X($),this.#J.set($,Q);return Q}#X($){{let X=JX($);if(X)return X}let Q=PQ($).array;if(Q){let X=Q.prefix,Y=this.getEncoder(X);return(Z)=>{O(Q.count===-1||Q.count===Z.length,`array length mismatch; expected length ${Q.count}`,"value",Z);let z=Z.map(Y);if(this.#Q.has(X))z=z.map(l);return l(p(z))}}let J=this.types[$];if(J){let X=d0(this.#Q.get($));return(Y)=>{let Z=J.map(({name:z,type:K})=>{let G=this.getEncoder(K)(Y[z]);if(this.#Q.has(K))return l(G);return G});return Z.unshift(X),p(Z)}}O(!1,`unknown type: ${$}`,"type",$)}encodeType($){let Q=this.#Q.get($);return O(Q,`unknown type: ${JSON.stringify($)}`,"name",$),Q}encodeData($,Q){return this.getEncoder($)(Q)}hashStruct($,Q){return l(this.encodeData($,Q))}encode($){return this.encodeData(this.primaryType,$)}hash($){return this.hashStruct(this.primaryType,$)}_visit($,Q,J){if(JX($))return J($,Q);let X=PQ($).array;if(X)return O(X.count===-1||X.count===Q.length,`array length mismatch; expected length ${X.count}`,"value",Q),Q.map((Z)=>this._visit(X.prefix,Z,J));let Y=this.types[$];if(Y)return Y.reduce((Z,{name:z,type:K})=>{return Z[z]=this._visit(K,Q[z],J),Z},{});O(!1,`unknown type: ${$}`,"type",$)}visit($,Q){return this._visit(this.primaryType,$,Q)}static from($){return new L0($)}static getPrimaryType($){return L0.from($).primaryType}static hashStruct($,Q,J){return L0.from(Q).hashStruct($,J)}static hashDomain($){let Q=[];for(let J in $){if($[J]==null)continue;let X=g9[J];O(X,`invalid typed-data domain key: ${JSON.stringify(J)}`,"domain",$),Q.push({name:J,type:X})}return Q.sort((J,X)=>{return QX.indexOf(J.name)-QX.indexOf(X.name)}),L0.hashStruct("EIP712Domain",{EIP712Domain:Q},$)}static encode($,Q,J){return p(["0x1901",L0.hashDomain($),L0.from(Q).hash(J)])}static hash($,Q,J){return l(L0.encode($,Q,J))}static async resolveNames($,Q,J,X){$=Object.assign({},$);for(let z in $)if($[z]==null)delete $[z];let Y={};if($.verifyingContract&&!y($.verifyingContract,20))Y[$.verifyingContract]="0x";let Z=L0.from(Q);Z.visit(J,(z,K)=>{if(z==="address"&&!y(K,20))Y[K]="0x";return K});for(let z in Y)Y[z]=await X(z);if($.verifyingContract&&Y[$.verifyingContract])$.verifyingContract=Y[$.verifyingContract];return J=Z.visit(J,(z,K)=>{if(z==="address"&&Y[K])return Y[K];return K}),{domain:$,value:J}}static getPayload($,Q,J){L0.hashDomain($);let X={},Y=[];QX.forEach((K)=>{let G=$[K];if(G==null)return;X[K]=FG[K](G),Y.push({name:K,type:g9[K]})});let Z=L0.from(Q);Q=Z.types;let z=Object.assign({},Q);return O(z.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",Q),z.EIP712Domain=Y,Z.encode(J),{types:z,domain:X,primaryType:Z.primaryType,message:Z.visit(J,(K,G)=>{if(K.match(/^bytes(\d*)/))return L(_(G));if(K.match(/^u?int/))return T(G).toString();switch(K){case"address":return G.toLowerCase();case"bool":return!!G;case"string":return O(typeof G==="string","invalid string","value",G),G}O(!1,"unsupported type","type",K)})}}}function N0($){let Q=new Set;return $.forEach((J)=>Q.add(J)),Object.freeze(Q)}var _G="external public payable override",xG=N0(_G.split(" ")),$Z="constant external internal payable private public pure view override",kG=N0($Z.split(" ")),QZ="constructor error event fallback function receive struct",JZ=N0(QZ.split(" ")),XZ="calldata memory storage payable indexed",fG=N0(XZ.split(" ")),hG="tuple returns",bG=[QZ,XZ,hG,$Z].join(" "),yG=N0(bG.split(" ")),vG={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},gG=new RegExp("^(\\s*)"),mG=new RegExp("^([0-9]+)"),cG=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),YZ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),ZZ=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class b0{#$;#Q;get offset(){return this.#$}get length(){return this.#Q.length-this.#$}constructor($){this.#$=0,this.#Q=$.slice()}clone(){return new b0(this.#Q)}reset(){this.#$=0}#J($=0,Q=0){return new b0(this.#Q.slice($,Q).map((J)=>{return Object.freeze(Object.assign({},J,{match:J.match-$,linkBack:J.linkBack-$,linkNext:J.linkNext-$}))}))}popKeyword($){let Q=this.peek();if(Q.type!=="KEYWORD"||!$.has(Q.text))throw new Error(`expected keyword ${Q.text}`);return this.pop().text}popType($){if(this.peek().type!==$){let Q=this.peek();throw new Error(`expected ${$}; got ${Q.type} ${JSON.stringify(Q.text)}`)}return this.pop().text}popParen(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Q=this.#J(this.#$+1,$.match+1);return this.#$=$.match+1,Q}popParams(){let $=this.peek();if($.type!=="OPEN_PAREN")throw new Error("bad start");let Q=[];while(this.#$<$.match-1){let J=this.peek().linkNext;Q.push(this.#J(this.#$+1,J)),this.#$=J}return this.#$=$.match+1,Q}peek(){if(this.#$>=this.#Q.length)throw new Error("out-of-bounds");return this.#Q[this.#$]}peekKeyword($){let Q=this.peekType("KEYWORD");return Q!=null&&$.has(Q)?Q:null}peekType($){if(this.length===0)return null;let Q=this.peek();return Q.type===$?Q.text:null}pop(){let $=this.peek();return this.#$++,$}toString(){let $=[];for(let Q=this.#$;Q<this.#Q.length;Q++){let J=this.#Q[Q];$.push(`${J.type}:${J.text}`)}return`<TokenString ${$.join(" ")}>`}}function B$($){let Q=[],J=(z)=>{let K=Z<$.length?JSON.stringify($[Z]):"$EOI";throw new Error(`invalid token ${K} at ${Z}: ${z}`)},X=[],Y=[],Z=0;while(Z<$.length){let z=$.substring(Z),K=z.match(gG);if(K)Z+=K[1].length,z=$.substring(Z);let G={depth:X.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:Z,value:-1};Q.push(G);let V=vG[z[0]]||"";if(V){if(G.type=V,G.text=z[0],Z++,V==="OPEN_PAREN")X.push(Q.length-1),Y.push(Q.length-1);else if(V=="CLOSE_PAREN"){if(X.length===0)J("no matching open bracket");G.match=X.pop(),Q[G.match].match=Q.length-1,G.depth--,G.linkBack=Y.pop(),Q[G.linkBack].linkNext=Q.length-1}else if(V==="COMMA")G.linkBack=Y.pop(),Q[G.linkBack].linkNext=Q.length-1,Y.push(Q.length-1);else if(V==="OPEN_BRACKET")G.type="BRACKET";else if(V==="CLOSE_BRACKET"){let W=Q.pop().text;if(Q.length>0&&Q[Q.length-1].type==="NUMBER"){let M=Q.pop().text;W=M+W,Q[Q.length-1].value=k(M)}if(Q.length===0||Q[Q.length-1].type!=="BRACKET")throw new Error("missing opening bracket");Q[Q.length-1].text+=W}continue}if(K=z.match(cG),K){if(G.text=K[1],Z+=G.text.length,yG.has(G.text)){G.type="KEYWORD";continue}if(G.text.match(ZZ)){G.type="TYPE";continue}G.type="ID";continue}if(K=z.match(mG),K){G.text=K[1],G.type="NUMBER",Z+=G.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(z[0])} at position ${Z}`)}return new b0(Q.map((z)=>Object.freeze(z)))}function i9($,Q){let J=[];for(let X in Q.keys())if($.has(X))J.push(X);if(J.length>1)throw new Error(`conflicting types: ${J.join(", ")}`)}function wQ($,Q){if(Q.peekKeyword(JZ)){let J=Q.pop().text;if(J!==$)throw new Error(`expected ${$}, got ${J}`)}return Q.popType("ID")}function G$($,Q){let J=new Set;while(!0){let X=$.peekType("KEYWORD");if(X==null||Q&&!Q.has(X))break;if($.pop(),J.has(X))throw new Error(`duplicate keywords: ${JSON.stringify(X)}`);J.add(X)}return Object.freeze(J)}function zZ($){let Q=G$($,kG);if(i9(Q,N0("constant payable nonpayable".split(" "))),i9(Q,N0("pure view payable nonpayable".split(" "))),Q.has("view"))return"view";if(Q.has("pure"))return"pure";if(Q.has("payable"))return"payable";if(Q.has("nonpayable"))return"nonpayable";if(Q.has("constant"))return"view";return"nonpayable"}function K$($,Q){return $.popParams().map((J)=>n.from(J,Q))}function KZ($){if($.peekType("AT")){if($.pop(),$.peekType("NUMBER"))return T($.pop().text);throw new Error("invalid gas")}return null}function c$($){if($.length)throw new Error(`unexpected tokens at offset ${$.offset}: ${$.toString()}`)}var dG=new RegExp(/^(.*)\[([0-9]*)\]$/);function l9($){let Q=$.match(ZZ);if(O(Q,"invalid type","type",$),$==="uint")return"uint256";if($==="int")return"int256";if(Q[2]){let J=parseInt(Q[2]);O(J!==0&&J<=32,"invalid bytes length","type",$)}else if(Q[3]){let J=parseInt(Q[3]);O(J!==0&&J<=256&&J%8===0,"invalid numeric width","type",$)}return $}var $0={},B0=Symbol.for("_ethers_internal"),n9="_ParamTypeInternal",o9="_ErrorInternal",s9="_EventInternal",r9="_ConstructorInternal",a9="_FallbackInternal",t9="_FunctionInternal",e9="_StructInternal";class n{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor($,Q,J,X,Y,Z,z,K){if(O$($,$0,"ParamType"),Object.defineProperty(this,B0,{value:n9}),Z)Z=Object.freeze(Z.slice());if(X==="array"){if(z==null||K==null)throw new Error("")}else if(z!=null||K!=null)throw new Error("");if(X==="tuple"){if(Z==null)throw new Error("")}else if(Z!=null)throw new Error("");E(this,{name:Q,type:J,baseType:X,indexed:Y,components:Z,arrayLength:z,arrayChildren:K})}format($){if($==null)$="sighash";if($==="json"){let J=this.name||"";if(this.isArray()){let Y=JSON.parse(this.arrayChildren.format("json"));return Y.name=J,Y.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(Y)}let X={type:this.baseType==="tuple"?"tuple":this.type,name:J};if(typeof this.indexed==="boolean")X.indexed=this.indexed;if(this.isTuple())X.components=this.components.map((Y)=>JSON.parse(Y.format($)));return JSON.stringify(X)}let Q="";if(this.isArray())Q+=this.arrayChildren.format($),Q+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`;else if(this.isTuple())Q+="("+this.components.map((J)=>J.format($)).join($==="full"?", ":",")+")";else Q+=this.type;if($!=="sighash"){if(this.indexed===!0)Q+=" indexed";if($==="full"&&this.name)Q+=" "+this.name}return Q}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk($,Q){if(this.isArray()){if(!Array.isArray($))throw new Error("invalid array value");if(this.arrayLength!==-1&&$.length!==this.arrayLength)throw new Error("array is wrong length");let J=this;return $.map((X)=>J.arrayChildren.walk(X,Q))}if(this.isTuple()){if(!Array.isArray($))throw new Error("invalid tuple value");if($.length!==this.components.length)throw new Error("array is wrong length");let J=this;return $.map((X,Y)=>J.components[Y].walk(X,Q))}return Q(this.type,$)}#$($,Q,J,X){if(this.isArray()){if(!Array.isArray(Q))throw new Error("invalid array value");if(this.arrayLength!==-1&&Q.length!==this.arrayLength)throw new Error("array is wrong length");let Z=this.arrayChildren,z=Q.slice();z.forEach((K,G)=>{Z.#$($,K,J,(V)=>{z[G]=V})}),X(z);return}if(this.isTuple()){let Z=this.components,z;if(Array.isArray(Q))z=Q.slice();else{if(Q==null||typeof Q!=="object")throw new Error("invalid tuple value");z=Z.map((K)=>{if(!K.name)throw new Error("cannot use object value with unnamed components");if(!(K.name in Q))throw new Error(`missing value for component ${K.name}`);return Q[K.name]})}if(z.length!==this.components.length)throw new Error("array is wrong length");z.forEach((K,G)=>{Z[G].#$($,K,J,(V)=>{z[G]=V})}),X(z);return}let Y=J(this.type,Q);if(Y.then)$.push(async function(){X(await Y)}());else X(Y)}async walkAsync($,Q){let J=[],X=[$];if(this.#$(J,$,Q,(Y)=>{X[0]=Y}),J.length)await Promise.all(J);return X[0]}static from($,Q){if(n.isParamType($))return $;if(typeof $==="string")try{return n.from(B$($),Q)}catch(z){O(!1,"invalid param type","obj",$)}else if($ instanceof b0){let z="",K="",G=null;if(G$($,N0(["tuple"])).has("tuple")||$.peekType("OPEN_PAREN"))K="tuple",G=$.popParams().map((D)=>n.from(D)),z=`tuple(${G.map((D)=>D.format()).join(",")})`;else z=l9($.popType("TYPE")),K=z;let V=null,W=null;while($.length&&$.peekType("BRACKET")){let D=$.pop();V=new n($0,"",z,K,null,G,W,V),W=D.value,z+=D.text,K="array",G=null}let M=null;if(G$($,fG).has("indexed")){if(!Q)throw new Error("");M=!0}let I=$.peekType("ID")?$.pop().text:"";if($.length)throw new Error("leftover tokens");return new n($0,I,z,K,M,G,W,V)}let J=$.name;O(!J||typeof J==="string"&&J.match(YZ),"invalid name","obj.name",J);let X=$.indexed;if(X!=null)O(Q,"parameter cannot be indexed","obj.indexed",$.indexed),X=!!X;let Y=$.type,Z=Y.match(dG);if(Z){let z=parseInt(Z[2]||"-1"),K=n.from({type:Z[1],components:$.components});return new n($0,J||"",Y,"array",X,null,z,K)}if(Y==="tuple"||Y.startsWith("tuple(")||Y.startsWith("(")){let z=$.components!=null?$.components.map((G)=>n.from(G)):null;return new n($0,J||"",Y,"tuple",X,z,null,null)}return Y=l9($.type),new n($0,J||"",Y,Y,X,null,null,null)}static isParamType($){return $&&$[B0]===n9}}class E${type;inputs;constructor($,Q,J){O$($,$0,"Fragment"),J=Object.freeze(J.slice()),E(this,{type:Q,inputs:J})}static from($){if(typeof $==="string"){try{E$.from(JSON.parse($))}catch(Q){}return E$.from(B$($))}if($ instanceof b0)switch($.peekKeyword(JZ)){case"constructor":return t0.from($);case"error":return S0.from($);case"event":return p0.from($);case"fallback":case"receive":return z$.from($);case"function":return u0.from($);case"struct":return m$.from($)}else if(typeof $==="object"){switch($.type){case"constructor":return t0.from($);case"error":return S0.from($);case"event":return p0.from($);case"fallback":case"receive":return z$.from($);case"function":return u0.from($);case"struct":return m$.from($)}R(!1,`unsupported type: ${$.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}O(!1,"unsupported frgament object","obj",$)}static isConstructor($){return t0.isFragment($)}static isError($){return S0.isFragment($)}static isEvent($){return p0.isFragment($)}static isFunction($){return u0.isFragment($)}static isStruct($){return m$.isFragment($)}}class m8 extends E${name;constructor($,Q,J,X){super($,Q,X);O(typeof J==="string"&&J.match(YZ),"invalid identifier","name",J),X=Object.freeze(X.slice()),E(this,{name:J})}}function g8($,Q){return"("+Q.map((J)=>J.format($)).join($==="full"?", ":",")+")"}class S0 extends m8{constructor($,Q,J){super($,"error",Q,J);Object.defineProperty(this,B0,{value:o9})}get selector(){return d0(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((J)=>JSON.parse(J.format($)))});let Q=[];if($!=="sighash")Q.push("error");return Q.push(this.name+g8($,this.inputs)),Q.join(" ")}static from($){if(S0.isFragment($))return $;if(typeof $==="string")return S0.from(B$($));else if($ instanceof b0){let Q=wQ("error",$),J=K$($);return c$($),new S0($0,Q,J)}return new S0($0,$.name,$.inputs?$.inputs.map(n.from):[])}static isFragment($){return $&&$[B0]===o9}}class p0 extends m8{anonymous;constructor($,Q,J,X){super($,"event",Q,J);Object.defineProperty(this,B0,{value:s9}),E(this,{anonymous:X})}get topicHash(){return d0(this.format("sighash"))}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((J)=>JSON.parse(J.format($)))});let Q=[];if($!=="sighash")Q.push("event");if(Q.push(this.name+g8($,this.inputs)),$!=="sighash"&&this.anonymous)Q.push("anonymous");return Q.join(" ")}static getTopicHash($,Q){return Q=(Q||[]).map((X)=>n.from(X)),new p0($0,$,Q,!1).topicHash}static from($){if(p0.isFragment($))return $;if(typeof $==="string")try{return p0.from(B$($))}catch(Q){O(!1,"invalid event fragment","obj",$)}else if($ instanceof b0){let Q=wQ("event",$),J=K$($,!0),X=!!G$($,N0(["anonymous"])).has("anonymous");return c$($),new p0($0,Q,J,X)}return new p0($0,$.name,$.inputs?$.inputs.map((Q)=>n.from(Q,!0)):[],!!$.anonymous)}static isFragment($){return $&&$[B0]===s9}}class t0 extends E${payable;gas;constructor($,Q,J,X,Y){super($,Q,J);Object.defineProperty(this,B0,{value:r9}),E(this,{payable:X,gas:Y})}format($){if(R($!=null&&$!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),$==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((J)=>JSON.parse(J.format($)))});let Q=[`constructor${g8($,this.inputs)}`];if(this.payable)Q.push("payable");if(this.gas!=null)Q.push(`@${this.gas.toString()}`);return Q.join(" ")}static from($){if(t0.isFragment($))return $;if(typeof $==="string")try{return t0.from(B$($))}catch(Q){O(!1,"invalid constuctor fragment","obj",$)}else if($ instanceof b0){G$($,N0(["constructor"]));let Q=K$($),J=!!G$($,xG).has("payable"),X=KZ($);return c$($),new t0($0,"constructor",Q,J,X)}return new t0($0,"constructor",$.inputs?$.inputs.map(n.from):[],!!$.payable,$.gas!=null?$.gas:null)}static isFragment($){return $&&$[B0]===r9}}class z$ extends E${payable;constructor($,Q,J){super($,"fallback",Q);Object.defineProperty(this,B0,{value:a9}),E(this,{payable:J})}format($){let Q=this.inputs.length===0?"receive":"fallback";if($==="json"){let J=this.payable?"payable":"nonpayable";return JSON.stringify({type:Q,stateMutability:J})}return`${Q}()${this.payable?" payable":""}`}static from($){if(z$.isFragment($))return $;if(typeof $==="string")try{return z$.from(B$($))}catch(Q){O(!1,"invalid fallback fragment","obj",$)}else if($ instanceof b0){let Q=$.toString(),J=$.peekKeyword(N0(["fallback","receive"]));if(O(J,"type must be fallback or receive","obj",Q),$.popKeyword(N0(["fallback","receive"]))==="receive"){let z=K$($);return O(z.length===0,"receive cannot have arguments","obj.inputs",z),G$($,N0(["payable"])),c$($),new z$($0,[],!0)}let Y=K$($);if(Y.length)O(Y.length===1&&Y[0].type==="bytes","invalid fallback inputs","obj.inputs",Y.map((z)=>z.format("minimal")).join(", "));else Y=[n.from("bytes")];let Z=zZ($);if(O(Z==="nonpayable"||Z==="payable","fallback cannot be constants","obj.stateMutability",Z),G$($,N0(["returns"])).has("returns")){let z=K$($);O(z.length===1&&z[0].type==="bytes","invalid fallback outputs","obj.outputs",z.map((K)=>K.format("minimal")).join(", "))}return c$($),new z$($0,Y,Z==="payable")}if($.type==="receive")return new z$($0,[],!0);if($.type==="fallback"){let Q=[n.from("bytes")],J=$.stateMutability==="payable";return new z$($0,Q,J)}O(!1,"invalid fallback description","obj",$)}static isFragment($){return $&&$[B0]===a9}}class u0 extends m8{constant;outputs;stateMutability;payable;gas;constructor($,Q,J,X,Y,Z){super($,"function",Q,X);Object.defineProperty(this,B0,{value:t9}),Y=Object.freeze(Y.slice()),E(this,{constant:J==="view"||J==="pure",gas:Z,outputs:Y,payable:J==="payable",stateMutability:J})}get selector(){return d0(this.format("sighash")).substring(0,10)}format($){if($==null)$="sighash";if($==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map((J)=>JSON.parse(J.format($))),outputs:this.outputs.map((J)=>JSON.parse(J.format($)))});let Q=[];if($!=="sighash")Q.push("function");if(Q.push(this.name+g8($,this.inputs)),$!=="sighash"){if(this.stateMutability!=="nonpayable")Q.push(this.stateMutability);if(this.outputs&&this.outputs.length)Q.push("returns"),Q.push(g8($,this.outputs));if(this.gas!=null)Q.push(`@${this.gas.toString()}`)}return Q.join(" ")}static getSelector($,Q){return Q=(Q||[]).map((X)=>n.from(X)),new u0($0,$,"view",Q,[],null).selector}static from($){if(u0.isFragment($))return $;if(typeof $==="string")try{return u0.from(B$($))}catch(J){O(!1,"invalid function fragment","obj",$)}else if($ instanceof b0){let J=wQ("function",$),X=K$($),Y=zZ($),Z=[];if(G$($,N0(["returns"])).has("returns"))Z=K$($);let z=KZ($);return c$($),new u0($0,J,Y,X,Z,z)}let Q=$.stateMutability;if(Q==null){if(Q="payable",typeof $.constant==="boolean"){if(Q="view",!$.constant){if(Q="payable",typeof $.payable==="boolean"&&!$.payable)Q="nonpayable"}}else if(typeof $.payable==="boolean"&&!$.payable)Q="nonpayable"}return new u0($0,$.name,Q,$.inputs?$.inputs.map(n.from):[],$.outputs?$.outputs.map(n.from):[],$.gas!=null?$.gas:null)}static isFragment($){return $&&$[B0]===t9}}class m$ extends m8{constructor($,Q,J){super($,"struct",Q,J);Object.defineProperty(this,B0,{value:e9})}format(){throw new Error("@TODO")}static from($){if(typeof $==="string")try{return m$.from(B$($))}catch(Q){O(!1,"invalid struct fragment","obj",$)}else if($ instanceof b0){let Q=wQ("struct",$),J=K$($);return c$($),new m$($0,Q,J)}return new m$($0,$.name,$.inputs?$.inputs.map(n.from):[])}static isFragment($){return $&&$[B0]===e9}}var i0=new Map;i0.set(0,"GENERIC_PANIC");i0.set(1,"ASSERT_FALSE");i0.set(17,"OVERFLOW");i0.set(18,"DIVIDE_BY_ZERO");i0.set(33,"ENUM_RANGE_ERROR");i0.set(34,"BAD_STORAGE_DATA");i0.set(49,"STACK_UNDERFLOW");i0.set(50,"ARRAY_RANGE_ERROR");i0.set(65,"OUT_OF_MEMORY");i0.set(81,"UNINITIALIZED_FUNCTION_CALL");var pG=new RegExp(/^bytes([0-9]*)$/),uG=new RegExp(/^(u?int)([0-9]*)$/),XX=null,GZ=1024;function iG($,Q,J,X){let Y="missing revert data",Z=null,z=null,K=null;if(J){Y="execution reverted";let V=_(J);if(J=L(J),V.length===0)Y+=" (no data present; likely require(false) occurred",Z="require(false)";else if(V.length%32!==4)Y+=" (could not decode reason; invalid data length)";else if(L(V.slice(0,4))==="0x08c379a0")try{Z=X.decode(["string"],V.slice(4))[0],K={signature:"Error(string)",name:"Error",args:[Z]},Y+=`: ${JSON.stringify(Z)}`}catch(W){Y+=" (could not decode reason; invalid string data)"}else if(L(V.slice(0,4))==="0x4e487b71")try{let W=Number(X.decode(["uint256"],V.slice(4))[0]);K={signature:"Panic(uint256)",name:"Panic",args:[W]},Z=`Panic due to ${i0.get(W)||"UNKNOWN"}(${W})`,Y+=`: ${Z}`}catch(W){Y+=" (could not decode panic code)"}else Y+=" (unknown custom error)"}let G={to:Q.to?h(Q.to):null,data:Q.data||"0x"};if(Q.from)G.from=h(Q.from);return i(Y,"CALL_EXCEPTION",{action:$,data:J,reason:Z,transaction:G,invocation:z,revert:K})}class W${#$($){if($.isArray())return new kJ(this.#$($.arrayChildren),$.arrayLength,$.name);if($.isTuple())return new K8($.components.map((J)=>this.#$(J)),$.name);switch($.baseType){case"address":return new jJ($.name);case"bool":return new fJ($.name);case"string":return new gJ($.name);case"bytes":return new hJ($.name);case"":return new yJ($.name)}let Q=$.type.match(uG);if(Q){let J=parseInt(Q[2]||"256");return O(J!==0&&J<=256&&J%8===0,"invalid "+Q[1]+" bit length","param",$),new vJ(J/8,Q[1]==="int",$.name)}if(Q=$.type.match(pG),Q){let J=parseInt(Q[1]);return O(J!==0&&J<=32,"invalid bytes length","param",$),new bJ(J,$.name)}O(!1,"invalid type","type",$.type)}getDefaultValue($){let Q=$.map((X)=>this.#$(n.from(X)));return new K8(Q,"_").defaultValue()}encode($,Q){N8(Q.length,$.length,"types/values length mismatch");let J=$.map((Z)=>this.#$(n.from(Z))),X=new K8(J,"_"),Y=new Q8;return X.encode(Y,Q),Y.data}decode($,Q,J){let X=$.map((Z)=>this.#$(n.from(Z)));return new K8(X,"_").decode(new XQ(Q,J,GZ))}static _setDefaultMaxInflation($){O(typeof $==="number"&&Number.isInteger($),"invalid defaultMaxInflation factor","value",$),GZ=$}static defaultAbiCoder(){if(XX==null)XX=new W$;return XX}static getBuiltinCallException($,Q,J){return iG($,Q,J,W$.defaultAbiCoder())}}class YX{fragment;name;signature;topic;args;constructor($,Q,J){let X=$.name,Y=$.format();E(this,{fragment:$,name:X,signature:Y,topic:Q,args:J})}}class ZX{fragment;name;args;signature;selector;value;constructor($,Q,J,X){let Y=$.name,Z=$.format();E(this,{fragment:$,name:Y,args:J,signature:Z,selector:Q,value:X})}}class zX{fragment;name;args;signature;selector;constructor($,Q,J){let X=$.name,Y=$.format();E(this,{fragment:$,name:X,args:J,signature:Y,selector:Q})}}class jQ{hash;_isIndexed;static isIndexed($){return!!($&&$._isIndexed)}constructor($){E(this,{hash:$,_isIndexed:!0})}}var WZ={"0":"generic panic","1":"assert(false)","17":"arithmetic overflow","18":"division or modulo by zero","33":"enum overflow","34":"invalid encoded storage byte array accessed","49":"out-of-bounds array access; popping on an empty array","50":"out-of-bounds access of an array or bytesN","65":"out of memory","81":"uninitialized function"},VZ={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:($)=>{return`reverted with reason string ${JSON.stringify($)}`}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:($)=>{let Q="unknown panic code";if($>=0&&$<=255&&WZ[$.toString()])Q=WZ[$.toString()];return`reverted with panic code 0x${$.toString(16)} (${Q})`}}};class V${fragments;deploy;fallback;receive;#$;#Q;#J;#X;constructor($){let Q=[];if(typeof $==="string")Q=JSON.parse($);else Q=$;this.#J=new Map,this.#$=new Map,this.#Q=new Map;let J=[];for(let Z of Q)try{J.push(E$.from(Z))}catch(z){console.log(`[Warning] Invalid Fragment ${JSON.stringify(Z)}:`,z.message)}E(this,{fragments:Object.freeze(J)});let X=null,Y=!1;if(this.#X=this.getAbiCoder(),this.fragments.forEach((Z,z)=>{let K;switch(Z.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}E(this,{deploy:Z});return;case"fallback":if(Z.inputs.length===0)Y=!0;else O(!X||Z.payable!==X.payable,"conflicting fallback fragments",`fragments[${z}]`,Z),X=Z,Y=X.payable;return;case"function":K=this.#J;break;case"event":K=this.#Q;break;case"error":K=this.#$;break;default:return}let G=Z.format();if(K.has(G))return;K.set(G,Z)}),!this.deploy)E(this,{deploy:t0.from("constructor()")});E(this,{fallback:X,receive:Y})}format($){let Q=$?"minimal":"full";return this.fragments.map((X)=>X.format(Q))}formatJson(){let $=this.fragments.map((Q)=>Q.format("json"));return JSON.stringify($.map((Q)=>JSON.parse(Q)))}getAbiCoder(){return W$.defaultAbiCoder()}#Y($,Q,J){if(y($)){let Y=$.toLowerCase();for(let Z of this.#J.values())if(Y===Z.selector)return Z;return null}if($.indexOf("(")===-1){let Y=[];for(let[Z,z]of this.#J)if(Z.split("(")[0]===$)Y.push(z);if(Q){let Z=Q.length>0?Q[Q.length-1]:null,z=Q.length,K=!0;if(g.isTyped(Z)&&Z.type==="overrides")K=!1,z--;for(let G=Y.length-1;G>=0;G--){let V=Y[G].inputs.length;if(V!==z&&(!K||V!==z-1))Y.splice(G,1)}for(let G=Y.length-1;G>=0;G--){let V=Y[G].inputs;for(let W=0;W<Q.length;W++){if(!g.isTyped(Q[W]))continue;if(W>=V.length){if(Q[W].type==="overrides")continue;Y.splice(G,1);break}if(Q[W].type!==V[W].baseType){Y.splice(G,1);break}}}}if(Y.length===1&&Q&&Q.length!==Y[0].inputs.length){let Z=Q[Q.length-1];if(Z==null||Array.isArray(Z)||typeof Z!=="object")Y.splice(0,1)}if(Y.length===0)return null;if(Y.length>1&&J){let Z=Y.map((z)=>JSON.stringify(z.format())).join(", ");O(!1,`ambiguous function description (i.e. matches ${Z})`,"key",$)}return Y[0]}let X=this.#J.get(u0.from($).format());if(X)return X;return null}getFunctionName($){let Q=this.#Y($,null,!1);return O(Q,"no matching function","key",$),Q.name}hasFunction($){return!!this.#Y($,null,!1)}getFunction($,Q){return this.#Y($,Q||null,!0)}forEachFunction($){let Q=Array.from(this.#J.keys());Q.sort((J,X)=>J.localeCompare(X));for(let J=0;J<Q.length;J++){let X=Q[J];$(this.#J.get(X),J)}}#z($,Q,J){if(y($)){let Y=$.toLowerCase();for(let Z of this.#Q.values())if(Y===Z.topicHash)return Z;return null}if($.indexOf("(")===-1){let Y=[];for(let[Z,z]of this.#Q)if(Z.split("(")[0]===$)Y.push(z);if(Q){for(let Z=Y.length-1;Z>=0;Z--)if(Y[Z].inputs.length<Q.length)Y.splice(Z,1);for(let Z=Y.length-1;Z>=0;Z--){let z=Y[Z].inputs;for(let K=0;K<Q.length;K++){if(!g.isTyped(Q[K]))continue;if(Q[K].type!==z[K].baseType){Y.splice(Z,1);break}}}}if(Y.length===0)return null;if(Y.length>1&&J){let Z=Y.map((z)=>JSON.stringify(z.format())).join(", ");O(!1,`ambiguous event description (i.e. matches ${Z})`,"key",$)}return Y[0]}let X=this.#Q.get(p0.from($).format());if(X)return X;return null}getEventName($){let Q=this.#z($,null,!1);return O(Q,"no matching event","key",$),Q.name}hasEvent($){return!!this.#z($,null,!1)}getEvent($,Q){return this.#z($,Q||null,!0)}forEachEvent($){let Q=Array.from(this.#Q.keys());Q.sort((J,X)=>J.localeCompare(X));for(let J=0;J<Q.length;J++){let X=Q[J];$(this.#Q.get(X),J)}}getError($,Q){if(y($)){let X=$.toLowerCase();if(VZ[X])return S0.from(VZ[X].signature);for(let Y of this.#$.values())if(X===Y.selector)return Y;return null}if($.indexOf("(")===-1){let X=[];for(let[Y,Z]of this.#$)if(Y.split("(")[0]===$)X.push(Z);if(X.length===0){if($==="Error")return S0.from("error Error(string)");if($==="Panic")return S0.from("error Panic(uint256)");return null}else if(X.length>1){let Y=X.map((Z)=>JSON.stringify(Z.format())).join(", ");O(!1,`ambiguous error description (i.e. ${Y})`,"name",$)}return X[0]}if($=S0.from($).format(),$==="Error(string)")return S0.from("error Error(string)");if($==="Panic(uint256)")return S0.from("error Panic(uint256)");let J=this.#$.get($);if(J)return J;return null}forEachError($){let Q=Array.from(this.#$.keys());Q.sort((J,X)=>J.localeCompare(X));for(let J=0;J<Q.length;J++){let X=Q[J];$(this.#$.get(X),J)}}_decodeParams($,Q){return this.#X.decode($,Q)}_encodeParams($,Q){return this.#X.encode($,Q)}encodeDeploy($){return this._encodeParams(this.deploy.inputs,$||[])}decodeErrorResult($,Q){if(typeof $==="string"){let J=this.getError($);O(J,"unknown error","fragment",$),$=J}return O(o(Q,0,4)===$.selector,`data signature does not match error ${$.name}.`,"data",Q),this._decodeParams($.inputs,o(Q,4))}encodeErrorResult($,Q){if(typeof $==="string"){let J=this.getError($);O(J,"unknown error","fragment",$),$=J}return p([$.selector,this._encodeParams($.inputs,Q||[])])}decodeFunctionData($,Q){if(typeof $==="string"){let J=this.getFunction($);O(J,"unknown function","fragment",$),$=J}return O(o(Q,0,4)===$.selector,`data signature does not match function ${$.name}.`,"data",Q),this._decodeParams($.inputs,o(Q,4))}encodeFunctionData($,Q){if(typeof $==="string"){let J=this.getFunction($);O(J,"unknown function","fragment",$),$=J}return p([$.selector,this._encodeParams($.inputs,Q||[])])}decodeFunctionResult($,Q){if(typeof $==="string"){let Y=this.getFunction($);O(Y,"unknown function","fragment",$),$=Y}let J="invalid length for result data",X=X0(Q);if(X.length%32===0)try{return this.#X.decode($.outputs,X)}catch(Y){J="could not decode result data"}R(!1,J,"BAD_DATA",{value:L(X),info:{method:$.name,signature:$.format()}})}makeError($,Q){let J=_($,"data"),X=W$.getBuiltinCallException("call",Q,J),Y="execution reverted (unknown custom error)";if(X.message.startsWith("execution reverted (unknown custom error)")){let z=L(J.slice(0,4)),K=this.getError(z);if(K)try{let G=this.#X.decode(K.inputs,J.slice(4));X.revert={name:K.name,signature:K.format(),args:G},X.reason=X.revert.signature,X.message=`execution reverted: ${X.reason}`}catch(G){X.message="execution reverted (coult not decode custom error)"}}let Z=this.parseTransaction(Q);if(Z)X.invocation={method:Z.name,signature:Z.signature,args:Z.args};return X}encodeFunctionResult($,Q){if(typeof $==="string"){let J=this.getFunction($);O(J,"unknown function","fragment",$),$=J}return L(this.#X.encode($.outputs,Q||[]))}encodeFilterTopics($,Q){if(typeof $==="string"){let Y=this.getEvent($);O(Y,"unknown event","eventFragment",$),$=Y}R(Q.length<=$.inputs.length,`too many arguments for ${$.format()}`,"UNEXPECTED_ARGUMENT",{count:Q.length,expectedCount:$.inputs.length});let J=[];if(!$.anonymous)J.push($.topicHash);let X=(Y,Z)=>{if(Y.type==="string")return d0(Z);else if(Y.type==="bytes")return l(L(Z));if(Y.type==="bool"&&typeof Z==="boolean")Z=Z?"0x01":"0x00";else if(Y.type.match(/^u?int/))Z=T0(Z);else if(Y.type.match(/^bytes/))Z=lQ(Z,32);else if(Y.type==="address")this.#X.encode(["address"],[Z]);return P0(L(Z),32)};Q.forEach((Y,Z)=>{let z=$.inputs[Z];if(!z.indexed){O(Y==null,"cannot filter non-indexed parameters; must be null","contract."+z.name,Y);return}if(Y==null)J.push(null);else if(z.baseType==="array"||z.baseType==="tuple")O(!1,"filtering with tuples or arrays not supported","contract."+z.name,Y);else if(Array.isArray(Y))J.push(Y.map((K)=>X(z,K)));else J.push(X(z,Y))});while(J.length&&J[J.length-1]===null)J.pop();return J}encodeEventLog($,Q){if(typeof $==="string"){let Z=this.getEvent($);O(Z,"unknown event","eventFragment",$),$=Z}let J=[],X=[],Y=[];if(!$.anonymous)J.push($.topicHash);return O(Q.length===$.inputs.length,"event arguments/values mismatch","values",Q),$.inputs.forEach((Z,z)=>{let K=Q[z];if(Z.indexed)if(Z.type==="string")J.push(d0(K));else if(Z.type==="bytes")J.push(l(K));else if(Z.baseType==="tuple"||Z.baseType==="array")throw new Error("not implemented");else J.push(this.#X.encode([Z.type],[K]));else X.push(Z),Y.push(K)}),{data:this.#X.encode(X,Y),topics:J}}decodeEventLog($,Q,J){if(typeof $==="string"){let U=this.getEvent($);O(U,"unknown event","eventFragment",$),$=U}if(J!=null&&!$.anonymous){let U=$.topicHash;O(y(J[0],32)&&J[0].toLowerCase()===U,"fragment/topic mismatch","topics[0]",J[0]),J=J.slice(1)}let X=[],Y=[],Z=[];$.inputs.forEach((U,I)=>{if(U.indexed)if(U.type==="string"||U.type==="bytes"||U.baseType==="tuple"||U.baseType==="array")X.push(n.from({type:"bytes32",name:U.name})),Z.push(!0);else X.push(U),Z.push(!1);else Y.push(U),Z.push(!1)});let z=J!=null?this.#X.decode(X,p(J)):null,K=this.#X.decode(Y,Q,!0),G=[],V=[],W=0,M=0;return $.inputs.forEach((U,I)=>{let D=null;if(U.indexed)if(z==null)D=new jQ(null);else if(Z[I])D=new jQ(z[M++]);else try{D=z[M++]}catch(q){D=q}else try{D=K[W++]}catch(q){D=q}G.push(D),V.push(U.name||null)}),k0.fromItems(G,V)}parseTransaction($){let Q=_($.data,"tx.data"),J=T($.value!=null?$.value:0,"tx.value"),X=this.getFunction(L(Q.slice(0,4)));if(!X)return null;let Y=this.#X.decode(X.inputs,Q.slice(4));return new ZX(X,X.selector,Y,J)}parseCallResult($){throw new Error("@TODO")}parseLog($){let Q=this.getEvent($.topics[0]);if(!Q||Q.anonymous)return null;return new YX(Q,Q.topicHash,this.decodeEventLog(Q,$.data,$.topics))}parseError($){let Q=L($),J=this.getError(o(Q,0,4));if(!J)return null;let X=this.#X.decode(J.inputs,o(Q,4));return new zX(J,J.selector,X)}static from($){if($ instanceof V$)return $;if(typeof $==="string")return new V$(JSON.parse($));if(typeof $.formatJson==="function")return new V$($.formatJson());if(typeof $.format==="function")return new V$($.format("json"));return new V$($)}}var MZ=BigInt(0);function D8($){if($==null)return null;return $}function Z0($){if($==null)return null;return $.toString()}class c8{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor($,Q,J){E(this,{gasPrice:D8($),maxFeePerGas:D8(Q),maxPriorityFeePerGas:D8(J)})}toJSON(){let{gasPrice:$,maxFeePerGas:Q,maxPriorityFeePerGas:J}=this;return{_type:"FeeData",gasPrice:Z0($),maxFeePerGas:Z0(Q),maxPriorityFeePerGas:Z0(J)}}}function A$($){let Q={};if($.to)Q.to=$.to;if($.from)Q.from=$.from;if($.data)Q.data=L($.data);let J="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(let Y of J){if(!(Y in $)||$[Y]==null)continue;Q[Y]=T($[Y],`request.${Y}`)}let X="type,nonce".split(/,/);for(let Y of X){if(!(Y in $)||$[Y]==null)continue;Q[Y]=k($[Y],`request.${Y}`)}if($.accessList)Q.accessList=F0($.accessList);if("blockTag"in $)Q.blockTag=$.blockTag;if("enableCcipRead"in $)Q.enableCcipRead=!!$.enableCcipRead;if("customData"in $)Q.customData=$.customData;if("blobVersionedHashes"in $&&$.blobVersionedHashes)Q.blobVersionedHashes=$.blobVersionedHashes.slice();if("kzg"in $)Q.kzg=$.kzg;if("blobs"in $&&$.blobs)Q.blobs=$.blobs.map((Y)=>{if(x$(Y))return L(Y);return Object.assign({},Y)});return Q}class FQ{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#$;constructor($,Q){this.#$=$.transactions.map((J)=>{if(typeof J!=="string")return new P$(J,Q);return J}),E(this,{provider:Q,hash:D8($.hash),number:$.number,timestamp:$.timestamp,parentHash:$.parentHash,parentBeaconBlockRoot:$.parentBeaconBlockRoot,nonce:$.nonce,difficulty:$.difficulty,gasLimit:$.gasLimit,gasUsed:$.gasUsed,blobGasUsed:$.blobGasUsed,excessBlobGas:$.excessBlobGas,miner:$.miner,prevRandao:D8($.prevRandao),extraData:$.extraData,baseFeePerGas:D8($.baseFeePerGas),stateRoot:$.stateRoot,receiptsRoot:$.receiptsRoot})}get transactions(){return this.#$.map(($)=>{if(typeof $==="string")return $;return $.hash})}get prefetchedTransactions(){let $=this.#$.slice();if($.length===0)return[];return R(typeof $[0]==="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),$}toJSON(){let{baseFeePerGas:$,difficulty:Q,extraData:J,gasLimit:X,gasUsed:Y,hash:Z,miner:z,prevRandao:K,nonce:G,number:V,parentHash:W,parentBeaconBlockRoot:M,stateRoot:U,receiptsRoot:I,timestamp:D,transactions:q}=this;return{_type:"Block",baseFeePerGas:Z0($),difficulty:Z0(Q),extraData:J,gasLimit:Z0(X),gasUsed:Z0(Y),blobGasUsed:Z0(this.blobGasUsed),excessBlobGas:Z0(this.excessBlobGas),hash:Z,miner:z,prevRandao:K,nonce:G,number:V,parentHash:W,timestamp:D,parentBeaconBlockRoot:M,stateRoot:U,receiptsRoot:I,transactions:q}}[Symbol.iterator](){let $=0,Q=this.transactions;return{next:()=>{if($<this.length)return{value:Q[$++],done:!1};return{value:void 0,done:!0}}}}get length(){return this.#$.length}get date(){if(this.timestamp==null)return null;return new Date(this.timestamp*1000)}async getTransaction($){let Q=void 0;if(typeof $==="number")Q=this.#$[$];else{let J=$.toLowerCase();for(let X of this.#$)if(typeof X==="string"){if(X!==J)continue;Q=X;break}else{if(X.hash!==J)continue;Q=X;break}}if(Q==null)throw new Error("no such tx");if(typeof Q==="string")return await this.provider.getTransaction(Q);else return Q}getPrefetchedTransaction($){let Q=this.prefetchedTransactions;if(typeof $==="number")return Q[$];$=$.toLowerCase();for(let J of Q)if(J.hash===$)return J;O(!1,"no matching transaction","indexOrHash",$)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return nG(this)}}class e0{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor($,Q){this.provider=Q;let J=Object.freeze($.topics.slice());E(this,{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,removed:$.removed,address:$.address,data:$.data,topics:J,index:$.index,transactionIndex:$.transactionIndex})}toJSON(){let{address:$,blockHash:Q,blockNumber:J,data:X,index:Y,removed:Z,topics:z,transactionHash:K,transactionIndex:G}=this;return{_type:"log",address:$,blockHash:Q,blockNumber:J,data:X,index:Y,removed:Z,topics:z,transactionHash:K,transactionIndex:G}}async getBlock(){let $=await this.provider.getBlock(this.blockHash);return R(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransaction(){let $=await this.provider.getTransaction(this.transactionHash);return R(!!$,"failed to find transaction","UNKNOWN_ERROR",{}),$}async getTransactionReceipt(){let $=await this.provider.getTransactionReceipt(this.transactionHash);return R(!!$,"failed to find transaction receipt","UNKNOWN_ERROR",{}),$}removedEvent(){return oG(this)}}class U8{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#$;constructor($,Q){this.#$=Object.freeze($.logs.map((X)=>{return new e0(X,Q)}));let J=MZ;if($.effectiveGasPrice!=null)J=$.effectiveGasPrice;else if($.gasPrice!=null)J=$.gasPrice;E(this,{provider:Q,to:$.to,from:$.from,contractAddress:$.contractAddress,hash:$.hash,index:$.index,blockHash:$.blockHash,blockNumber:$.blockNumber,logsBloom:$.logsBloom,gasUsed:$.gasUsed,cumulativeGasUsed:$.cumulativeGasUsed,blobGasUsed:$.blobGasUsed,gasPrice:J,blobGasPrice:$.blobGasPrice,type:$.type,status:$.status,root:$.root})}get logs(){return this.#$}toJSON(){let{to:$,from:Q,contractAddress:J,hash:X,index:Y,blockHash:Z,blockNumber:z,logsBloom:K,logs:G,status:V,root:W}=this;return{_type:"TransactionReceipt",blockHash:Z,blockNumber:z,contractAddress:J,cumulativeGasUsed:Z0(this.cumulativeGasUsed),from:Q,gasPrice:Z0(this.gasPrice),blobGasUsed:Z0(this.blobGasUsed),blobGasPrice:Z0(this.blobGasPrice),gasUsed:Z0(this.gasUsed),hash:X,index:Y,logs:G,logsBloom:K,root:W,status:V,to:$}}get length(){return this.logs.length}[Symbol.iterator](){let $=0;return{next:()=>{if($<this.length)return{value:this.logs[$++],done:!1};return{value:void 0,done:!0}}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let $=await this.provider.getBlock(this.blockHash);if($==null)throw new Error("TODO");return $}async getTransaction(){let $=await this.provider.getTransaction(this.hash);if($==null)throw new Error("TODO");return $}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return DZ(this)}reorderedEvent($){return R(!$||$.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),OZ(this,$)}}class P${provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#$;constructor($,Q){this.provider=Q,this.blockNumber=$.blockNumber!=null?$.blockNumber:null,this.blockHash=$.blockHash!=null?$.blockHash:null,this.hash=$.hash,this.index=$.index,this.type=$.type,this.from=$.from,this.to=$.to||null,this.gasLimit=$.gasLimit,this.nonce=$.nonce,this.data=$.data,this.value=$.value,this.gasPrice=$.gasPrice,this.maxPriorityFeePerGas=$.maxPriorityFeePerGas!=null?$.maxPriorityFeePerGas:null,this.maxFeePerGas=$.maxFeePerGas!=null?$.maxFeePerGas:null,this.maxFeePerBlobGas=$.maxFeePerBlobGas!=null?$.maxFeePerBlobGas:null,this.chainId=$.chainId,this.signature=$.signature,this.accessList=$.accessList!=null?$.accessList:null,this.blobVersionedHashes=$.blobVersionedHashes!=null?$.blobVersionedHashes:null,this.#$=-1}toJSON(){let{blockNumber:$,blockHash:Q,index:J,hash:X,type:Y,to:Z,from:z,nonce:K,data:G,signature:V,accessList:W,blobVersionedHashes:M}=this;return{_type:"TransactionResponse",accessList:W,blockNumber:$,blockHash:Q,blobVersionedHashes:M,chainId:Z0(this.chainId),data:G,from:z,gasLimit:Z0(this.gasLimit),gasPrice:Z0(this.gasPrice),hash:X,maxFeePerGas:Z0(this.maxFeePerGas),maxPriorityFeePerGas:Z0(this.maxPriorityFeePerGas),maxFeePerBlobGas:Z0(this.maxFeePerBlobGas),nonce:K,signature:V,to:Z,index:J,type:Y,value:Z0(this.value)}}async getBlock(){let $=this.blockNumber;if($==null){let J=await this.getTransaction();if(J)$=J.blockNumber}if($==null)return null;let Q=this.provider.getBlock($);if(Q==null)throw new Error("TODO");return Q}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){let{tx:Q,blockNumber:J}=await J0({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});if(Q==null||Q.blockNumber==null)return 0;return J-Q.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait($,Q){let J=$==null?1:$,X=Q==null?0:Q,Y=this.#$,Z=-1,z=Y===-1?!0:!1,K=async()=>{if(z)return null;let{blockNumber:M,nonce:U}=await J0({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(U<this.nonce){Y=M;return}if(z)return null;let I=await this.getTransaction();if(I&&I.blockNumber!=null)return;if(Z===-1){if(Z=Y-3,Z<this.#$)Z=this.#$}while(Z<=M){if(z)return null;let D=await this.provider.getBlock(Z,!0);if(D==null)return;for(let q of D)if(q===this.hash)return;for(let q=0;q<D.length;q++){let H=await D.getTransaction(q);if(H.from===this.from&&H.nonce===this.nonce){if(z)return null;let C=await this.provider.getTransactionReceipt(H.hash);if(C==null)return;if(M-C.blockNumber+1<J)return;let N="replaced";if(H.data===this.data&&H.to===this.to&&H.value===this.value)N="repriced";else if(H.data==="0x"&&H.from===H.to&&H.value===MZ)N="cancelled";R(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:N==="replaced"||N==="cancelled",reason:N,replacement:H.replaceableTransaction(Y),hash:H.hash,receipt:C})}}Z++}return},G=(M)=>{if(M==null||M.status!==0)return M;R(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:M.to,from:M.from,data:""},receipt:M})},V=await this.provider.getTransactionReceipt(this.hash);if(J===0)return G(V);if(V){if(await V.confirmations()>=J)return G(V)}else if(await K(),J===0)return null;return await new Promise((M,U)=>{let I=[],D=()=>{I.forEach((H)=>H())};if(I.push(()=>{z=!0}),X>0){let H=setTimeout(()=>{D(),U(i("wait for transaction timeout","TIMEOUT"))},X);I.push(()=>{clearTimeout(H)})}let q=async(H)=>{if(await H.confirmations()>=J){D();try{M(G(H))}catch(C){U(C)}}};if(I.push(()=>{this.provider.off(this.hash,q)}),this.provider.on(this.hash,q),Y>=0){let H=async()=>{try{await K()}catch(C){if(r(C,"TRANSACTION_REPLACED")){D(),U(C);return}}if(!z)this.provider.once("block",H)};I.push(()=>{this.provider.off("block",H)}),this.provider.once("block",H)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return R(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),DZ(this)}reorderedEvent($){return R(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),R(!$||$.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),OZ(this,$)}replaceableTransaction($){O(Number.isInteger($)&&$>=0,"invalid startBlock","startBlock",$);let Q=new P$(this,this.provider);return Q.#$=$,Q}}function nG($){return{orphan:"drop-block",hash:$.hash,number:$.number}}function OZ($,Q){return{orphan:"reorder-transaction",tx:$,other:Q}}function DZ($){return{orphan:"drop-transaction",tx:$}}function oG($){return{orphan:"drop-log",log:{transactionHash:$.transactionHash,blockHash:$.blockHash,blockNumber:$.blockNumber,address:$.address,data:$.data,topics:Object.freeze($.topics.slice()),index:$.index}}}class d8 extends e0{interface;fragment;args;constructor($,Q,J){super($,$.provider);let X=Q.decodeEventLog(J,$.data,$.topics);E(this,{args:X,fragment:J,interface:Q})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class _Q extends e0{error;constructor($,Q){super($,$.provider);E(this,{error:Q})}}class UZ extends U8{#$;constructor($,Q,J){super(J,Q);this.#$=$}get logs(){return super.logs.map(($)=>{let Q=$.topics.length?this.#$.getEvent($.topics[0]):null;if(Q)try{return new d8($,this.#$,Q)}catch(J){return new _Q($,J)}return $})}}class p8 extends P${#$;constructor($,Q,J){super(J,Q);this.#$=$}async wait($,Q){let J=await super.wait($,Q);if(J==null)return null;return new UZ(this.#$,this.provider,J)}}class xQ extends e${log;constructor($,Q,J,X){super($,Q,J);E(this,{log:X})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class KX extends xQ{constructor($,Q,J,X,Y){super($,Q,J,new d8(Y,$.interface,X));let Z=$.interface.decodeEventLog(X,this.log.data,this.log.topics);E(this,{args:Z,fragment:X})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}var qZ=BigInt(0);function HZ($){return $&&typeof $.call==="function"}function RZ($){return $&&typeof $.estimateGas==="function"}function hQ($){return $&&typeof $.resolveName==="function"}function CZ($){return $&&typeof $.sendTransaction==="function"}function LZ($){if($!=null){if(hQ($))return $;if($.provider)return $.provider}return}class NZ{#$;fragment;constructor($,Q,J){if(E(this,{fragment:Q}),Q.inputs.length<J.length)throw new Error("too many arguments");let X=p$($.runner,"resolveName"),Y=hQ(X)?X:null;this.#$=async function(){let Z=await Promise.all(Q.inputs.map((z,K)=>{if(J[K]==null)return null;return z.walkAsync(J[K],(V,W)=>{if(V==="address"){if(Array.isArray(W))return Promise.all(W.map((M)=>W0(M,Y)));return W0(W,Y)}return W})}));return $.interface.encodeFilterTopics(Q,Z)}()}getTopicFilter(){return this.#$}}function p$($,Q){if($==null)return null;if(typeof $[Q]==="function")return $;if($.provider&&typeof $.provider[Q]==="function")return $.provider;return null}function d$($){if($==null)return null;return $.provider||null}async function SZ($,Q){let J=g.dereference($,"overrides");O(typeof J==="object","invalid overrides parameter","overrides",$);let X=A$(J);if(O(X.to==null||(Q||[]).indexOf("to")>=0,"cannot override to","overrides.to",X.to),O(X.data==null||(Q||[]).indexOf("data")>=0,"cannot override data","overrides.data",X.data),X.from)X.from=X.from;return X}async function sG($,Q,J){let X=p$($,"resolveName"),Y=hQ(X)?X:null;return await Promise.all(Q.map((Z,z)=>{return Z.walkAsync(J[z],(K,G)=>{if(G=g.dereference(G,K),K==="address")return W0(G,Y);return G})}))}function rG($){let Q=async function(z){let K=await SZ(z,["data"]);if(K.to=await $.getAddress(),K.from)K.from=await W0(K.from,LZ($.runner));let G=$.interface,V=T(K.value||qZ,"overrides.value")===qZ,W=(K.data||"0x")==="0x";if(G.fallback&&!G.fallback.payable&&G.receive&&!W&&!V)O(!1,"cannot send data to receive or send value to non-payable fallback","overrides",z);O(G.fallback||W,"cannot send data to receive-only contract","overrides.data",K.data);let M=G.receive||G.fallback&&G.fallback.payable;return O(M||V,"cannot send value to non-payable fallback","overrides.value",K.value),O(G.fallback||W,"cannot send data to receive-only contract","overrides.data",K.data),K},J=async function(z){let K=p$($.runner,"call");R(HZ(K),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let G=await Q(z);try{return await K.call(G)}catch(V){if(r$(V)&&V.data)throw $.interface.makeError(V.data,G);throw V}},X=async function(z){let K=$.runner;R(CZ(K),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let G=await K.sendTransaction(await Q(z)),V=d$($.runner);return new p8($.interface,V,G)},Y=async function(z){let K=p$($.runner,"estimateGas");return R(RZ(K),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await K.estimateGas(await Q(z))},Z=async(z)=>{return await X(z)};return E(Z,{_contract:$,estimateGas:Y,populateTransaction:Q,send:X,staticCall:J}),Z}function aG($,Q){let J=function(...V){let W=$.interface.getFunction(Q,V);return R(W,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q,args:V}}),W},X=async function(...V){let W=J(...V),M={};if(W.inputs.length+1===V.length){if(M=await SZ(V.pop()),M.from)M.from=await W0(M.from,LZ($.runner))}if(W.inputs.length!==V.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");let U=await sG($.runner,W.inputs,V);return Object.assign({},M,await J0({to:$.getAddress(),data:$.interface.encodeFunctionData(W,U)}))},Y=async function(...V){let W=await K(...V);if(W.length===1)return W[0];return W},Z=async function(...V){let W=$.runner;R(CZ(W),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let M=await W.sendTransaction(await X(...V)),U=d$($.runner);return new p8($.interface,U,M)},z=async function(...V){let W=p$($.runner,"estimateGas");return R(RZ(W),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await W.estimateGas(await X(...V))},K=async function(...V){let W=p$($.runner,"call");R(HZ(W),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let M=await X(...V),U="0x";try{U=await W.call(M)}catch(D){if(r$(D)&&D.data)throw $.interface.makeError(D.data,M);throw D}let I=J(...V);return $.interface.decodeFunctionResult(I,U)},G=async(...V)=>{if(J(...V).constant)return await Y(...V);return await Z(...V)};return E(G,{name:$.interface.getFunctionName(Q),_contract:$,_key:Q,getFragment:J,estimateGas:z,populateTransaction:X,send:Z,staticCall:Y,staticCallResult:K}),Object.defineProperty(G,"fragment",{configurable:!1,enumerable:!0,get:()=>{let V=$.interface.getFunction(Q);return R(V,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q}}),V}}),G}function tG($,Q){let J=function(...Y){let Z=$.interface.getEvent(Q,Y);return R(Z,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q,args:Y}}),Z},X=function(...Y){return new NZ($,J(...Y),Y)};return E(X,{name:$.interface.getEventName(Q),_contract:$,_key:Q,getFragment:J}),Object.defineProperty(X,"fragment",{configurable:!1,enumerable:!0,get:()=>{let Y=$.interface.getEvent(Q);return R(Y,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:Q}}),Y}}),X}var fQ=Symbol.for("_ethersInternal_contract"),TZ=new WeakMap;function eG($,Q){TZ.set($[fQ],Q)}function x0($){return TZ.get($[fQ])}function $5($){return $&&typeof $==="object"&&"getTopicFilter"in $&&typeof $.getTopicFilter==="function"&&$.fragment}async function VX($,Q){let J,X=null;if(Array.isArray(Q)){let Z=function(z){if(y(z,32))return z;let K=$.interface.getEvent(z);return O(K,"unknown fragment","name",z),K.topicHash};J=Q.map((z)=>{if(z==null)return null;if(Array.isArray(z))return z.map(Z);return Z(z)})}else if(Q==="*")J=[null];else if(typeof Q==="string")if(y(Q,32))J=[Q];else X=$.interface.getEvent(Q),O(X,"unknown fragment","event",Q),J=[X.topicHash];else if($5(Q))J=await Q.getTopicFilter();else if("fragment"in Q)X=Q.fragment,J=[X.topicHash];else O(!1,"unknown event name","event",Q);J=J.map((Z)=>{if(Z==null)return null;if(Array.isArray(Z)){let z=Array.from(new Set(Z.map((K)=>K.toLowerCase())).values());if(z.length===1)return z[0];return z.sort(),z}return Z.toLowerCase()});let Y=J.map((Z)=>{if(Z==null)return"null";if(Array.isArray(Z))return Z.join("|");return Z}).join("&");return{fragment:X,tag:Y,topics:J}}async function u8($,Q){let{subs:J}=x0($);return J.get((await VX($,Q)).tag)||null}async function IZ($,Q,J){let X=d$($.runner);R(X,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:Q});let{fragment:Y,tag:Z,topics:z}=await VX($,J),{addr:K,subs:G}=x0($),V=G.get(Z);if(!V){let M={address:K?K:$,topics:z},U=(H)=>{let C=Y;if(C==null)try{C=$.interface.getEvent(H.topics[0])}catch(N){}if(C){let N=C,F=Y?$.interface.decodeEventLog(Y,H.data,H.topics):[];WX($,J,F,(w)=>{return new KX($,w,J,N,H)})}else WX($,J,[],(N)=>{return new xQ($,N,J,H)})},I=[];V={tag:Z,listeners:[],start:()=>{if(I.length)return;I.push(X.on(M,U))},stop:async()=>{if(I.length==0)return;let H=I;I=[],await Promise.all(H),X.off(M,U)}},G.set(Z,V)}return V}var GX=Promise.resolve();async function Q5($,Q,J,X){await GX;let Y=await u8($,Q);if(!Y)return!1;let Z=Y.listeners.length;if(Y.listeners=Y.listeners.filter(({listener:z,once:K})=>{let G=Array.from(J);if(X)G.push(X(K?null:z));try{z.call($,...G)}catch(V){}return!K}),Y.listeners.length===0)Y.stop(),x0($).subs.delete(Y.tag);return Z>0}async function WX($,Q,J,X){try{await GX}catch(Z){}let Y=Q5($,Q,J,X);return GX=Y,await Y}var kQ=["then"];class q8{target;interface;runner;filters;[fQ];fallback;constructor($,Q,J,X){if(O(typeof $==="string"||HQ($),"invalid value for Contract target","target",$),J==null)J=null;let Y=V$.from(Q);E(this,{target:$,runner:J,interface:Y}),Object.defineProperty(this,fQ,{value:{}});let Z,z=null,K=null;if(X){let W=d$(J);K=new p8(this.interface,W,X)}let G=new Map;if(typeof $==="string")if(y($))z=$,Z=Promise.resolve($);else{let W=p$(J,"resolveName");if(!hQ(W))throw i("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});Z=W.resolveName($).then((M)=>{if(M==null)throw i("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:$});return x0(this).addr=M,M})}else Z=$.getAddress().then((W)=>{if(W==null)throw new Error("TODO");return x0(this).addr=W,W});eG(this,{addrPromise:Z,addr:z,deployTx:K,subs:G});let V=new Proxy({},{get:(W,M,U)=>{if(typeof M==="symbol"||kQ.indexOf(M)>=0)return Reflect.get(W,M,U);try{return this.getEvent(M)}catch(I){if(!r(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}return},has:(W,M)=>{if(kQ.indexOf(M)>=0)return Reflect.has(W,M);return Reflect.has(W,M)||this.interface.hasEvent(String(M))}});return E(this,{filters:V}),E(this,{fallback:Y.receive||Y.fallback?rG(this):null}),new Proxy(this,{get:(W,M,U)=>{if(typeof M==="symbol"||M in W||kQ.indexOf(M)>=0)return Reflect.get(W,M,U);try{return W.getFunction(M)}catch(I){if(!r(I,"INVALID_ARGUMENT")||I.argument!=="key")throw I}return},has:(W,M)=>{if(typeof M==="symbol"||M in W||kQ.indexOf(M)>=0)return Reflect.has(W,M);return W.interface.hasFunction(M)}})}connect($){return new q8(this.target,this.interface,$)}attach($){return new q8($,this.interface,this.runner)}async getAddress(){return await x0(this).addrPromise}async getDeployedCode(){let $=d$(this.runner);R($,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let Q=await $.getCode(await this.getAddress());if(Q==="0x")return null;return Q}async waitForDeployment(){let $=this.deploymentTransaction();if($)return await $.wait(),this;if(await this.getDeployedCode()!=null)return this;let J=d$(this.runner);return R(J!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((X,Y)=>{let Z=async()=>{try{if(await this.getDeployedCode()!=null)return X(this);J.once("block",Z)}catch(z){Y(z)}};Z()})}deploymentTransaction(){return x0(this).deployTx}getFunction($){if(typeof $!=="string")$=$.format();return aG(this,$)}getEvent($){if(typeof $!=="string")$=$.format();return tG(this,$)}async queryTransaction($){throw new Error("@TODO")}async queryFilter($,Q,J){if(Q==null)Q=0;if(J==null)J="latest";let{addr:X,addrPromise:Y}=x0(this),Z=X?X:await Y,{fragment:z,topics:K}=await VX(this,$),G={address:Z,topics:K,fromBlock:Q,toBlock:J},V=d$(this.runner);return R(V,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await V.getLogs(G)).map((W)=>{let M=z;if(M==null)try{M=this.interface.getEvent(W.topics[0])}catch(U){}if(M)try{return new d8(W,this.interface,M)}catch(U){return new _Q(W,U)}return new e0(W,V)})}async on($,Q){let J=await IZ(this,"on",$);return J.listeners.push({listener:Q,once:!1}),J.start(),this}async once($,Q){let J=await IZ(this,"once",$);return J.listeners.push({listener:Q,once:!0}),J.start(),this}async emit($,...Q){return await WX(this,$,Q,null)}async listenerCount($){if($){let X=await u8(this,$);if(!X)return 0;return X.listeners.length}let{subs:Q}=x0(this),J=0;for(let{listeners:X}of Q.values())J+=X.length;return J}async listeners($){if($){let X=await u8(this,$);if(!X)return[];return X.listeners.map(({listener:Y})=>Y)}let{subs:Q}=x0(this),J=[];for(let{listeners:X}of Q.values())J=J.concat(X.map(({listener:Y})=>Y));return J}async off($,Q){let J=await u8(this,$);if(!J)return this;if(Q){let X=J.listeners.map(({listener:Y})=>Y).indexOf(Q);if(X>=0)J.listeners.splice(X,1)}if(Q==null||J.listeners.length===0)J.stop(),x0(this).subs.delete(J.tag);return this}async removeAllListeners($){if($){let Q=await u8(this,$);if(!Q)return this;Q.stop(),x0(this).subs.delete(Q.tag)}else{let{subs:Q}=x0(this);for(let{tag:J,stop:X}of Q.values())X(),Q.delete(J)}return this}async addListener($,Q){return await this.on($,Q)}async removeListener($,Q){return await this.off($,Q)}static buildClass($){class Q extends q8{constructor(J,X=null){super(J,$,X)}}return Q}static from($,Q,J){if(J==null)J=null;return new this($,Q,J)}}function J5(){return q8}class M$ extends J5(){}function MX($){if($.match(/^ipfs:\/\/ipfs\//i))$=$.substring(12);else if($.match(/^ipfs:\/\//i))$=$.substring(7);else O(!1,"unsupported IPFS format","link",$);return`https://gateway.ipfs.io/ipfs/${$}`}class OX{name;constructor($){E(this,{name:$})}connect($){return this}supportsCoinType($){return!1}async encodeAddress($,Q){throw new Error("unsupported coin")}async decodeAddress($,Q){throw new Error("unsupported coin")}}var BZ=new RegExp("^(ipfs)://(.*)$","i"),EZ=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),BZ,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class w${provider;address;name;#$;#Q;constructor($,Q,J){E(this,{provider:$,address:Q,name:J}),this.#$=null,this.#Q=new M$(Q,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],$)}async supportsWildcard(){if(this.#$==null)this.#$=(async()=>{try{return await this.#Q.supportsInterface("0x9061b923")}catch($){if(r($,"CALL_EXCEPTION"))return!1;throw this.#$=null,$}})();return await this.#$}async#J($,Q){Q=(Q||[]).slice();let J=this.#Q.interface;Q.unshift(O8(this.name));let X=null;if(await this.supportsWildcard())X=J.getFunction($),R(X,"missing fragment","UNKNOWN_ERROR",{info:{funcName:$}}),Q=[sJ(this.name,255),J.encodeFunctionData(X,Q)],$="resolve(bytes,bytes)";Q.push({enableCcipRead:!0});try{let Y=await this.#Q[$](...Q);if(X)return J.decodeFunctionResult(X,Y)[0];return Y}catch(Y){if(!r(Y,"CALL_EXCEPTION"))throw Y}return null}async getAddress($){if($==null)$=60;if($===60)try{let Y=await this.#J("addr(bytes32)");if(Y==null||Y===Z$)return null;return Y}catch(Y){if(r(Y,"CALL_EXCEPTION"))return null;throw Y}if($>=0&&$<2147483648){let Y=$+2147483648,Z=await this.#J("addr(bytes32,uint)",[Y]);if(y(Z,20))return h(Z)}let Q=null;for(let Y of this.provider.plugins){if(!(Y instanceof OX))continue;if(Y.supportsCoinType($)){Q=Y;break}}if(Q==null)return null;let J=await this.#J("addr(bytes32,uint)",[$]);if(J==null||J==="0x")return null;let X=await Q.decodeAddress($,J);if(X!=null)return X;R(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${$})`,info:{coinType:$,data:J}})}async getText($){let Q=await this.#J("text(bytes32,string)",[$]);if(Q==null||Q==="0x")return null;return Q}async getContentHash(){let $=await this.#J("contenthash(bytes32)");if($==null||$==="0x")return null;let Q=$.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(Q){let X=Q[1]==="e3010170"?"ipfs":"ipns",Y=parseInt(Q[4],16);if(Q[5].length===Y*2)return`${X}://${sQ("0x"+Q[2])}`}let J=$.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(J&&J[1].length===64)return`bzz://${J[1]}`;R(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:$}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let $=[{type:"name",value:this.name}];try{let Q=await this.getText("avatar");if(Q==null)return $.push({type:"!avatar",value:""}),{url:null,linkage:$};$.push({type:"avatar",value:Q});for(let J=0;J<EZ.length;J++){let X=Q.match(EZ[J]);if(X==null)continue;let Y=X[1].toLowerCase();switch(Y){case"https":case"data":return $.push({type:"url",value:Q}),{linkage:$,url:Q};case"ipfs":{let Z=MX(Q);return $.push({type:"ipfs",value:Q}),$.push({type:"url",value:Z}),{linkage:$,url:Z}}case"erc721":case"erc1155":{let Z=Y==="erc721"?"tokenURI(uint256)":"uri(uint256)";$.push({type:Y,value:Q});let z=await this.getAddress();if(z==null)return $.push({type:"!owner",value:""}),{url:null,linkage:$};let K=(X[2]||"").split("/");if(K.length!==2)return $.push({type:`!${Y}caip`,value:X[2]||""}),{url:null,linkage:$};let G=K[1],V=new M$(K[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(Y==="erc721"){let D=await V.ownerOf(G);if(z!==D)return $.push({type:"!owner",value:D}),{url:null,linkage:$};$.push({type:"owner",value:D})}else if(Y==="erc1155"){let D=await V.balanceOf(z,G);if(!D)return $.push({type:"!balance",value:"0"}),{url:null,linkage:$};$.push({type:"balance",value:D.toString()})}let W=await V[Z](G);if(W==null||W==="0x")return $.push({type:"!metadata-url",value:""}),{url:null,linkage:$};if($.push({type:"metadata-url-base",value:W}),Y==="erc1155")W=W.replace("{id}",T0(G,32).substring(2)),$.push({type:"metadata-url-expanded",value:W});if(W.match(/^ipfs:/i))W=MX(W);$.push({type:"metadata-url",value:W});let M={},U=await new E0(W).send();U.assertOk();try{M=U.bodyJson}catch(D){try{$.push({type:"!metadata",value:U.bodyText})}catch(q){let H=U.body;if(H)$.push({type:"!metadata",value:L(H)});return{url:null,linkage:$}}return{url:null,linkage:$}}if(!M)return $.push({type:"!metadata",value:""}),{url:null,linkage:$};$.push({type:"metadata",value:JSON.stringify(M)});let I=M.image;if(typeof I!=="string")return $.push({type:"!imageUrl",value:""}),{url:null,linkage:$};if(I.match(/^(https:\/\/|data:)/i));else{if(I.match(BZ)==null)return $.push({type:"!imageUrl-ipfs",value:I}),{url:null,linkage:$};$.push({type:"imageUrl-ipfs",value:I}),I=MX(I)}return $.push({type:"url",value:I}),{linkage:$,url:I}}}}}catch(Q){}return{linkage:$,url:null}}static async getEnsAddress($){let Q=await $.getNetwork(),J=Q.getPlugin("org.ethers.plugins.network.Ens");return R(J,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:Q}}),J.address}static async#X($,Q){let J=await w$.getEnsAddress($);try{let Y=await new M$(J,["function resolver(bytes32) view returns (address)"],$).resolver(O8(Q),{enableCcipRead:!0});if(Y===Z$)return null;return Y}catch(X){throw X}return null}static async fromName($,Q){let J=Q;while(!0){if(J===""||J===".")return null;if(Q!=="eth"&&J==="eth")return null;let X=await w$.#X($,J);if(X!=null){let Y=new w$($,X,Q);if(J!==Q&&!await Y.supportsWildcard())return null;return Y}J=J.split(".").slice(1).join(".")}}}var AZ=BigInt(0);function m($,Q){return function(J){if(J==null)return Q;return $(J)}}function bQ($,Q){return(J)=>{if(Q&&J==null)return null;if(!Array.isArray(J))throw new Error("not an array");return J.map((X)=>$(X))}}function i8($,Q){return(J)=>{let X={};for(let Y in $){let Z=Y;if(Q&&Y in Q&&!(Z in J)){for(let z of Q[Y])if(z in J){Z=z;break}}try{let z=$[Y](J[Z]);if(z!==void 0)X[Y]=z}catch(z){let K=z instanceof Error?z.message:"not-an-error";R(!1,`invalid value for value.${Y} (${K})`,"BAD_DATA",{value:J})}}return X}}function X5($){switch($){case!0:case"true":return!0;case!1:case"false":return!1}O(!1,`invalid boolean; ${JSON.stringify($)}`,"value",$)}function I8($){return O(y($,!0),"invalid data","value",$),$}function I0($){return O(y($,32),"invalid hash","value",$),$}var Y5=i8({address:h,blockHash:I0,blockNumber:k,data:I8,index:k,removed:m(X5,!1),topics:bQ(I0),transactionHash:I0,transactionIndex:k},{index:["logIndex"]});function PZ($){return Y5($)}var Z5=i8({hash:m(I0),parentHash:I0,parentBeaconBlockRoot:m(I0,null),number:k,timestamp:k,nonce:m(I8),difficulty:T,gasLimit:T,gasUsed:T,stateRoot:m(I0,null),receiptsRoot:m(I0,null),blobGasUsed:m(T,null),excessBlobGas:m(T,null),miner:m(h),prevRandao:m(I0,null),extraData:I8,baseFeePerGas:m(T)},{prevRandao:["mixHash"]});function wZ($){let Q=Z5($);return Q.transactions=$.transactions.map((J)=>{if(typeof J==="string")return J;return DX(J)}),Q}var z5=i8({transactionIndex:k,blockNumber:k,transactionHash:I0,address:h,topics:bQ(I0),data:I8,index:k,blockHash:I0},{index:["logIndex"]});function K5($){return z5($)}var G5=i8({to:m(h,null),from:m(h,null),contractAddress:m(h,null),index:k,root:m(L),gasUsed:T,blobGasUsed:m(T,null),logsBloom:m(I8),blockHash:I0,hash:I0,logs:bQ(K5),blockNumber:k,cumulativeGasUsed:T,effectiveGasPrice:m(T),blobGasPrice:m(T,null),status:m(k),type:m(k,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function jZ($){return G5($)}function DX($){if($.to&&T($.to)===AZ)$.to="0x0000000000000000000000000000000000000000";let Q=i8({hash:I0,index:m(k,void 0),type:(J)=>{if(J==="0x"||J==null)return 0;return k(J)},accessList:m(F0,null),blobVersionedHashes:m(bQ(I0,!0),null),blockHash:m(I0,null),blockNumber:m(k,null),transactionIndex:m(k,null),from:h,gasPrice:m(T),maxPriorityFeePerGas:m(T),maxFeePerGas:m(T),maxFeePerBlobGas:m(T,null),gasLimit:T,to:m(h,null),value:T,nonce:k,data:I8,creates:m(h,null),chainId:m(T,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})($);if(Q.to==null&&Q.creates==null)Q.creates=PJ(Q);if(($.type===1||$.type===2)&&$.accessList==null)Q.accessList=[];if($.signature)Q.signature=e.from($.signature);else Q.signature=e.from($);if(Q.chainId==null){let J=Q.signature.legacyChainId;if(J!=null)Q.chainId=J}if(Q.blockHash&&T(Q.blockHash)===AZ)Q.blockHash=null;return Q}var W5="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class u${name;constructor($){E(this,{name:$})}clone(){return new u$(this.name)}}class H8 extends u${effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor($,Q){if($==null)$=0;super(`org.ethers.network.plugins.GasCost#${$||0}`);let J={effectiveBlock:$};function X(Y,Z){let z=(Q||{})[Y];if(z==null)z=Z;O(typeof z==="number",`invalud value for ${Y}`,"costs",Q),J[Y]=z}X("txBase",21000),X("txCreate",32000),X("txDataZero",4),X("txDataNonzero",16),X("txAccessListStorageKey",1900),X("txAccessListAddress",2400),E(this,J)}clone(){return new H8(this.effectiveBlock,this)}}class R8 extends u${address;targetNetwork;constructor($,Q){super("org.ethers.plugins.network.Ens");E(this,{address:$||W5,targetNetwork:Q==null?1:Q})}clone(){return new R8(this.address,this.targetNetwork)}}class UX extends u${#$;get feeDataFunc(){return this.#$}constructor($){super("org.ethers.plugins.network.FeeData");this.#$=$}async getFeeData($){return await this.#$($)}clone(){return new UX(this.#$)}}class yQ extends u${#$;#Q;get url(){return this.#$}get processFunc(){return this.#Q}constructor($,Q){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");this.#$=$,this.#Q=Q}clone(){return this}}var qX=new Map;class R0{#$;#Q;#J;constructor($,Q){this.#$=$,this.#Q=T(Q),this.#J=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#$}set name($){this.#$=$}get chainId(){return this.#Q}set chainId($){this.#Q=T($,"chainId")}matches($){if($==null)return!1;if(typeof $==="string"){try{return this.chainId===T($)}catch(Q){}return this.name===$}if(typeof $==="number"||typeof $==="bigint"){try{return this.chainId===T($)}catch(Q){}return!1}if(typeof $==="object"){if($.chainId!=null){try{return this.chainId===T($.chainId)}catch(Q){}return!1}if($.name!=null)return this.name===$.name;return!1}return!1}get plugins(){return Array.from(this.#J.values())}attachPlugin($){if(this.#J.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#J.set($.name,$.clone()),this}getPlugin($){return this.#J.get($)||null}getPlugins($){return this.plugins.filter((Q)=>Q.name.split("#")[0]===$)}clone(){let $=new R0(this.name,this.chainId);return this.plugins.forEach((Q)=>{$.attachPlugin(Q.clone())}),$}computeIntrinsicGas($){let Q=this.getPlugin("org.ethers.plugins.network.GasCost")||new H8,J=Q.txBase;if($.to==null)J+=Q.txCreate;if($.data)for(let X=2;X<$.data.length;X+=2)if($.data.substring(X,X+2)==="00")J+=Q.txDataZero;else J+=Q.txDataNonzero;if($.accessList){let X=F0($.accessList);for(let Y in X)J+=Q.txAccessListAddress+Q.txAccessListStorageKey*X[Y].storageKeys.length}return J}static from($){if(V5(),$==null)return R0.from("mainnet");if(typeof $==="number")$=BigInt($);if(typeof $==="string"||typeof $==="bigint"){let Q=qX.get($);if(Q)return Q();if(typeof $==="bigint")return new R0("unknown",$);O(!1,"unknown network","network",$)}if(typeof $.clone==="function")return $.clone();if(typeof $==="object"){O(typeof $.name==="string"&&typeof $.chainId==="number","invalid network object name or chainId","network",$);let Q=new R0($.name,$.chainId);if($.ensAddress||$.ensNetwork!=null)Q.attachPlugin(new R8($.ensAddress,$.ensNetwork));return Q}O(!1,"invalid network","network",$)}static register($,Q){if(typeof $==="number")$=BigInt($);let J=qX.get($);if(J)O(!1,`conflicting network for ${JSON.stringify(J.name)}`,"nameOrChainId",$);qX.set($,Q)}}function FZ($,Q){let J=String($);if(!J.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${$}`);let X=J.split(".");if(X.length===1)X.push("");if(X.length!==2)throw new Error(`invalid gwei value: ${$}`);while(X[1].length<Q)X[1]+="0";if(X[1].length>9){let Y=BigInt(X[1].substring(0,9));if(!X[1].substring(9).match(/^0+$/))Y++;X[1]=Y.toString()}return BigInt(X[0]+X[1])}function _Z($){return new yQ($,async(Q,J,X)=>{X.setHeader("User-Agent","ethers");let Y;try{let[Z,z]=await Promise.all([X.send(),Q()]);Y=Z;let K=Y.bodyJson.standard;return{gasPrice:z.gasPrice,maxFeePerGas:FZ(K.maxFee,9),maxPriorityFeePerGas:FZ(K.maxPriorityFee,9)}}catch(Z){R(!1,`error encountered with polygon gas station (${JSON.stringify(X.url)})`,"SERVER_ERROR",{request:X,response:Y,error:Z})}})}var xZ=!1;function V5(){if(xZ)return;xZ=!0;function $(Q,J,X){let Y=function(){let Z=new R0(Q,J);if(X.ensNetwork!=null)Z.attachPlugin(new R8(null,X.ensNetwork));return Z.attachPlugin(new H8),(X.plugins||[]).forEach((z)=>{Z.attachPlugin(z)}),Z};if(R0.register(Q,Y),R0.register(J,Y),X.altNames)X.altNames.forEach((Z)=>{R0.register(Z,Y)})}$("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),$("ropsten",3,{ensNetwork:3}),$("rinkeby",4,{ensNetwork:4}),$("goerli",5,{ensNetwork:5}),$("kovan",42,{ensNetwork:42}),$("sepolia",11155111,{ensNetwork:11155111}),$("holesky",17000,{ensNetwork:17000}),$("classic",61,{}),$("classicKotti",6,{}),$("arbitrum",42161,{ensNetwork:1}),$("arbitrum-goerli",421613,{}),$("arbitrum-sepolia",421614,{}),$("base",8453,{ensNetwork:1}),$("base-goerli",84531,{}),$("base-sepolia",84532,{}),$("bnb",56,{ensNetwork:1}),$("bnbt",97,{}),$("linea",59144,{ensNetwork:1}),$("linea-goerli",59140,{}),$("linea-sepolia",59141,{}),$("matic",137,{ensNetwork:1,plugins:[_Z("https://gasstation.polygon.technology/v2")]}),$("matic-amoy",80002,{}),$("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[_Z("https://gasstation-testnet.polygon.technology/v2")]}),$("optimism",10,{ensNetwork:1,plugins:[]}),$("optimism-goerli",420,{}),$("optimism-sepolia",11155420,{}),$("xdai",100,{ensNetwork:1})}function IX($){return JSON.parse(JSON.stringify($))}class HX{#$;#Q;#J;#X;constructor($){this.#$=$,this.#Q=null,this.#J=4000,this.#X=-2}get pollingInterval(){return this.#J}set pollingInterval($){this.#J=$}async#Y(){try{let $=await this.#$.getBlockNumber();if(this.#X===-2){this.#X=$;return}if($!==this.#X){for(let Q=this.#X+1;Q<=$;Q++){if(this.#Q==null)return;await this.#$.emit("block",Q)}this.#X=$}}catch($){}if(this.#Q==null)return;this.#Q=this.#$._setTimeout(this.#Y.bind(this),this.#J)}start(){if(this.#Q)return;this.#Q=this.#$._setTimeout(this.#Y.bind(this),this.#J),this.#Y()}stop(){if(!this.#Q)return;this.#$._clearTimeout(this.#Q),this.#Q=null}pause($){if(this.stop(),$)this.#X=-2}resume(){this.start()}}class vQ{#$;#Q;#J;constructor($){this.#$=$,this.#J=!1,this.#Q=(Q)=>{this._poll(Q,this.#$)}}async _poll($,Q){throw new Error("sub-classes must override this")}start(){if(this.#J)return;this.#J=!0,this.#Q(-2),this.#$.on("block",this.#Q)}stop(){if(!this.#J)return;this.#J=!1,this.#$.off("block",this.#Q)}pause($){this.stop()}resume(){this.start()}}class RX extends vQ{#$;#Q;constructor($,Q){super($);this.#$=Q,this.#Q=-2}pause($){if($)this.#Q=-2;super.pause($)}async _poll($,Q){let J=await Q.getBlock(this.#$);if(J==null)return;if(this.#Q===-2)this.#Q=J.number;else if(J.number>this.#Q)Q.emit(this.#$,J.number),this.#Q=J.number}}class CX extends vQ{#$;constructor($,Q){super($);this.#$=IX(Q)}async _poll($,Q){throw new Error("@TODO")}}class LX extends vQ{#$;constructor($,Q){super($);this.#$=Q}async _poll($,Q){let J=await Q.getTransactionReceipt(this.#$);if(J)Q.emit(this.#$,J)}}class i${#$;#Q;#J;#X;#Y;constructor($,Q){this.#$=$,this.#Q=IX(Q),this.#J=this.#z.bind(this),this.#X=!1,this.#Y=-2}async#z($){if(this.#Y===-2)return;let Q=IX(this.#Q);Q.fromBlock=this.#Y+1,Q.toBlock=$;let J=await this.#$.getLogs(Q);if(J.length===0){if(this.#Y<$-60)this.#Y=$-60;return}for(let X of J)this.#$.emit(this.#Q,X),this.#Y=X.blockNumber}start(){if(this.#X)return;if(this.#X=!0,this.#Y===-2)this.#$.getBlockNumber().then(($)=>{this.#Y=$});this.#$.on("block",this.#J)}stop(){if(!this.#X)return;this.#X=!1,this.#$.off("block",this.#J)}pause($){if(this.stop(),$)this.#Y=-2}resume(){this.start()}}var M5=BigInt(2),O5=10;function gQ($){return $&&typeof $.then==="function"}function mQ($,Q){return $+":"+JSON.stringify(Q,(J,X)=>{if(X==null)return"null";if(typeof X==="bigint")return`bigint:${X.toString()}`;if(typeof X==="string")return X.toLowerCase();if(typeof X==="object"&&!Array.isArray(X)){let Y=Object.keys(X);return Y.sort(),Y.reduce((Z,z)=>{return Z[z]=X[z],Z},{})}return X})}class l8{name;constructor($){E(this,{name:$})}start(){}stop(){}pause($){}resume(){}}function D5($){return JSON.parse(JSON.stringify($))}function TX($){return $=Array.from(new Set($).values()),$.sort(),$}async function NX($,Q){if($==null)throw new Error("invalid event");if(Array.isArray($))$={topics:$};if(typeof $==="string")switch($){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:$,tag:$}}if(y($,32)){let J=$.toLowerCase();return{type:"transaction",tag:mQ("tx",{hash:J}),hash:J}}if($.orphan){let J=$;return{type:"orphan",tag:mQ("orphan",J),filter:D5(J)}}if($.address||$.topics){let J=$,X={topics:(J.topics||[]).map((Y)=>{if(Y==null)return null;if(Array.isArray(Y))return TX(Y.map((Z)=>Z.toLowerCase()));return Y.toLowerCase()})};if(J.address){let Y=[],Z=[],z=(K)=>{if(y(K))Y.push(K);else Z.push((async()=>{Y.push(await W0(K,Q))})())};if(Array.isArray(J.address))J.address.forEach(z);else z(J.address);if(Z.length)await Promise.all(Z);X.address=TX(Y.map((K)=>K.toLowerCase()))}return{filter:X,tag:mQ("event",X),type:"event"}}O(!1,"unknown ProviderEvent","event",$)}function SX(){return new Date().getTime()}var U5={cacheTimeout:250,pollingInterval:4000};class cQ{#$;#Q;#J;#X;#Y;#z;#Z;#K;#D;#W;#U;#q;constructor($,Q){if(this.#q=Object.assign({},U5,Q||{}),$==="any")this.#z=!0,this.#Y=null;else if($){let J=R0.from($);this.#z=!1,this.#Y=Promise.resolve(J),setTimeout(()=>{this.emit("network",J,null)},0)}else this.#z=!1,this.#Y=null;this.#K=-1,this.#Z=new Map,this.#$=new Map,this.#Q=new Map,this.#J=null,this.#X=!1,this.#D=1,this.#W=new Map,this.#U=!1}get pollingInterval(){return this.#q.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#Q.values())}attachPlugin($){if(this.#Q.get($.name))throw new Error(`cannot replace existing plugin: ${$.name} `);return this.#Q.set($.name,$.connect(this)),this}getPlugin($){return this.#Q.get($)||null}get disableCcipRead(){return this.#U}set disableCcipRead($){this.#U=!!$}async#G($){let Q=this.#q.cacheTimeout;if(Q<0)return await this._perform($);let J=mQ($.method,$),X=this.#Z.get(J);if(!X)X=this._perform($),this.#Z.set(J,X),setTimeout(()=>{if(this.#Z.get(J)===X)this.#Z.delete(J)},Q);return await X}async ccipReadFetch($,Q,J){if(this.disableCcipRead||J.length===0||$.to==null)return null;let X=$.to.toLowerCase(),Y=Q.toLowerCase(),Z=[];for(let z=0;z<J.length;z++){let K=J[z],G=K.replace("{sender}",X).replace("{data}",Y),V=new E0(G);if(K.indexOf("{data}")===-1)V.body={data:Y,sender:X};this.emit("debug",{action:"sendCcipReadFetchRequest",request:V,index:z,urls:J});let W="unknown error",M;try{M=await V.send()}catch(U){Z.push(U.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:V,result:{error:U}});continue}try{let U=M.bodyJson;if(U.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:V,result:U}),U.data;if(U.message)W=U.message;this.emit("debug",{action:"receiveCcipReadFetchError",request:V,result:U})}catch(U){}R(M.statusCode<400||M.statusCode>=500,`response not found during CCIP fetch: ${W}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:$,info:{url:K,errorMessage:W}}),Z.push(W)}R(!1,`error encountered during CCIP fetch: ${Z.map((z)=>JSON.stringify(z)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:$,info:{urls:J,errorMessages:Z}})}_wrapBlock($,Q){return new FQ(wZ($),this)}_wrapLog($,Q){return new e0(PZ($),this)}_wrapTransactionReceipt($,Q){return new U8(jZ($),this)}_wrapTransactionResponse($,Q){return new P$(DX($),this)}_detectNetwork(){R(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform($){R(!1,`unsupported method: ${$.method}`,"UNSUPPORTED_OPERATION",{operation:$.method,info:$})}async getBlockNumber(){let $=k(await this.#G({method:"getBlockNumber"}),"%response");if(this.#K>=0)this.#K=$;return $}_getAddress($){return W0($,this)}_getBlockTag($){if($==null)return"latest";switch($){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return $}if(y($)){if(y($,32))return $;return r0($)}if(typeof $==="bigint")$=k($,"blockTag");if(typeof $==="number"){if($>=0)return r0($);if(this.#K>=0)return r0(this.#K+$);return this.getBlockNumber().then((Q)=>r0(Q+$))}O(!1,"invalid blockTag","blockTag",$)}_getFilter($){let Q=($.topics||[]).map((K)=>{if(K==null)return null;if(Array.isArray(K))return TX(K.map((G)=>G.toLowerCase()));return K.toLowerCase()}),J="blockHash"in $?$.blockHash:void 0,X=(K,G,V)=>{let W=void 0;switch(K.length){case 0:break;case 1:W=K[0];break;default:K.sort(),W=K}if(J){if(G!=null||V!=null)throw new Error("invalid filter")}let M={};if(W)M.address=W;if(Q.length)M.topics=Q;if(G)M.fromBlock=G;if(V)M.toBlock=V;if(J)M.blockHash=J;return M},Y=[];if($.address)if(Array.isArray($.address))for(let K of $.address)Y.push(this._getAddress(K));else Y.push(this._getAddress($.address));let Z=void 0;if("fromBlock"in $)Z=this._getBlockTag($.fromBlock);let z=void 0;if("toBlock"in $)z=this._getBlockTag($.toBlock);if(Y.filter((K)=>typeof K!=="string").length||Z!=null&&typeof Z!=="string"||z!=null&&typeof z!=="string")return Promise.all([Promise.all(Y),Z,z]).then((K)=>{return X(K[0],K[1],K[2])});return X(Y,Z,z)}_getTransactionRequest($){let Q=A$($),J=[];if(["to","from"].forEach((X)=>{if(Q[X]==null)return;let Y=W0(Q[X],this);if(gQ(Y))J.push(async function(){Q[X]=await Y}());else Q[X]=Y}),Q.blockTag!=null){let X=this._getBlockTag(Q.blockTag);if(gQ(X))J.push(async function(){Q.blockTag=await X}());else Q.blockTag=X}if(J.length)return async function(){return await Promise.all(J),Q}();return Q}async getNetwork(){if(this.#Y==null){let X=(async()=>{try{let Y=await this._detectNetwork();return this.emit("network",Y,null),Y}catch(Y){if(this.#Y===X)this.#Y=null;throw Y}})();return this.#Y=X,(await X).clone()}let $=this.#Y,[Q,J]=await Promise.all([$,this._detectNetwork()]);if(Q.chainId!==J.chainId)if(this.#z){if(this.emit("network",J,Q),this.#Y===$)this.#Y=Promise.resolve(J)}else R(!1,`network changed: ${Q.chainId} => ${J.chainId} `,"NETWORK_ERROR",{event:"changed"});return Q.clone()}async getFeeData(){let $=await this.getNetwork(),Q=async()=>{let{_block:X,gasPrice:Y,priorityFee:Z}=await J0({_block:this.#I("latest",!1),gasPrice:(async()=>{try{let V=await this.#G({method:"getGasPrice"});return T(V,"%response")}catch(V){}return null})(),priorityFee:(async()=>{try{let V=await this.#G({method:"getPriorityFee"});return T(V,"%response")}catch(V){}return null})()}),z=null,K=null,G=this._wrapBlock(X,$);if(G&&G.baseFeePerGas)K=Z!=null?Z:BigInt("1000000000"),z=G.baseFeePerGas*M5+K;return new c8(Y,z,K)},J=$.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(J){let X=new E0(J.url),Y=await J.processFunc(Q,this,X);return new c8(Y.gasPrice,Y.maxFeePerGas,Y.maxPriorityFeePerGas)}return await Q()}async estimateGas($){let Q=this._getTransactionRequest($);if(gQ(Q))Q=await Q;return T(await this.#G({method:"estimateGas",transaction:Q}),"%response")}async#V($,Q,J){R(J<O5,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},$,{blockTag:Q,enableCcipRead:!0})});let X=A$($);try{return L(await this._perform({method:"call",transaction:X,blockTag:Q}))}catch(Y){if(!this.disableCcipRead&&r$(Y)&&Y.data&&J>=0&&Q==="latest"&&X.to!=null&&o(Y.data,0,4)==="0x556f1830"){let Z=Y.data,z=await W0(X.to,this),K;try{K=C5(o(Y.data,4))}catch(W){R(!1,W.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:X,info:{data:Z}})}R(K.sender.toLowerCase()===z.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:Z,reason:"OffchainLookup",transaction:X,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:K.errorArgs}});let G=await this.ccipReadFetch(X,K.calldata,K.urls);R(G!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:X,info:{data:Y.data,errorArgs:K.errorArgs}});let V={to:z,data:p([K.selector,R5([G,K.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:V});try{let W=await this.#V(V,Q,J+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},V),result:W}),W}catch(W){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},V),error:W}),W}}throw Y}}async#M($){let{value:Q}=await J0({network:this.getNetwork(),value:$});return Q}async call($){let{tx:Q,blockTag:J}=await J0({tx:this._getTransactionRequest($),blockTag:this._getBlockTag($.blockTag)});return await this.#M(this.#V(Q,J,$.enableCcipRead?0:-1))}async#O($,Q,J){let X=this._getAddress(Q),Y=this._getBlockTag(J);if(typeof X!=="string"||typeof Y!=="string")[X,Y]=await Promise.all([X,Y]);return await this.#M(this.#G(Object.assign($,{address:X,blockTag:Y})))}async getBalance($,Q){return T(await this.#O({method:"getBalance"},$,Q),"%response")}async getTransactionCount($,Q){return k(await this.#O({method:"getTransactionCount"},$,Q),"%response")}async getCode($,Q){return L(await this.#O({method:"getCode"},$,Q))}async getStorage($,Q,J){let X=T(Q,"position");return L(await this.#O({method:"getStorage",position:X},$,J))}async broadcastTransaction($){let{blockNumber:Q,hash:J,network:X}=await J0({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:$}),network:this.getNetwork()}),Y=_0.from($);if(Y.hash!==J)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(Y,X).replaceableTransaction(Q)}async#I($,Q){if(y($,32))return await this.#G({method:"getBlock",blockHash:$,includeTransactions:Q});let J=this._getBlockTag($);if(typeof J!=="string")J=await J;return await this.#G({method:"getBlock",blockTag:J,includeTransactions:Q})}async getBlock($,Q){let{network:J,params:X}=await J0({network:this.getNetwork(),params:this.#I($,!!Q)});if(X==null)return null;return this._wrapBlock(X,J)}async getTransaction($){let{network:Q,params:J}=await J0({network:this.getNetwork(),params:this.#G({method:"getTransaction",hash:$})});if(J==null)return null;return this._wrapTransactionResponse(J,Q)}async getTransactionReceipt($){let{network:Q,params:J}=await J0({network:this.getNetwork(),params:this.#G({method:"getTransactionReceipt",hash:$})});if(J==null)return null;if(J.gasPrice==null&&J.effectiveGasPrice==null){let X=await this.#G({method:"getTransaction",hash:$});if(X==null)throw new Error("report this; could not find tx or effectiveGasPrice");J.effectiveGasPrice=X.gasPrice}return this._wrapTransactionReceipt(J,Q)}async getTransactionResult($){let{result:Q}=await J0({network:this.getNetwork(),result:this.#G({method:"getTransactionResult",hash:$})});if(Q==null)return null;return L(Q)}async getLogs($){let Q=this._getFilter($);if(gQ(Q))Q=await Q;let{network:J,params:X}=await J0({network:this.getNetwork(),params:this.#G({method:"getLogs",filter:Q})});return X.map((Y)=>this._wrapLog(Y,J))}_getProvider($){R(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver($){return await w$.fromName(this,$)}async getAvatar($){let Q=await this.getResolver($);if(Q)return await Q.getAvatar();return null}async resolveName($){let Q=await this.getResolver($);if(Q)return await Q.getAddress();return null}async lookupAddress($){$=h($);let Q=O8($.substring(2).toLowerCase()+".addr.reverse");try{let J=await w$.getEnsAddress(this),Y=await new M$(J,["function resolver(bytes32) view returns (address)"],this).resolver(Q);if(Y==null||Y===Z$)return null;let z=await new M$(Y,["function name(bytes32) view returns (string)"],this).name(Q);if(await this.resolveName(z)!==$)return null;return z}catch(J){if(r(J,"BAD_DATA")&&J.value==="0x")return null;if(r(J,"CALL_EXCEPTION"))return null;throw J}return null}async waitForTransaction($,Q,J){let X=Q!=null?Q:1;if(X===0)return this.getTransactionReceipt($);return new Promise(async(Y,Z)=>{let z=null,K=async(G)=>{try{let V=await this.getTransactionReceipt($);if(V!=null){if(G-V.blockNumber+1>=X){if(Y(V),z)clearTimeout(z),z=null;return}}}catch(V){console.log("EEE",V)}this.once("block",K)};if(J!=null)z=setTimeout(()=>{if(z==null)return;z=null,this.off("block",K),Z(i("timeout","TIMEOUT",{reason:"timeout"}))},J);K(await this.getBlockNumber())})}async waitForBlock($){R(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout($){let Q=this.#W.get($);if(!Q)return;if(Q.timer)clearTimeout(Q.timer);this.#W.delete($)}_setTimeout($,Q){if(Q==null)Q=0;let J=this.#D++,X=()=>{this.#W.delete(J),$()};if(this.paused)this.#W.set(J,{timer:null,func:X,time:Q});else{let Y=setTimeout(X,Q);this.#W.set(J,{timer:Y,func:X,time:SX()})}return J}_forEachSubscriber($){for(let Q of this.#$.values())$(Q.subscriber)}_getSubscriber($){switch($.type){case"debug":case"error":case"network":return new l8($.type);case"block":{let Q=new HX(this);return Q.pollingInterval=this.pollingInterval,Q}case"safe":case"finalized":return new RX(this,$.type);case"event":return new i$(this,$.filter);case"transaction":return new LX(this,$.hash);case"orphan":return new CX(this,$.filter)}throw new Error(`unsupported event: ${$.type}`)}_recoverSubscriber($,Q){for(let J of this.#$.values())if(J.subscriber===$){if(J.started)J.subscriber.stop();if(J.subscriber=Q,J.started)Q.start();if(this.#J!=null)Q.pause(this.#J);break}}async#H($,Q){let J=await NX($,this);if(J.type==="event"&&Q&&Q.length>0&&Q[0].removed===!0)J=await NX({orphan:"drop-log",log:Q[0]},this);return this.#$.get(J.tag)||null}async#R($){let Q=await NX($,this),J=Q.tag,X=this.#$.get(J);if(!X)X={subscriber:this._getSubscriber(Q),tag:J,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#$.set(J,X);return X}async on($,Q){let J=await this.#R($);if(J.listeners.push({listener:Q,once:!1}),!J.started){if(J.subscriber.start(),J.started=!0,this.#J!=null)J.subscriber.pause(this.#J)}return this}async once($,Q){let J=await this.#R($);if(J.listeners.push({listener:Q,once:!0}),!J.started){if(J.subscriber.start(),J.started=!0,this.#J!=null)J.subscriber.pause(this.#J)}return this}async emit($,...Q){let J=await this.#H($,Q);if(!J||J.listeners.length===0)return!1;let X=J.listeners.length;if(J.listeners=J.listeners.filter(({listener:Y,once:Z})=>{let z=new e$(this,Z?null:Y,$);try{Y.call(this,...Q,z)}catch(K){}return!Z}),J.listeners.length===0){if(J.started)J.subscriber.stop();this.#$.delete(J.tag)}return X>0}async listenerCount($){if($){let J=await this.#H($);if(!J)return 0;return J.listeners.length}let Q=0;for(let{listeners:J}of this.#$.values())Q+=J.length;return Q}async listeners($){if($){let J=await this.#H($);if(!J)return[];return J.listeners.map(({listener:X})=>X)}let Q=[];for(let{listeners:J}of this.#$.values())Q=Q.concat(J.map(({listener:X})=>X));return Q}async off($,Q){let J=await this.#H($);if(!J)return this;if(Q){let X=J.listeners.map(({listener:Y})=>Y).indexOf(Q);if(X>=0)J.listeners.splice(X,1)}if(!Q||J.listeners.length===0){if(J.started)J.subscriber.stop();this.#$.delete(J.tag)}return this}async removeAllListeners($){if($){let{tag:Q,started:J,subscriber:X}=await this.#R($);if(J)X.stop();this.#$.delete(Q)}else for(let[Q,{started:J,subscriber:X}]of this.#$){if(J)X.stop();this.#$.delete(Q)}return this}async addListener($,Q){return await this.on($,Q)}async removeListener($,Q){return this.off($,Q)}get destroyed(){return this.#X}destroy(){this.removeAllListeners();for(let $ of this.#W.keys())this._clearTimeout($);this.#X=!0}get paused(){return this.#J!=null}set paused($){if(!!$===this.paused)return;if(this.paused)this.resume();else this.pause(!1)}pause($){if(this.#K=-1,this.#J!=null){if(this.#J==!!$)return;R(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((Q)=>Q.pause($)),this.#J=!!$;for(let Q of this.#W.values()){if(Q.timer)clearTimeout(Q.timer);Q.time=SX()-Q.time}}resume(){if(this.#J==null)return;this._forEachSubscriber(($)=>$.resume()),this.#J=null;for(let $ of this.#W.values()){let Q=$.time;if(Q<0)Q=0;$.time=SX(),setTimeout($.func,Q)}}}function q5($,Q){try{let J=EX($,Q);if(J)return U$(J)}catch(J){}return null}function EX($,Q){if($==="0x")return null;try{let J=k(o($,Q,Q+32)),X=k(o($,J,J+32));return o($,J+32,J+32+X)}catch(J){}return null}function kZ($){let Q=G0($);if(Q.length>32)throw new Error("internal; should not happen");let J=new Uint8Array(32);return J.set(Q,32-Q.length),J}function I5($){if($.length%32===0)return $;let Q=new Uint8Array(Math.ceil($.length/32)*32);return Q.set($),Q}var H5=new Uint8Array([]);function R5($){let Q=[],J=0;for(let X=0;X<$.length;X++)Q.push(H5),J+=32;for(let X=0;X<$.length;X++){let Y=_($[X]);Q[X]=kZ(J),Q.push(kZ(Y.length)),Q.push(I5(Y)),J+=32+Math.ceil(Y.length/32)*32}return p(Q)}var fZ="0x0000000000000000000000000000000000000000000000000000000000000000";function C5($){let Q={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};R(s0($)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let J=o($,0,32);R(o(J,0,12)===o(fZ,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),Q.sender=o(J,12);try{let X=[],Y=k(o($,32,64)),Z=k(o($,Y,Y+32)),z=o($,Y+32);for(let K=0;K<Z;K++){let G=q5(z,K*32);if(G==null)throw new Error("abort");X.push(G)}Q.urls=X}catch(X){R(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let X=EX($,64);if(X==null)throw new Error("abort");Q.calldata=X}catch(X){R(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}R(o($,100,128)===o(fZ,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),Q.selector=o($,96,100);try{let X=EX($,128);if(X==null)throw new Error("abort");Q.extraData=X}catch(X){R(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return Q.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((X)=>Q[X]),Q}function C8($,Q){if($.provider)return $.provider;R(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:Q})}async function hZ($,Q){let J=A$(Q);if(J.to!=null)J.to=W0(J.to,$);if(J.from!=null){let X=J.from;J.from=Promise.all([$.getAddress(),W0(X,$)]).then(([Y,Z])=>{return O(Y.toLowerCase()===Z.toLowerCase(),"transaction from mismatch","tx.from",Z),Y})}else J.from=$.getAddress();return await J0(J)}class n8{provider;constructor($){E(this,{provider:$||null})}async getNonce($){return C8(this,"getTransactionCount").getTransactionCount(await this.getAddress(),$)}async populateCall($){return await hZ(this,$)}async populateTransaction($){let Q=C8(this,"populateTransaction"),J=await hZ(this,$);if(J.nonce==null)J.nonce=await this.getNonce("pending");if(J.gasLimit==null)J.gasLimit=await this.estimateGas(J);let X=await this.provider.getNetwork();if(J.chainId!=null){let Z=T(J.chainId);O(Z===X.chainId,"transaction chainId mismatch","tx.chainId",$.chainId)}else J.chainId=X.chainId;let Y=J.maxFeePerGas!=null||J.maxPriorityFeePerGas!=null;if(J.gasPrice!=null&&(J.type===2||Y))O(!1,"eip-1559 transaction do not support gasPrice","tx",$);else if((J.type===0||J.type===1)&&Y)O(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",$);if((J.type===2||J.type==null)&&(J.maxFeePerGas!=null&&J.maxPriorityFeePerGas!=null))J.type=2;else if(J.type===0||J.type===1){let Z=await Q.getFeeData();if(R(Z.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),J.gasPrice==null)J.gasPrice=Z.gasPrice}else{let Z=await Q.getFeeData();if(J.type==null)if(Z.maxFeePerGas!=null&&Z.maxPriorityFeePerGas!=null)if(J.type=2,J.gasPrice!=null){let z=J.gasPrice;delete J.gasPrice,J.maxFeePerGas=z,J.maxPriorityFeePerGas=z}else{if(J.maxFeePerGas==null)J.maxFeePerGas=Z.maxFeePerGas;if(J.maxPriorityFeePerGas==null)J.maxPriorityFeePerGas=Z.maxPriorityFeePerGas}else if(Z.gasPrice!=null){if(R(!Y,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),J.gasPrice==null)J.gasPrice=Z.gasPrice;J.type=0}else R(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else if(J.type===2||J.type===3){if(J.maxFeePerGas==null)J.maxFeePerGas=Z.maxFeePerGas;if(J.maxPriorityFeePerGas==null)J.maxPriorityFeePerGas=Z.maxPriorityFeePerGas}}return await J0(J)}async estimateGas($){return C8(this,"estimateGas").estimateGas(await this.populateCall($))}async call($){return C8(this,"call").call(await this.populateCall($))}async resolveName($){return await C8(this,"resolveName").resolveName($)}async sendTransaction($){let Q=C8(this,"sendTransaction"),J=await this.populateTransaction($);delete J.from;let X=_0.from(J);return await Q.broadcastTransaction(await this.signTransaction(X))}}class BX extends n8{address;constructor($,Q){super(Q);E(this,{address:$})}async getAddress(){return this.address}connect($){return new BX(this.address,$)}#$($,Q){R(!1,`VoidSigner cannot sign ${$}`,"UNSUPPORTED_OPERATION",{operation:Q})}async signTransaction($){this.#$("transactions","signTransaction")}async signMessage($){this.#$("messages","signMessage")}async signTypedData($,Q,J){this.#$("typed-data","signTypedData")}}function L5($){return JSON.parse(JSON.stringify($))}class AX{#$;#Q;#J;#X;#Y;#z;constructor($){this.#$=$,this.#Q=null,this.#J=this.#Z.bind(this),this.#X=!1,this.#Y=null,this.#z=!1}_subscribe($){throw new Error("subclasses must override this")}_emitResults($,Q){throw new Error("subclasses must override this")}_recover($){throw new Error("subclasses must override this")}async#Z($){try{if(this.#Q==null)this.#Q=this._subscribe(this.#$);let Q=null;try{Q=await this.#Q}catch(Y){if(!r(Y,"UNSUPPORTED_OPERATION")||Y.operation!=="eth_newFilter")throw Y}if(Q==null){this.#Q=null,this.#$._recoverSubscriber(this,this._recover(this.#$));return}let J=await this.#$.getNetwork();if(!this.#Y)this.#Y=J;if(this.#Y.chainId!==J.chainId)throw new Error("chaid changed");if(this.#z)return;let X=await this.#$.send("eth_getFilterChanges",[Q]);await this._emitResults(this.#$,X)}catch(Q){console.log("@TODO",Q)}this.#$.once("block",this.#J)}#K(){let $=this.#Q;if($)this.#Q=null,$.then((Q)=>{if(this.#$.destroyed)return;this.#$.send("eth_uninstallFilter",[Q])})}start(){if(this.#X)return;this.#X=!0,this.#Z(-2)}stop(){if(!this.#X)return;this.#X=!1,this.#z=!0,this.#K(),this.#$.off("block",this.#J)}pause($){if($)this.#K();this.#$.off("block",this.#J)}resume(){this.start()}}class PX extends AX{#$;constructor($,Q){super($);this.#$=L5(Q)}_recover($){return new i$($,this.#$)}async _subscribe($){return await $.send("eth_newFilter",[this.#$])}async _emitResults($,Q){for(let J of Q)$.emit(this.#$,$._wrapLog(J,$._network))}}class wX extends AX{async _subscribe($){return await $.send("eth_newPendingTransactionFilter",[])}async _emitResults($,Q){for(let J of Q)$.emit("pending",J)}}var N5="bigint,boolean,function,number,string,symbol".split(/,/g);function dQ($){if($==null||N5.indexOf(typeof $)>=0)return $;if(typeof $.getAddress==="function")return $;if(Array.isArray($))return $.map(dQ);if(typeof $==="object")return Object.keys($).reduce((Q,J)=>{return Q[J]=$[J],Q},{});throw new Error(`should not happen: ${$} (${typeof $})`)}function S5($){return new Promise((Q)=>{setTimeout(Q,$)})}function L8($){if($)return $.toLowerCase();return $}function bZ($){return $&&typeof $.pollingInterval==="number"}var yZ={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4000};class o8 extends n8{address;constructor($,Q){super($);Q=h(Q),E(this,{address:Q})}connect($){R(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction($){return await this.populateCall($)}async sendUncheckedTransaction($){let Q=dQ($),J=[];if(Q.from){let Y=Q.from;J.push((async()=>{let Z=await W0(Y,this.provider);O(Z!=null&&Z.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Q.from=Z})())}else Q.from=this.address;if(Q.gasLimit==null)J.push((async()=>{Q.gasLimit=await this.provider.estimateGas({...Q,from:this.address})})());if(Q.to!=null){let Y=Q.to;J.push((async()=>{Q.to=await W0(Y,this.provider)})())}if(J.length)await Promise.all(J);let X=this.provider.getRpcTransaction(Q);return this.provider.send("eth_sendTransaction",[X])}async sendTransaction($){let Q=await this.provider.getBlockNumber(),J=await this.sendUncheckedTransaction($);return await new Promise((X,Y)=>{let Z=[1000,100],z=0,K=async()=>{try{let G=await this.provider.getTransaction(J);if(G!=null){X(G.replaceableTransaction(Q));return}}catch(G){if(r(G,"CANCELLED")||r(G,"BAD_DATA")||r(G,"NETWORK_ERROR")||r(G,"UNSUPPORTED_OPERATION")){if(G.info==null)G.info={};G.info.sendTransactionHash=J,Y(G);return}if(r(G,"INVALID_ARGUMENT")){if(z++,G.info==null)G.info={};if(G.info.sendTransactionHash=J,z>10){Y(G);return}}this.provider.emit("error",i("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:G}))}this.provider._setTimeout(()=>{K()},Z.pop()||4000)};K()})}async signTransaction($){let Q=dQ($);if(Q.from){let X=await W0(Q.from,this.provider);O(X!=null&&X.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",$),Q.from=X}else Q.from=this.address;let J=this.provider.getRpcTransaction(Q);return await this.provider.send("eth_signTransaction",[J])}async signMessage($){let Q=typeof $==="string"?C0($):$;return await this.provider.send("personal_sign",[L(Q),this.address.toLowerCase()])}async signTypedData($,Q,J){let X=dQ(J),Y=await L0.resolveNames($,Q,X,async(Z)=>{let z=await W0(Z);return O(z!=null,"TypedData does not support null address","value",Z),z});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(L0.getPayload(Y.domain,Q,Y.value))])}async unlock($){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),$,null])}async _legacySignMessage($){let Q=typeof $==="string"?C0($):$;return await this.provider.send("eth_sign",[this.address.toLowerCase(),L(Q)])}}class _X extends cQ{#$;#Q;#J;#X;#Y;#z;#Z;#K(){if(this.#X)return;let $=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");this.#X=setTimeout(()=>{this.#X=null;let Q=this.#J;this.#J=[];while(Q.length){let J=[Q.shift()];while(Q.length){if(J.length===this.#$.batchMaxCount)break;if(J.push(Q.shift()),JSON.stringify(J.map((Y)=>Y.payload)).length>this.#$.batchMaxSize){Q.unshift(J.pop());break}}(async()=>{let X=J.length===1?J[0].payload:J.map((Y)=>Y.payload);this.emit("debug",{action:"sendRpcPayload",payload:X});try{let Y=await this._send(X);this.emit("debug",{action:"receiveRpcResult",result:Y});for(let{resolve:Z,reject:z,payload:K}of J){if(this.destroyed){z(i("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:K.method}));continue}let G=Y.filter((V)=>V.id===K.id)[0];if(G==null){let V=i("missing response for request","BAD_DATA",{value:Y,info:{payload:K}});this.emit("error",V),z(V);continue}if("error"in G){z(this.getRpcError(K,G));continue}Z(G.result)}}catch(Y){this.emit("debug",{action:"receiveRpcError",error:Y});for(let{reject:Z}of J)Z(Y)}})()}},$)}constructor($,Q){super($,Q);this.#Q=1,this.#$=Object.assign({},yZ,Q||{}),this.#J=[],this.#X=null,this.#z=null,this.#Z=null;{let X=null,Y=new Promise((Z)=>{X=Z});this.#Y={promise:Y,resolve:X}}let J=this._getOption("staticNetwork");if(typeof J==="boolean"){if(O(!J||$!=="any","staticNetwork cannot be used on special network 'any'","options",Q),J&&$!=null)this.#z=R0.from($)}else if(J)O($==null||J.matches($),"staticNetwork MUST match network object","options",Q),this.#z=J}_getOption($){return this.#$[$]}get _network(){return R(this.#z,"network is not available yet","NETWORK_ERROR"),this.#z}async _perform($){if($.method==="call"||$.method==="estimateGas"){let J=$.transaction;if(J&&J.type!=null&&T(J.type)){if(J.maxFeePerGas==null&&J.maxPriorityFeePerGas==null){let X=await this.getFeeData();if(X.maxFeePerGas==null&&X.maxPriorityFeePerGas==null)$=Object.assign({},$,{transaction:Object.assign({},J,{type:void 0})})}}}let Q=this.getRpcRequest($);if(Q!=null)return await this.send(Q.method,Q.args);return super._perform($)}async _detectNetwork(){let $=this._getOption("staticNetwork");if($)if($===!0){if(this.#z)return this.#z}else return $;if(this.#Z)return await this.#Z;if(this.ready)return this.#Z=(async()=>{try{let Q=R0.from(T(await this.send("eth_chainId",[])));return this.#Z=null,Q}catch(Q){throw this.#Z=null,Q}})(),await this.#Z;return this.#Z=(async()=>{let Q={id:this.#Q++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:Q});let J;try{J=(await this._send(Q))[0],this.#Z=null}catch(X){throw this.#Z=null,this.emit("debug",{action:"receiveRpcError",error:X}),X}if(this.emit("debug",{action:"receiveRpcResult",result:J}),"result"in J)return R0.from(T(J.result));throw this.getRpcError(Q,J)})(),await this.#Z}_start(){if(this.#Y==null||this.#Y.resolve==null)return;this.#Y.resolve(),this.#Y=null,(async()=>{while(this.#z==null&&!this.destroyed)try{this.#z=await this._detectNetwork()}catch($){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",i("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:$}})),await S5(1000)}this.#K()})()}async _waitUntilReady(){if(this.#Y==null)return;return await this.#Y.promise}_getSubscriber($){if($.type==="pending")return new wX(this);if($.type==="event"){if(this._getOption("polling"))return new i$(this,$.filter);return new PX(this,$.filter)}if($.type==="orphan"&&$.filter.orphan==="drop-log")return new l8("orphan");return super._getSubscriber($)}get ready(){return this.#Y==null}getRpcTransaction($){let Q={};if(["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((J)=>{if($[J]==null)return;let X=J;if(J==="gasLimit")X="gas";Q[X]=r0(T($[J],`tx.${J}`))}),["from","to","data"].forEach((J)=>{if($[J]==null)return;Q[J]=L($[J])}),$.accessList)Q.accessList=F0($.accessList);if($.blobVersionedHashes)Q.blobVersionedHashes=$.blobVersionedHashes.map((J)=>J.toLowerCase());return Q}getRpcRequest($){switch($.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[L8($.address),$.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[L8($.address),$.blockTag]};case"getCode":return{method:"eth_getCode",args:[L8($.address),$.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[L8($.address),"0x"+$.position.toString(16),$.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[$.signedTransaction]};case"getBlock":if("blockTag"in $)return{method:"eth_getBlockByNumber",args:[$.blockTag,!!$.includeTransactions]};else if("blockHash"in $)return{method:"eth_getBlockByHash",args:[$.blockHash,!!$.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[$.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[$.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction($.transaction),$.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction($.transaction)]};case"getLogs":if($.filter&&$.filter.address!=null)if(Array.isArray($.filter.address))$.filter.address=$.filter.address.map(L8);else $.filter.address=L8($.filter.address);return{method:"eth_getLogs",args:[$.filter]}}return null}getRpcError($,Q){let{method:J}=$,{error:X}=Q;if(J==="eth_estimateGas"&&X.message){let z=X.message;if(!z.match(/revert/i)&&z.match(/insufficient funds/i))return i("insufficient funds","INSUFFICIENT_FUNDS",{transaction:$.params[0],info:{payload:$,error:X}})}if(J==="eth_call"||J==="eth_estimateGas"){let z=jX(X),K=W$.getBuiltinCallException(J==="eth_call"?"call":"estimateGas",$.params[0],z?z.data:null);return K.info={error:X,payload:$},K}let Y=JSON.stringify(T5(X));if(typeof X.message==="string"&&X.message.match(/user denied|ethers-user-denied/i))return i("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[J]||"unknown",reason:"rejected",info:{payload:$,error:X}});if(J==="eth_sendRawTransaction"||J==="eth_sendTransaction"){let z=$.params[0];if(Y.match(/insufficient funds|base fee exceeds gas limit/i))return i("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:z,info:{error:X}});if(Y.match(/nonce/i)&&Y.match(/too low/i))return i("nonce has already been used","NONCE_EXPIRED",{transaction:z,info:{error:X}});if(Y.match(/replacement transaction/i)&&Y.match(/underpriced/i))return i("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:z,info:{error:X}});if(Y.match(/only replay-protected/i))return i("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:J,info:{transaction:z,info:{error:X}}})}let Z=!!Y.match(/the method .* does not exist/i);if(!Z){if(X&&X.details&&X.details.startsWith("Unauthorized method:"))Z=!0}if(Z)return i("unsupported operation","UNSUPPORTED_OPERATION",{operation:$.method,info:{error:X,payload:$}});return i("could not coalesce error","UNKNOWN_ERROR",{error:X,payload:$})}send($,Q){if(this.destroyed)return Promise.reject(i("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$}));let J=this.#Q++,X=new Promise((Y,Z)=>{this.#J.push({resolve:Y,reject:Z,payload:{method:$,params:Q,id:J,jsonrpc:"2.0"}})});return this.#K(),X}async getSigner($){if($==null)$=0;let Q=this.send("eth_accounts",[]);if(typeof $==="number"){let X=await Q;if($>=X.length)throw new Error("no such account");return new o8(this,X[$])}let{accounts:J}=await J0({network:this.getNetwork(),accounts:Q});$=h($);for(let X of J)if(h(X)===$)return new o8(this,$);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((Q)=>new o8(this,Q))}destroy(){if(this.#X)clearTimeout(this.#X),this.#X=null;for(let{payload:$,reject:Q}of this.#J)Q(i("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:$.method}));this.#J=[],super.destroy()}}class pQ extends _X{#$;constructor($,Q){super($,Q);let J=this._getOption("pollingInterval");if(J==null)J=yZ.pollingInterval;this.#$=J}_getSubscriber($){let Q=super._getSubscriber($);if(bZ(Q))Q.pollingInterval=this.#$;return Q}get pollingInterval(){return this.#$}set pollingInterval($){if(!Number.isInteger($)||$<0)throw new Error("invalid interval");this.#$=$,this._forEachSubscriber((Q)=>{if(bZ(Q))Q.pollingInterval=this.#$})}}class vZ extends pQ{#$;constructor($,Q,J){if($==null)$="http://localhost:8545";super(Q,J);if(typeof $==="string")this.#$=new E0($);else this.#$=$.clone()}_getConnection(){return this.#$.clone()}async send($,Q){return await this._start(),await super.send($,Q)}async _send($){let Q=this._getConnection();Q.body=JSON.stringify($),Q.setHeader("content-type","application/json");let J=await Q.send();J.assertOk();let X=J.bodyJson;if(!Array.isArray(X))X=[X];return X}}function jX($){if($==null)return null;if(typeof $.message==="string"&&$.message.match(/revert/i)&&y($.data))return{message:$.message,data:$.data};if(typeof $==="object"){for(let Q in $){let J=jX($[Q]);if(J)return J}return null}if(typeof $==="string")try{return jX(JSON.parse($))}catch(Q){}return null}function FX($,Q){if($==null)return;if(typeof $.message==="string")Q.push($.message);if(typeof $==="object")for(let J in $)FX($[J],Q);if(typeof $==="string")try{return FX(JSON.parse($),Q)}catch(J){}}function T5($){let Q=[];return FX($,Q),Q}class s8 extends pQ{#$;constructor($,Q,J){let X=Object.assign({},J!=null?J:{},{batchMaxCount:1});O($&&$.request,"invalid EIP-1193 provider","ethereum",$);super(Q,X);this.#$=async(Y,Z)=>{let z={method:Y,params:Z};this.emit("debug",{action:"sendEip1193Request",payload:z});try{let K=await $.request(z);return this.emit("debug",{action:"receiveEip1193Result",result:K}),K}catch(K){let G=new Error(K.message);throw G.code=K.code,G.data=K.data,G.payload=z,this.emit("debug",{action:"receiveEip1193Error",error:G}),G}}}async send($,Q){return await this._start(),await super.send($,Q)}async _send($){O(!Array.isArray($),"EIP-1193 does not support batch request","payload",$);try{let Q=await this.#$($.method,$.params||[]);return[{id:$.id,result:Q}]}catch(Q){return[{id:$.id,error:{code:Q.code,data:Q.data,message:Q.message}}]}}getRpcError($,Q){switch(Q=JSON.parse(JSON.stringify(Q)),Q.error.code||-1){case 4001:Q.error.message=`ethers-user-denied: ${Q.error.message}`;break;case 4200:Q.error.message=`ethers-unsupported: ${Q.error.message}`;break}return super.getRpcError($,Q)}async hasSigner($){if($==null)$=0;let Q=await this.send("eth_accounts",[]);if(typeof $==="number")return Q.length>$;return $=$.toLowerCase(),Q.filter((J)=>J.toLowerCase()===$).length!==0}async getSigner($){if($==null)$=0;if(!await this.hasSigner($))try{await this.#$("eth_requestAccounts",[])}catch(Q){let J=Q.payload;throw this.getRpcError(J,{id:J.id,error:Q})}return await super.getSigner($)}}import{AddressPurpose as f5,BitcoinNetworkType as cZ,getAddress as h5,signTransaction as b5}from"sats-connect";export*from"@passkeys/react";export*from"@passkeys/core";var y5=[...E5,l0.Bitcoin],v5=async({ethereumWindowProvider:$,walletProvider:Q,chain:J,ethplorerApiKey:X,covalentApiKey:Y,blockchairApiKey:Z,rpcUrl:z,apis:K})=>{switch(J){case l0.Bitcoin:{let G=K?.[J],V=x5({rpcUrl:z,apiKey:Z,apiClient:G}),W="",M=()=>new Promise((q)=>q(Q)),U={getProvider:M,payload:{purposes:[f5.Payment],message:"Address for receiving and sending payments",network:{type:cZ.Mainnet}},onFinish:(q)=>{if(!q.addresses[0])throw Error("No address found");W=q.addresses[0].address},onCancel:()=>{throw Error("Request canceled")}};await h5(U);async function I(q){let H,C={getProvider:M,payload:{message:"Sign transaction",network:{type:cZ.Mainnet},psbtBase64:q.toBase64(),broadcast:!1,inputsToSign:[{address:W,signingIndexes:q.txInputs.map((N,F)=>F)}]},onFinish:(N)=>{H=k5.fromBase64(N.psbtBase64)},onCancel:()=>{throw Error("Signature canceled")}};return await b5(C),H}return{...V,transfer:(q)=>{return V.transfer({...q,signTransaction:I})},address:W}}case l0.Arbitrum:case l0.Avalanche:case l0.Base:case l0.BinanceSmartChain:case l0.Ethereum:case l0.Optimism:case l0.Polygon:{if(!$)throw new Error("Requested web3 wallet is not installed");let G=K?.[J],V=A5({chain:J,nonEthApiKey:Y,ethApiKey:X}),W=F5(J),M=Q;await M.send("eth_requestAccounts",[]);let U=await M.getSigner(),I=await U.getAddress(),D=_5(J)({api:G,apiKey:V,provider:W,signer:U});try{J!==l0.Ethereum&&await j5(M,gZ[J],D.getNetworkParams())}catch(q){throw new Error(`Failed to add/switch ${J} network: ${J}`)}return{address:I,...P5({toolbox:D,chainId:gZ[J],provider:M})}}default:throw new Error(`Unsupported chain: ${J}`)}};function g5({addChain:$,config:{covalentApiKey:Q,ethplorerApiKey:J,thorswapApiKey:X}}){return async function Y(Z,z){if(!z)throw new Error("Missing Exodus Wallet instance");w5({apiKey:X});let K=B5(Z,y5,mZ.EXODUS),{providers:G}=z,V=K.map(async(W)=>{let M=W===l0.Bitcoin?G.bitcoin:new s8(G.ethereum,"any"),{address:U,...I}=await v5({chain:W,ethplorerApiKey:J,covalentApiKey:Q,ethereumWindowProvider:G.ethereum,walletProvider:M});$({...I,disconnect:()=>M.send("wallet_revokePermissions",[{eth_accounts:{}}]),chain:W,address:U,getBalance:async(H=!0)=>I.getBalance(U,H),balance:[],walletType:mZ.EXODUS});return});return await Promise.all(V),!0}}var U6={connectExodusWallet:g5};export{v5 as getWalletMethods,U6 as exodusWallet,y5 as EXODUS_SUPPORTED_CHAINS};

//# debugId=750D97BB96ECB22C64756E2164756E21
