var u=Object.create;var{getPrototypeOf:P,defineProperty:p,getOwnPropertyNames:C}=Object;var h=Object.prototype.hasOwnProperty;var A=(t,e,o)=>{o=t!=null?u(P(t)):{};let s=e||!t||!t.__esModule?p(o,"default",{value:t,enumerable:!0}):o;for(let n of C(t))if(!h.call(s,n))p(s,n,{get:()=>t[n],enumerable:!0});return s};var _=((t)=>typeof require!=="undefined"?require:typeof Proxy!=="undefined"?new Proxy(t,{get:(e,o)=>(typeof require!=="undefined"?require:e)[o]}):t)(function(t){if(typeof require!=="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});import{Chain as y,WalletOption as m,filterSupportedChains as K,setRequestClientConfig as b}from"@swapkit/helpers";import{Chain as g,SwapKitError as i,WalletOption as w}from"@swapkit/helpers";import{decodeAddress as O,encodeAddress as W}from"@polkadot/util-crypto";var x=(t,e)=>{let o=O(t);return W(o,e)},f=async({chain:t})=>{switch(t){case g.Polkadot:{let{getToolboxByChain:e}=await import("@swapkit/toolbox-substrate"),n=await window?.injectedWeb3?.["polkadot-js"]?.enable?.("polkadot-js");if(!n)throw new i({errorKey:"wallet_polkadot_not_found",info:{chain:t}});let a=await e(t,{signer:n.signer}),r=await n.accounts.get();if(!r[0]?.address)throw new i({errorKey:"wallet_missing_params",info:{wallet:w.POLKADOT_JS,accounts:r,address:r[0]?.address}});let d=r[0].address,l=x(d,0);return{walletMethods:{...a,getAddress:()=>l},address:l}}default:throw new i({errorKey:"wallet_chain_not_supported",info:{chain:t,wallet:w.POLKADOT_JS}})}};var j=[y.Polkadot];function k({addChain:t,config:{thorswapApiKey:e}}){return async function o(s){b({apiKey:e});let a=K(s,j,m.POLKADOT_JS).map(async(r)=>{let{address:d,walletMethods:c}=await f({chain:r});t({...c,address:d,chain:r,balance:[],walletType:m.POLKADOT_JS})});return await Promise.all(a),!0}}var v={connectPolkadotJs:k};export{v as polkadotWallet};

//# debugId=0EFD2E72819EF5EC64756E2164756E21
